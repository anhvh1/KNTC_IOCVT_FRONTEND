"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[6047],{74405:(e,a,n)=>{n.d(a,{$:()=>s,A:()=>h});var t,i=n(26418),l=n(57528),r=n(22953),o=n(6535);const c=(e=>(0,r.Ay)(e)(t||(t=(0,l.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,o.palette)("text",1),(0,o.palette)("primary",0),(0,o.palette)("primary",0),(0,o.palette)("primary",0),(0,o.palette)("primary",0)))(i.A),s=i.A.Group,h=c},2637:(e,a,n)=>{n.d(a,{A:()=>c});n(82483);var t,i=n(57528),l=n(22953);n(6535);const r=l.Ay.div(t||(t=(0,i.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var o=n(56723);const c=e=>(0,o.jsx)(r,{className:"wrapper-top",children:e.children})},67466:(e,a,n)=>{n.d(a,{D:()=>i});var t=n(82483);function i(e){const[a,n]=(0,t.useState)(0);return[a,()=>{n(a+1)}]}},76047:(e,a,n)=>{n.r(a),n.d(a,{default:()=>q});var t=n(72741),i=n(93445),l=n(256),r=n(51711),o=n(82483),c=n(82402),s=n(53660),h=n(34045),d=n(81538),u=n(64684),g=n(67353),m=n(53615),y=n(65828),A=n(74405),p=n(18570),x=n(67466),E=n(92378),T=n(51751),D=n(84684);const v={danhsachcauhinhnoidungemail:D.Ay.v2Url+"QuanLyCauHinhNoiDungEmail/GetListPaging",chitietemail:D.Ay.v2Url+"QuanLyCauHinhNoiDungEmail/GetByID",capnhatemail:D.Ay.v2Url+"QuanLyCauHinhNoiDungEmail/Save",xoaemail:D.Ay.v2Url+"QuanLyCauHinhNoiDungEmail/Delete",danhsachloaiemail:D.Ay.v2Url+"QuanLyCauHinhNoiDungEmail/DMLoaiEmail"},N={DanhSachEmail:e=>(0,T.vk)(v.danhsachcauhinhnoidungemail,{...e,PageNumber:e.PageNumber?e.PageNumber:1,PageSize:e.PageSize?e.PageSize:(0,p.WT)()}),DanhSachLoaiEmail:e=>(0,T.vk)(v.danhsachloaiemail,{...e}),ChiTietEmail:e=>(0,T.vk)(v.chitietemail,{...e}),CapNhatEmail:e=>(0,T.zO)(v.capnhatemail,{...e}),XoaEmail:e=>(0,T.zO)(v.xoaemail,e)};var S=n(94690),b=n.n(S),k=n(33713),j=n(79948),f=n(26418),C=n(30180),L=n(24028),w=n(56723);const{Item:I,useForm:M}=j.A,P=e=>{const[a,n]=(0,o.useState)(!0),[t]=M(),[i,l]=(0,o.useState)(!0),{dataEdit:r,loading:c,visible:s,action:h,DanhSachLoaiEmail:d}=e;(0,o.useEffect)((()=>{r&&r.EmailID&&(t&&t.setFieldsValue({...r,Active:r.Active?1:0,NgayTao:r.NgayTao?b()(r.NgayTao):null}),l(r.Active))}),[]);return(0,w.jsx)(y.aF,{title:"".concat("edit"===h?"S\u1eeda th\xf4ng tin email":"Th\xeam m\u1edbi th\xf4ng tin email"),width:600,visible:s,onCancel:e.onCancel,footer:[(0,w.jsx)(y.$n,{onClick:e.onCancel,children:"H\u1ee7y"},"back"),(0,w.jsx)(y.$n,{htmlType:"submit",type:"primary",form:"formthamsohethong",loading:c,onClick:async a=>{a.preventDefault();const n=await t.validateFields();n.NgayTao=(0,p.Yq)(n.NgayTao),(0,p.oy)(n),e.onCreate({...n,Active:i})},children:"L\u01b0u"},"submit")],children:(0,w.jsxs)(j.A,{form:t,name:"formthamsohethong",onChange:async(e,a)=>{const i=await t.getFieldsValue(),{ConfigKey:l,ConfigValue:r}=i;n(!l||!r)},children:["edit"===h?(0,w.jsx)(I,{name:"EmailID",hidden:!0}):"",(0,w.jsx)(I,{label:"Ng\xe0y t\u1ea1o",name:"NgayTao",...k.ITEM_LAYOUT,rules:[k.REQUIRED],children:(0,w.jsx)(C.A,{format:"DD/MM/YYYY"})}),(0,w.jsx)(I,{label:"Lo\u1ea1i Email",name:"LoaiEmailID",...k.ITEM_LAYOUT,rules:[k.REQUIRED],children:(0,w.jsx)(y.l6,{children:d?d.map((e=>(0,w.jsx)(y.c$,{value:e.LoaiEmailID,children:e.TenEmail}))):null})}),(0,w.jsx)(I,{label:"N\u1ed9i dung",name:"NoiDungEmail",...k.ITEM_LAYOUT,children:(0,w.jsx)(L.A,{})}),(0,w.jsx)(I,{label:"S\u1eed d\u1ee5ng",name:"Active",...k.ITEM_LAYOUT,children:(0,w.jsx)(f.A,{checked:i,onChange:e=>l(e.target.checked),children:"S\u1eed d\u1ee5ng"})})]})})};var z=n(21428),Y=n(38674),Q=n(2782),U=n(2637);const q=(0,c.Ng)((function(e){return{...e.QuyetDinhGiaiQuyet,role:(0,p.vh)(e.Auth.role,"quyet-dinh-giai-quyet")}}),r.A)((e=>{document.title="Quy\u1ebft d\u1ecbnh gi\u1ea3i quy\u1ebft";const[a,n]=(0,o.useState)(E.parse(e.location.search)),[r,c]=(0,o.useState)({}),[T,D]=(0,o.useState)(!1),[v,S]=(0,o.useState)(""),[k,j]=(0,x.D)(),[f,C]=(0,o.useState)([]),[L,I]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(0,p._Y)(a),e.getList(a)}),[a]),(0,o.useEffect)((()=>{e.getList(a),e.getInit(a)}),[]);const M=(e,t)=>{let i=a,l={value:e,property:t},r=(0,p.D5)(i,l,null);n(r),C([])},q=()=>{C([]),c({}),D(!1)},H=r=>(0,w.jsxs)("div",{className:"action-btn",children:[G.edit?(0,w.jsx)(l.A,{title:"S\u1eeda",children:(0,w.jsx)(z.A,{onClick:()=>(e=>{const a=e;S("edit"),N.ChiTietEmail({EmailID:a}).then((e=>{e.data.Status>0?(c(e.data.Data),j(),D(!0)):(i.Ay.destroy(),i.Ay.error(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.error(e.toString())}))})(r.EmailID)})}):"",G.delete?(0,w.jsx)(l.A,{title:"X\xf3a",children:(0,w.jsx)(Y.A,{onClick:()=>{return l=r.EmailID,void t.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a email n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{I(!0),N.XoaEmail({ListID:[l]}).then((t=>{t.data.Status>0?(I(!1),e.getList({...a,PageNumber:Math.ceil((O-1)/a.PageSize)<a.PageNumber?Math.ceil((O-1)/a.PageSize):a.PageNumber}),i.Ay.destroy(),i.Ay.success(t.data.Message),n({...a,PageNumber:Math.ceil((O-1)/a.PageSize)<a.PageNumber?Math.ceil((O-1)/a.PageSize):a.PageNumber})):(i.Ay.destroy(),i.Ay.error(t.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.error(e.toString())}))}});var l}})}):""]}),{DanhSachEmail:K,TotalRow:O,role:G,DanhSachLoaiEmail:V}=e,$=a.PageNumber?parseInt(a.PageNumber):1,F=a.PageSize?parseInt(a.PageSize):(0,p.WT)(),R=e=>{var a;let n="Quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft khi\u1ebfu n\u1ea1i c\u1ee7a";return null===e||void 0===e||null===(a=e.lsDoiTuongKN)||void 0===a||a.forEach(((e,a)=>{const t=1===e.GioiTinh?"\xf4ng":2===e.GioiTinh?"b\xe0":"";n+=a>0?"v\xe0 ".concat(t," ").concat(e.HoTen):"".concat(t," ").concat(e.HoTen)})),n},_=[{title:"STT",width:"5%",align:"center",render:(e,a,n)=>(0,w.jsx)("p",{children:null!==a&&void 0!==a&&a.lsDoiTuongKN?R(a):null})},{title:"T\xean quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft",align:"left",width:"15%",render:(e,a)=>{var n;return a.LoaiEmailID?null===(n=V.find((e=>e.LoaiEmailID===a.LoaiEmailID)))||void 0===n?void 0:n.TenEmail:null}},{title:"Ng\xe0y ti\u1ebfp nh\u1eadn",align:"left",width:"25%",render:(e,a)=>a.NgayTiepNhan?b()(a.NgayTiepNhan).format("DD/MM/YYYY"):null},{title:"N\u1ed9i dung \u0111\u01a1n",dataIndex:"NoiDungEmail",align:"left",width:"35%"},{title:"T\xean c\u01a1 quan ti\u1ebfp nh\u1eadn",align:"center",width:"10%",render:(e,a)=>(0,w.jsx)("p",{children:a.TenCoQuanTiepNhan})},{title:"Tr\u1ea1ng th\xe1i",align:"center",width:"10%",render:(e,a)=>(0,w.jsx)(A.A,{defaultValue:a.TrangThai,onChange:e=>{e.target.checked}})},{title:"Thao t\xe1c",width:"10%",align:"center",render:(e,a)=>H(a)}];return(0,w.jsxs)(s.A,{children:[(0,w.jsxs)(U.A,{children:[(0,w.jsx)(h.A,{children:"Quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft"}),(0,w.jsx)(d.A,{children:G&&G.add?(0,w.jsxs)(y.$n,{type:"primary",onClick:()=>{S("add"),c({}),j(),D(!0)},children:[(0,w.jsx)(Q.A,{}),"Th\xeam M\u1edbi"]}):""})]}),(0,w.jsxs)(u.A,{children:[(0,w.jsxs)(g.A,{children:[(0,w.jsx)(y.l6,{style:{width:"200px"},defaultValue:a.LoaiEmailID,placeholder:"Ch\u1ecdn lo\u1ea1i email",allowClear:!0,onChange:e=>M(e,"LoaiEmailID"),children:V?V.map((e=>(0,w.jsx)(y.c$,{value:e.LoaiEmailID,children:e.TenEmail}))):null}),(0,w.jsx)(y.NJ,{defaultValue:a.Keyword,placeholder:"T\xecm ki\u1ebfm theo n\u1ed9i dung",style:{width:300},onSearch:e=>M(e,"Keyword"),allowClear:!0})]}),(0,w.jsx)(m.Ay,{columns:_,dataSource:K,onChange:(e,t,i)=>{let l=a,r={pagination:e,filters:t,sorter:i},o=(0,p.D5)(l,null,r);n(o),C([])},pagination:{showSizeChanger:!0,showTotal:(e,a)=>"T\u1eeb ".concat(a[0]," \u0111\u1ebfn ").concat(a[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:O,current:$,pageSize:F},rowKey:e=>e.EmailID})]}),(0,w.jsx)(P,{visible:T,dataEdit:r,action:v,loading:L,onCreate:n=>{I(!0),"add"===v&&N.CapNhatEmail(n).then((n=>{I(!1),n.data.Status>0?(i.Ay.destroy(),i.Ay.success(n.data.Message),q(),e.getList(a)):(I(!1),i.Ay.destroy(),i.Ay.error(n.data.Message))})).catch((e=>{I(!1),i.Ay.destroy(),i.Ay.error(e.toString())})),"edit"===v&&N.CapNhatEmail(n).then((n=>{n.data.Status>0?(I(!1),i.Ay.destroy(),i.Ay.success(n.data.Message),q(),e.getList(a)):(I(!1),i.Ay.destroy(),i.Ay.error(n.data.Message))})).catch((e=>{I(!1),i.Ay.destroy(),i.Ay.error(e.toString())}))},onCancel:q,DanhSachLoaiEmail:V},k)]})}))}}]);