"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[2657],{74405:(e,n,a)=>{a.d(n,{$:()=>l,A:()=>o});var t,r=a(26418),i=a(57528),h=a(22953),c=a(6535);const s=(e=>(0,h.Ay)(e)(t||(t=(0,i.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,c.palette)("text",1),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0)))(r.A),l=r.A.Group,o=s},2637:(e,n,a)=>{a.d(n,{A:()=>s});a(82483);var t,r=a(57528),i=a(22953);a(6535);const h=i.Ay.div(t||(t=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var c=a(56723);const s=e=>(0,c.jsx)(h,{className:"wrapper-top",children:e.children})},67466:(e,n,a)=>{a.d(n,{D:()=>r});var t=a(82483);function r(e){const[n,a]=(0,t.useState)(0);return[n,()=>{a(n+1)}]}},22657:(e,n,a)=>{a.r(n),a.d(n,{default:()=>I});var t=a(72741),r=a(93445),i=a(256),h=a(56754),c=a(82483),s=a(82402),l=a(53660),o=a(34045),d=a(81538),u=a(64684),g=a(67353),T=a(53615),x=a(65828),p=a(18570),A=a(67466),y=a(92378),m=a(78006),b=(a(94690),a(33713)),j=a(79948),k=a(23511),P=a(24028),S=a(56723);const{Item:f,useForm:C}=j.A,K=e=>{const[n]=C(),[a,t]=(0,c.useState)(!0),{dataEdit:r,loading:i,visible:h,action:s}=e,[l,o]=(0,c.useState)();(0,c.useEffect)((()=>{r&&r.PhanTichKQID&&n&&n.setFieldsValue({...r})}),[]);return(0,S.jsx)(x.aF,{title:"".concat("edit"===s?"S\u1eeda":"Th\xeam"," th\xf4ng tin ph\xe2n t\xedch k\u1ebft qu\u1ea3"),width:450,visible:h,onCancel:e.onCancel,footer:[(0,S.jsx)(x.$n,{onClick:e.onCancel,children:"H\u1ee7y"},"back"),(0,S.jsx)(x.$n,{htmlType:"submit",type:"primary",form:"formmonhoc",loading:i,onClick:async a=>{a.preventDefault();const t=await n.validateFields();"edit"===s&&e.onCreate({...t,TrangThai:l||t.TrangThai}),"add"===s&&e.onCreate({...t,TrangThai:void 0===l||l})},disabled:a,children:"L\u01b0u"},"submit")],children:(0,S.jsxs)(j.A,{form:n,name:"formmonhoc",onChange:async(e,a)=>{const i=await n.getFieldsValue(),{MaPhanTichKQ:h,TenPhanTichKQ:c,TrangThai:s,GhiChu:l}=i;h&&c&&(h!==r.MaPhanTichKQ||c!==r.TenPhanTichKQ||s!==r.TrangThai||l!==r.GhiChu)?t(!1):t(!0)},children:["edit"===s?(0,S.jsx)(f,{name:"PhanTichKQID",hidden:!0}):"",(0,S.jsx)(f,{label:"M\xe3 ph\xe2n t\xedch KQ",name:"MaPhanTichKQ",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,S.jsx)(x.mS,{})}),(0,S.jsx)(f,{label:"T\xean ph\xe2n t\xedch KQ",name:"TenPhanTichKQ",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,S.jsx)(x.pd,{})}),(0,S.jsx)(f,{label:"Ghi ch\xfa",name:"GhiChu",...b.ITEM_LAYOUT,children:(0,S.jsx)(P.A,{})}),(0,S.jsx)(f,{label:"\u0110ang s\u1eed d\u1ee5ng",name:"TrangThai",...b.ITEM_LAYOUT,children:(0,S.jsxs)(k.Ay.Group,{onChange:e=>{o(e.target.value)},value:l,defaultValue:!0,children:[(0,S.jsx)(k.Ay,{value:!0,children:"C\xf3"}),(0,S.jsx)(k.Ay,{value:!1,children:"Kh\xf4ng"})]})})]})})};var v=a(21428),w=a(38674),Q=a(2782),M=a(74405),D=a(2637);const I=(0,s.Ng)((function(e){return{...e.DanhMucPhanTichKQ,role:(0,p.vh)(e.Auth.role,"danh-muc-phan-tich-kq")}}),h.A)((e=>{document.title="Danh M\u1ee5c Ph\xe2n T\xedch K\u1ebft Qu\u1ea3";const[n,a]=(0,c.useState)(y.parse(e.location.search)),[h,s]=(0,c.useState)({}),[b,j]=(0,c.useState)(!1),[k,P]=(0,c.useState)(""),[f,C]=(0,A.D)(),[I,N]=(0,c.useState)([]),[E,L]=(0,c.useState)(!1);(0,c.useEffect)((()=>{(0,p._Y)(n),e.getList(n)}),[n]),(0,c.useEffect)((()=>{e.getList(n)}),[]);const z=(e,t)=>{let r=n,i={value:e,property:t},h=(0,p.D5)(r,i,null);a(h),N([])},G=()=>{N([]),s({}),j(!1)},q=h=>(0,S.jsxs)("div",{className:"action-btn",children:[F.edit?(0,S.jsx)(i.A,{title:"S\u1eeda",children:(0,S.jsx)(v.A,{onClick:()=>(e=>{const n=e;P("edit"),m.A.ChiTietPhanTichKQ({PhanTichKQID:n}).then((e=>{e.data.Status>0?(s(e.data.Data),C(),j(!0)):(r.Ay.destroy(),r.Ay.error(e.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))})(h.PhanTichKQID)})}):"",F.delete?(0,S.jsx)(i.A,{title:"X\xf3a",children:(0,S.jsx)(w.A,{onClick:()=>{return i=h.PhanTichKQID,void t.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a k\u1ebft qu\u1ea3 n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{L(!0),m.A.XoaPhanTichKQ(i).then((t=>{t.data.Status>0?(L(!1),e.getList({...n,PageNumber:Math.ceil((U-1)/n.PageSize)<n.PageNumber?Math.ceil((U-1)/n.PageSize):n.PageNumber}),r.Ay.destroy(),r.Ay.success(t.data.Message),a({...n,PageNumber:Math.ceil((U-1)/n.PageSize)<n.PageNumber?Math.ceil((U-1)/n.PageSize):n.PageNumber})):(r.Ay.destroy(),r.Ay.error(t.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))}});var i}})}):""]}),{DanhSachPhanTichKQ:O,TotalRow:U,role:F}=e,R=n.PageNumber?parseInt(n.PageNumber):1,V=n.PageSize?parseInt(n.PageSize):(0,p.WT)(),Y=[{title:"STT",width:"5%",align:"center",render:(e,n,a)=>(0,S.jsx)("span",{children:(R-1)*V+(a+1)})},{title:"M\xe3 ph\xe2n t\xedch k\u1ebft qu\u1ea3",dataIndex:"MaPhanTichKQ",align:"left",width:"15%"},{title:"T\xean ph\xe2n t\xedch k\u1ebft qu\u1ea3",dataIndex:"TenPhanTichKQ",align:"left",width:"25%"},{title:"Ghi ch\xfa",dataIndex:"GhiChu",align:"left",width:"35%"},{title:"\u0110ang s\u1eed d\u1ee5ng",align:"center",width:"10%",render:(e,n)=>(e=>(0,S.jsx)(M.A,{checked:e.TrangThai}))(n)},{title:"Thao t\xe1c",width:"10%",align:"center",render:(e,n)=>q(n)}];return(0,S.jsxs)(l.A,{children:[(0,S.jsxs)(D.A,{children:[(0,S.jsx)(o.A,{children:"Danh M\u1ee5c Ph\xe2n T\xedch K\u1ebft Qu\u1ea3"}),(0,S.jsx)(d.A,{children:F&&F.add?(0,S.jsxs)(x.$n,{type:"primary",onClick:()=>{P("add"),s({}),C(),j(!0)},children:[(0,S.jsx)(Q.A,{}),"Th\xeam M\u1edbi"]}):""})]}),(0,S.jsxs)(u.A,{children:[(0,S.jsxs)(g.A,{children:[(0,S.jsxs)(x.l6,{style:{width:"200px"},defaultValue:n.Status?"true"===n.Status?"\u0110ang s\u1eed d\u1ee5ng":"Kh\xf4ng s\u1eed d\u1ee5ng":void 0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",allowClear:!0,onChange:e=>z(e,"Status"),children:[(0,S.jsx)(Option,{value:!0,children:"\u0110ang s\u1eed d\u1ee5ng"}),(0,S.jsx)(Option,{value:!1,children:"Kh\xf4ng s\u1eed d\u1ee5ng"})]}),(0,S.jsx)(x.NJ,{defaultValue:n.Keyword,placeholder:"Nh\u1eadp m\xe3 ho\u1eb7c t\xean ph\xe2n t\xedch k\u1ebft qu\u1ea3",style:{width:300},onSearch:e=>z(e,"Keyword"),allowClear:!0})]}),(0,S.jsx)(T.Ay,{columns:Y,dataSource:O,onChange:(e,t,r)=>{let i=n,h={pagination:e,filters:t,sorter:r},c=(0,p.D5)(i,null,h);a(c),N([])},pagination:{showSizeChanger:!0,showTotal:(e,n)=>"T\u1eeb ".concat(n[0]," \u0111\u1ebfn ").concat(n[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:U,current:R,pageSize:V}})]}),(0,S.jsx)(K,{visible:b,dataEdit:h,action:k,loading:E,onCreate:a=>{L(!0),"add"===k&&m.A.ThemPhanTichKQ(a).then((a=>{L(!1),a.data.Status>0?(r.Ay.destroy(),r.Ay.success(a.data.Message),G(),e.getList(n)):(L(!1),r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{L(!1),r.Ay.destroy(),r.Ay.error(e.toString())})),"edit"===k&&m.A.CapNhatPhanTichKQ(a).then((a=>{a.data.Status>0?(L(!1),r.Ay.destroy(),r.Ay.success(a.data.Message),G(),e.getList(n)):(L(!1),r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{L(!1),r.Ay.destroy(),r.Ay.error(e.toString())}))},onCancel:G,DanhSachPhanTichKQ:O},f)]})}))}}]);