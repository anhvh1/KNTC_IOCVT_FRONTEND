"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[6212],{87088:(e,n,i)=>{i.d(n,{A:()=>m});var a,t=i(57528),l=i(82483),o=i(79948),s=i(93445),h=i(23511),r=i(2370),d=(i(69973),i(22953)),c=(i(33713),i(65828)),u=(i(54686),i(18570),i(43047)),x=i(56723);const{Item:g}=o.A,D=d.Ay.div(a||(a=(0,t.A)(["\n  .radio-wrapper {\n    display: flex;\n    flex-direction: column;\n  }\n  iframe {\n    width: 100%;\n  }\n"]))),m=e=>{const[n,i]=(0,l.useState)(null),[a,t]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),{dataEdit:g,XuLyDonID:m,TiepDanKhongDonID:y,DonThuID:p,title:j,visible:T,onCreate:S,fileKey:f,onCancel:L,DanhSachBieuMau:v}=e;(0,l.useEffect)((()=>{e.LoaiMaIn&&b(e.LoaiMaIn)}),[]);const b=e=>{u.A.GetPrevewPDF({MaPhieuIn:e,XuLyDonID:m,DonThuID:p,TiepDanKhongDonID:y}).then((e=>{e.data.Status>0?(d(e.data.Data),t(!0)):(s.Ay.destroy(),s.Ay.warning(e.data.Message))})).catch((e=>{s.Ay.destroy(),s.Ay.warning(e.toString())}))};return(0,x.jsx)(c.aF,{className:"center-modal__footer",title:"In phi\u1ebfu",visible:T,footer:(0,x.jsxs)(x.Fragment,{children:[n?(0,x.jsxs)(x.Fragment,{children:[a?null:(0,x.jsx)(r.A,{type:"primary",onClick:()=>b(n),children:"Xem tr\u01b0\u1edbc"}),a?(0,x.jsx)(r.A,{type:"primary",onClick:()=>t(!1),children:"Quay l\u1ea1i"}):(0,x.jsx)(r.A,{type:"primary",onClick:()=>{u.A.getChiTietBieuMau({MaPhieuIn:n,XuLyDonID:m,DonThuID:p,TiepDanKhongDonID:y}).then((e=>{if(e.data.Status>0){const n=document.createElement("a");n.href=e.data.Data,n.target="_blank",n.click()}else s.Ay.destroy(),s.Ay.warning(e.data.Message)})).catch((e=>{s.Ay.destroy(),s.Ay.warning(e.toString())}))},children:"T\u1ea3i file"})]}):null,(0,x.jsx)(r.A,{className:"btn-danger",onClick:()=>L(),children:"\u0110\xf3ng"})]}),width:1200,IsFullHeight:!0,onCancel:()=>L(),children:(0,x.jsx)(D,{children:a?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("iframe",{style:{height:800},src:o})}):(0,x.jsx)(h.Ay.Group,{className:"radio-wrapper",onChange:e=>i(e.target.value),value:n,children:v?v.map(((e,n)=>(0,x.jsx)(h.Ay,{className:"radio-items",value:e.MaPhieuIn,children:"".concat(n+1,". ").concat(e.TenBieuMau)}))):null})})})}},85596:(e,n,i)=>{i.r(n),i.d(n,{default:()=>he});var a,t=i(93445),l=i(72741),o=i(256),s=i(65828),h=i(82483),r=i(82402),d=i(68892),c=i(53660),u=i(34045),x=i(81538),g=i(64684),D=i(67353),m=i(53615),y=i(74405),p=i(69973),j=i(57528);const T=i(22953).Ay.div(a||(a=(0,j.A)(["\n  .ant-tabs-nav::before {\n    display: none !important;\n  }\n  .ant-tabs-nav-wrap div:first-child {\n    transform: none !important;\n  }\n  .ant-tabs-ink-bar {\n    display: none;\n  }\n  .ant-tabs-ink-bar-animated {\n    display: none;\n  }\n  .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n  .ant-tabs-tab {\n    padding: 10px 0;\n  }\n  .ant-tabs .ant-tabs-tab {\n  }\n  .ant-tabs .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .ant-tabs__title {\n    width: 200px;\n    /* height: 35px; */\n    background: #eaf1fb;\n    color: #000;\n    padding: 10px 0;\n    height: 36px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-left: 1px solid #0b57d0;\n  }\n  .ant-tabs-tab-active .ant-tabs__title {\n    background: rgb(40, 120, 215) !important;\n    color: #fff;\n    background: #94cef7;\n    font-weight: 600;\n  }\n"])));var S=i(79948),f=i(2370),L=i(69080),v=i(33713),b=(i(94690),i(18570)),A=i(87734),H=i(54686),C=i.n(H),I=i(56723);const{Item:w}=S.A;class k extends h.Component{constructor(e){super(e),this.onOk=()=>{const{onCreate:e}=this.props;this.formRef.current.validateFields().then((n=>{e(n)}))},this.state={},this.formRef=h.createRef()}render(){const{title:e,visible:n,onCancel:i,DanhSachLanhDao:a,loading:t}=this.props;return(0,I.jsx)(s.aF,{title:"Tr\xecnh \u0111\u01a1n th\u01b0",visible:n,className:"center-modal__footer",footer:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(f.A,{type:"primary",onClick:this.onOk,loading:t,children:[(0,I.jsx)(A.A,{style:{fontSize:20}})," Tr\xecnh duy\u1ec7t"]}),(0,I.jsx)(f.A,{className:"btn-danger",onClick:()=>i(),children:"\u0110\xf3ng"})]}),width:500,onCancel:()=>i(),children:(0,I.jsx)(S.A,{ref:this.formRef,children:(0,I.jsx)(w,{label:"Tr\xecnh L\xe3nh \u0110\u1ea1o",name:"LanhDaoID",rules:[v.REQUIRED],children:(0,I.jsx)(p.Ay,{children:a?a.map((e=>(0,I.jsx)(p.c$,{value:e.CanBoID,children:e.TenCanBo}))):null})})})})}}const F=k;var N=i(27957),M=i(67466),K=i(92378),X=i(61143),_=i(23511),Q=i(93474),E=i(21428),R=i(38674),Y=i(81349),G=i(6374);const{Item:P}=S.A,q=e=>{var n;const[i,a,t,l,r,d,c,u,x]=(0,G.U)(),[g,D]=(0,h.useState)({LoaiCoQuan:1,HuongXuLyID:null}),{LoaiCoQuan:m,HuongXuLyID:y}=g,j=(0,h.useRef)();(0,h.useEffect)((()=>{const{dataEdit:n}=e;n&&n.DanhSachHoSoTaiLieu&&x({DanhSachHoSoTaiLieu:n.DanhSachHoSoTaiLieu})}),[]);const{dataEdit:T,visible:b,onCancel:H,DanhSachHuongXuLy:w,DanhSachCoQuan:k,loading:F,SuDungQuyTrinhPhucTap:M}=e,K=null!==(n=e.dataEdit)&&void 0!==n&&n.isViewDetails?e.dataEdit.isViewDetails:null;return(0,I.jsx)(s.aF,{title:T&&T.HuongXuLy?"K\u1ebft qu\u1ea3 x\u1eed l\xfd \u0111\u01a1n":"X\u1eed l\xfd \u0111\u01a1n",visible:b,className:"center-modal__footer",footer:K?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(f.A,{className:"btn-danger",onClick:()=>H(),children:"\u0110\xf3ng"})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(f.A,{type:"primary",onClick:()=>async function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{onCreate:i,dataEdit:a}=e;j.current.validateFields().then((a=>{const t={DanhSachHoSoTaiLieu:l,HuongGiaiQuyetID:a.HuongGiaiQuyetID,NoiDungHuongDan:a.NoiDungHuongDan};e.XuLyDonID&&(t.XuLyDonID=e.XuLyDonID),i(t,n)})).catch((e=>console.log("errr",e)))}(),loading:F,children:[(0,I.jsx)(A.A,{})," L\u01b0u"]}),(0,I.jsx)(f.A,{className:"btn-danger",onClick:()=>H(),loading:F,children:"H\u1ee7y"})]}),width:800,onCancel:()=>H(),children:(0,I.jsx)(L.A,{children:(0,I.jsxs)(S.A,{ref:j,initialValues:{LoaiCoQuan:1},children:[(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P,{label:"H\u01b0\u1edbng x\u1eed l\xfd",name:"HuongGiaiQuyetID",rules:[v.REQUIRED],className:"ant-form-title__left",children:(0,I.jsx)(p.Ay,{onChange:e=>D((n=>({...n,HuongXuLyID:e}))),children:w?w.map((e=>(0,I.jsx)(p.c$,{value:e.HuongGiaiQuyetID,children:e.TenHuongGiaiQuyet},e.HuongGiaiQuyetID))):null})}),y!==v.HuongGiaiQuyet.ChuyenDon||M?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P,{label:"Ch\u1ecdn lo\u1ea1i c\u01a1 quan",...v.ITEM_LAYOUT_SMALL,name:"LoaiCoQuan",children:(0,I.jsxs)(_.Ay.Group,{value:m,onChange:e=>D((n=>({...n,LoaiCoQuan:e.target.value}))),children:[(0,I.jsx)(_.Ay,{value:1,children:"C\u01a1 quan trong h\u1ec7 th\u1ed1ng"}),(0,I.jsx)(_.Ay,{value:2,children:"C\u01a1 quan ngo\xe0i h\u1ec7 th\u1ed1ng"})]})}),1===m?(0,I.jsx)(P,{label:"Chuy\u1ec3n cho c\u01a1 quan",name:"CoQuanID",rules:[v.REQUIRED],className:"ant-form-title__left",children:(0,I.jsx)(p.Ay,{children:k?k.map((e=>(0,I.jsx)(p.c$,{value:e.CoQuanID,children:e.TenCoQuan}))):null})}):(0,I.jsx)(P,{label:"T\xean c\u01a1 quan",name:"CoQuanNgoaiHeThong",className:"ant-form-title__left",rules:[v.REQUIRED],children:(0,I.jsx)(N.A,{})}),(0,I.jsx)(P,{label:"C\u01a1 quan theo d\xf5i \u0111\xf4n \u0111\u1ed1c",name:"CoQuanTheoDoiDonDoc",className:"ant-form-title__left",children:(0,I.jsx)(N.A,{})})]}),(0,I.jsx)(P,{label:"N\u1ed9i dung x\u1eed l\xfd",name:"NoiDungHuongDan",className:"ant-form-title__left",children:(0,I.jsx)(Y.A,{})}),(0,I.jsxs)("div",{className:"file",children:[(0,I.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,I.jsx)(f.A,{type:"primary",onClick:()=>r(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]})]}),l&&null!==l&&void 0!==l&&l.length?(0,I.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,I.jsxs)("table",{children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,I.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,I.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,I.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),K?null:(0,I.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),l.map(((e,n)=>{var i;return(0,I.jsxs)("tbody",{children:[(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:n+1}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.TenFile)}),(0,I.jsx)("td",{children:(0,I.jsx)("div",{className:"group-file",children:e.FileDinhKem[0]?(0,I.jsx)("p",{className:"file-item",children:(0,I.jsx)("a",{href:e.FileDinhKem[0].FileUrl,target:"_blank",children:e.FileDinhKem[0].name||(null===(i=e.FileDinhKem[0])||void 0===i?void 0:i.TenFile)})}):null})}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(0,I.jsx)("p",{children:C()().format("DD/MM/YYYY")})}),K?null:(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:(0,I.jsxs)("div",{className:"action-btn",children:[(0,I.jsx)(o.A,{title:"S\u1eeda h\u1ed3 s\u01a1,t\xe0i li\u1ec7u",children:(0,I.jsx)(E.A,{onClick:()=>r(n)})}),(0,I.jsx)(o.A,{title:"X\xf3a h\u1ed3 s\u01a1,t\xe0i li\u1ec7u",children:(0,I.jsx)(R.A,{onClick:()=>u(e,n)})})]})})]}),e.FileDinhKem?e.FileDinhKem.map(((e,n)=>{if(n>0)return(0,I.jsx)("tr",{children:(0,I.jsx)("td",{children:(0,I.jsx)("p",{className:"file-item",children:(0,I.jsx)("a",{href:e.FileUrl,target:"_blank",children:e.name||e.TenFile})})})})})):null]})}))]})}):"",(0,I.jsx)(Q.A,{visible:i,dataEdit:a,onCancel:d,onCreate:c},t)]})})})};var O=i(60559),U=i(55338),B=i(6540),z=i(20676),$=i(72690),V=i(27169),W=i(14875),J=i(92020);const{Item:Z}=S.A;class ee extends h.Component{constructor(e){var n;super(e),n=this,this.deteleFile=(e,n)=>{const{DanhSachHoSoTaiLieu:i}=this.state;e.FileDinhKemID?l.A.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file \u0111\xednh k\xe8m n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:()=>{e.TrangThai=0;const n=[...i],a=n.indexOf(e);n.splice(a,1),this.setState({DanhSachHoSoTaiLieu:n,isFalseFile:!1,messErr:""})}}):(i.splice(n,1),this.setState({DanhSachHoSoTaiLieu:i,isFalseFile:!1,messErr:""}))},this.onOk=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{DanhSachHoSoTaiLieu:i,FileDinhKemDelete:a}=n.state,{onCreate:t,dataEdit:l}=n.props;n.formRef.current.validateFields().then((a=>{(0,b.b5)("user",{});const l={DanhSachHoSoTaiLieu:i,HuongGiaiQuyetID:a.HuongGiaiQuyetID,NoiDungHuongDan:a.NoiDungHuongDan};n.props.XuLyDonID&&(l.XuLyDonID=n.props.XuLyDonID),t(l,e)})).catch((e=>console.log("errr",e)))},this.TrinhKetQua=()=>{const e=this.state.keyModalTrinhDuyet+1;this.setState({visibleModalTrinhDuyet:!0,keyModalTrinhDuyet:e})},this.showModalHoSoTaiLieu=e=>{if(e||0===e){const{DanhSachHoSoTaiLieu:n,keyModalHoSoTaiLieu:i}=this.state,a=i+1;this.setState({keyModalHoSoTaiLieu:a,visibleModalHoSoTaiLieu:!0,dataModalHoSoTaiLieu:{...n[e],index:e}})}else{const{DanhSachHoSoTaiLieu:e,keyModalHoSoTaiLieu:n}=this.state,i=n+1;this.setState({keyModalHoSoTaiLieu:i,visibleModalHoSoTaiLieu:!0})}},this.closeModalHoSoTaiLieu=e=>{this.setState({visibleModalHoSoTaiLieu:!1,dataModalHoSoTaiLieu:{}})},this.closeModalTrinhDuyet=()=>{this.setState({visibleModalTrinhDuyet:!1})},this.deleteHoSoTaiLieu=e=>{l.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a H\u1ed3 s\u01a1, t\xe0i li\u1ec7u n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{const{DanhSachHoSoTaiLieu:n,keyModalHoSoTaiLieu:i}=this.state;n.splice(e,1),t.Ay.destroy(),t.Ay.success("X\xf3a th\xe0nh c\xf4ng")}})},this.submitModalHoSoTaiLieu=e=>{const{index:n}=e;if(n||0===n){const{DanhSachHoSoTaiLieu:i}=this.state,a=[...i];a.splice(n,1,e),this.setState({visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:a}),t.Ay.destroy(),t.Ay.success("C\u1eadp nh\u1eadt h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}else{const{DanhSachHoSoTaiLieu:n,keyModalHoSoTaiLieu:i}=this.state,a=[...n];a.push(e),this.setState({visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:a}),t.Ay.destroy(),t.Ay.success("Th\xeam m\u1edbi h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}},this.state={DanhSachHoSoTaiLieu:[],dataModalHoSoTaiLieu:{},keyModalHoSoTaiLieu:0,visibleModalHoSoTaiLieu:!1,keyModalTrinhDuyet:0,visibleModalTrinhDuyet:!1,currentKey:[1,2],fileView:{},fileKey:0,loading:!1,isFile:!1},this.formRef=h.createRef()}componentDidMount(){const{dataEdit:e}=this.props;e&&e.DanhSachHoSoTaiLieu&&this.setState({DanhSachHoSoTaiLieu:e.DanhSachHoSoTaiLieu})}render(){var e,n;const{dataEdit:i,title:a,visible:t,onCreate:l,fileKey:h,onCancel:r,DanhSachTenFile:d,DanhSachHuongXuLy:c,DanhSachCanBoXuLy:u}=this.props,{ListFileDinhKem:x,loading:g,isFile:D,DanhSachHoSoTaiLieu:m,visibleModalTrinhDuyet:y}=this.state,j=null!==(e=this.props.dataEdit)&&void 0!==e&&e.isViewDetails?this.props.dataEdit.isViewDetails:null;return(0,I.jsx)(s.aF,{title:i&&i.HuongXuLy?"K\u1ebft qu\u1ea3 x\u1eed l\xfd \u0111\u01a1n":"X\u1eed l\xfd \u0111\u01a1n",visible:t,className:"center-modal__footer",footer:j?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(f.A,{className:"btn-danger",onClick:()=>r(),children:"\u0110\xf3ng"})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(f.A,{type:"primary",onClick:()=>this.onOk(),children:[(0,I.jsx)(A.A,{})," L\u01b0u"]}),(0,I.jsx)(f.A,{className:"btn-danger",onClick:()=>r(),children:"H\u1ee7y"})]}),width:800,onCancel:()=>r(),children:(0,I.jsx)(L.A,{children:(0,I.jsxs)(S.A,{ref:this.formRef,children:[(0,I.jsxs)(s.SD,{activeKey:this.state.currentKey,onChange:e=>this.setState({currentKey:e}),expandIconPosition:"end",bordered:!1,children:[(0,I.jsx)(s.SD.Panel,{header:"Th\xf4ng tin duy\u1ec7t c\u1ee7a l\xe3nh \u0111\u1ea1o",forceRender:!0,children:(0,I.jsxs)("div",{className:"wrapper-content",children:[(0,I.jsxs)("p",{children:["H\u1ea1n x\u1eed l\xfd : ",(0,I.jsx)("span",{children:i.HanXuLy})]}),(0,I.jsxs)("p",{children:["N\u1ed9i dung : ",(0,I.jsx)("span",{children:i.NoiDungHuongDan})]}),(0,I.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),null!==i&&void 0!==i&&i.DanhSachHoSoTaiLieu&&null!==i&&void 0!==i&&null!==(n=i.DanhSachHoSoTaiLieu)&&void 0!==n&&n.length?(0,I.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,I.jsxs)("table",{children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,I.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,I.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,I.jsx)("th",{style:{width:"25%"},children:"Ng\u01b0\u1eddi c\u1eadp nh\u1eadt"}),(0,I.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"})]})}),m.map(((e,n)=>{var i;return(0,I.jsxs)("tbody",{children:[(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:n+1}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.TenFile)}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(0,I.jsx)("p",{children:e.NgayCapNhat?C()(e.NgayCapNhat).format("DD/MM/YYYY"):null})}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(0,I.jsx)("p",{children:e.NguoiCapNhat})}),(0,I.jsx)("td",{children:(0,I.jsx)("div",{className:"group-file",children:e.FileDinhKem[0]?(0,I.jsx)("p",{className:"file-item",children:(0,I.jsx)("a",{href:e.FileDinhKem[0].FileUrl,target:"_blank",children:e.FileDinhKem[0].name||(null===(i=e.FileDinhKem[0])||void 0===i?void 0:i.TenFile)})}):null})})]}),e.FileDinhKem?e.FileDinhKem.map(((e,n)=>{if(n>0)return(0,I.jsx)("tr",{children:(0,I.jsx)("td",{children:(0,I.jsx)("p",{className:"file-item",children:(0,I.jsx)("a",{href:e.FileUrl,target:"_blank",children:e.name||e.TenFile})})})})})):null]})}))]})}):""]})},1),(0,I.jsxs)(s.SD.Panel,{header:"X\u1eed l\xfd l\u1ea1i",forceRender:!0,children:[(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z,{label:"H\u01b0\u1edbng x\u1eed l\xfd",name:"HuongGiaiQuyetID",rules:[v.REQUIRED],className:"ant-form-title__left",children:(0,I.jsx)(p.Ay,{children:c?c.map((e=>(0,I.jsx)(p.c$,{value:e.HuongGiaiQuyetID,children:e.TenHuongGiaiQuyet},e.HuongGiaiQuyetID))):null})}),(0,I.jsx)(Z,{label:"N\u1ed9i dung x\u1eed l\xfd",name:"NoiDungHuongDan",className:"ant-form-title__left",children:(0,I.jsx)(Y.A,{})}),(0,I.jsxs)("div",{className:"file",children:[(0,I.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,I.jsx)(f.A,{type:"primary",loading:g,onClick:()=>this.showModalHoSoTaiLieu(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]})]}),m&&null!==m&&void 0!==m&&m.length?(0,I.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,I.jsxs)("table",{children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,I.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,I.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,I.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,I.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),m.map(((e,n)=>{var i;return(0,I.jsxs)("tbody",{children:[(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:n+1}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.TenFile)}),(0,I.jsx)("td",{children:(0,I.jsx)("div",{className:"group-file",children:e.FileDinhKem[0]?(0,I.jsx)("p",{className:"file-item",children:(0,I.jsx)("a",{href:e.FileDinhKem[0].FileUrl,target:"_blank",children:e.FileDinhKem[0].name||(null===(i=e.FileDinhKem[0])||void 0===i?void 0:i.TenFile)})}):null})}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,children:(0,I.jsx)("p",{children:C()().format("DD/MM/YYYY")})}),(0,I.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:(0,I.jsxs)("div",{className:"action-btn",children:[(0,I.jsx)(o.A,{title:"S\u1eeda H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,I.jsx)(E.A,{onClick:()=>this.showModalHoSoTaiLieu(n)})}),(0,I.jsx)(o.A,{title:"X\xf3a H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,I.jsx)(R.A,{onClick:()=>this.deteleFile(e,n)})})]})})]}),e.FileDinhKem?e.FileDinhKem.map(((e,n)=>{if(n>0)return(0,I.jsx)("tr",{children:(0,I.jsx)("td",{children:(0,I.jsx)("p",{className:"file-item",children:(0,I.jsx)("a",{href:e.FileUrl,target:"_blank",children:e.name||e.TenFile})})})})})):null]})}))]})}):""]},2)]}),(0,I.jsx)(Q.A,{visible:this.state.visibleModalHoSoTaiLieu,dataEdit:this.state.dataModalHoSoTaiLieu,onCancel:this.closeModalHoSoTaiLieu,onCreate:this.submitModalHoSoTaiLieu},this.state.keyModalHoSoTaiLieu)]})})},h)}}const ne=ee;var ie=i(22348),ae=i(5103),te=i(87088),le=(i(60033),i(82859)),oe=i(2637),se=i(86880);const he=(0,r.Ng)((function(e){return{...e.XuLyDon,role:(0,b.vh)(e.Auth.role,"xu-ly-don-thu")}}),d.A)((e=>{var n,i,a,r,d,j;document.title="X\u1eed l\xfd \u0111\u01a1n";const[S,f]=(0,h.useState)(K.parse(e.location.search)),[L,A]=(0,h.useState)({}),[H,w]=(0,h.useState)(!1),[k,_]=(0,h.useState)(""),[Q,E]=(0,M.D)(),[R,Y]=(0,h.useState)([]),[G,P]=(0,h.useState)(!1),[Z,ee]=(0,h.useState)(!1),[he,re]=(0,h.useState)(!1),[de,ce]=(0,h.useState)(0),[ue,xe]=(0,h.useState)(!1),[ge,De]=(0,h.useState)(!1),[me,ye]=(0,h.useState)(0),[pe,je]=(0,h.useState)({}),[Te,Se]=(0,h.useState)(!1),[fe,Le]=(0,h.useState)(0),[ve,be]=(0,h.useState)({}),[Ae,He]=(0,h.useState)(!1),[Ce,Ie]=(0,h.useState)(0),[we,ke]=(0,h.useState)(!1),[Fe,Ne]=(0,h.useState)(0),[Me,Ke]=(0,h.useState)(0);(0,h.useEffect)((()=>{S.XuLyDonID&&S.isPrint&&(Y([Number(S.XuLyDonID)]),Xe())}),[]);const Xe=()=>{Le((e=>e+1)),Se(!0)},{DanhSachXuLyDon:_e,DanhSachHuongXuLy:Qe,DanhSachCoQuanChuyenDon:Ee,DanhSachBieuMau:Re,DanhSachLoaiKhieuTo:Ye,DanhSachLanhDao:Ge,TotalRow:Pe,tableLoading:qe,role:Oe}=e;(0,h.useEffect)((()=>{(0,b._Y)(S),e.getInitData(S)}),[S]),(0,h.useEffect)((()=>{e.getData()}),[]);const Ue=(e,n,i)=>{let a=S,t={pagination:e,filters:n,sorter:i},l=(0,b.D5)(a,null,t);f(l),Y([])},Be=(e,n)=>{let i=S,a={value:e,property:n},t=(0,b.D5)(i,a,null);f(t),Y([])},ze=()=>{A({}),w(!1)},$e=null===(n=(0,b.b5)("user"))||void 0===n?void 0:n.SuDungQuyTrinhPhucTap,Ve=(n,i)=>{const a=(null===n||void 0===n?void 0:n.HuongGiaiQuyetID)===v.HuongGiaiQuyet.ChuyenDon;if(i)l.A.confirm({title:"Tr\xecnh k\u1ebft qu\u1ea3 x\u1eed l\xfd \u0111\u01a1n",content:"B\u1ea1n c\xf3 mu\u1ed1n tr\xecnh k\u1ebft qu\u1ea3 x\u1eed l\xfd n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{xe(!0);const a={FileType:v.LoaiFileDinhKem.XuLyDon};if("add"===k){const l=[];n.DanhSachHoSoTaiLieu&&(0,b.Yj)(n.DanhSachHoSoTaiLieu,l,a,X.A),Promise.all(l).then((a=>{X.A.ThemMoiDonThu(n).then((n=>{xe(!1),n&&n.data&&1===n.data.Status?(t.Ay.success(n.data.Message),ze(),We(),e.getInitData(S),i&&en()):t.Ay.error("".concat(n&&n.data?n.data.Message:"L\u1ed7i h\u1ec7 th\u1ed1ng"))}))}))}}});else{xe(!0);const i={FileType:v.LoaiFileDinhKem.XuLyDon};if("add"===k){const l=[];n.DanhSachHoSoTaiLieu&&(0,b.Yj)(n.DanhSachHoSoTaiLieu,l,i,X.A),Promise.all(l).then((i=>{X.A.ThemMoiDonThu(n).then((i=>{xe(!1),i&&i.data&&1===i.data.Status?(t.Ay.success(i.data.Message),ze(),We(),e.getInitData(S),a&&!$e?Ze(n):Y([])):t.Ay.error("".concat(i&&i.data?i.data.Message:"L\u1ed7i h\u1ec7 th\u1ed1ng"))}))}))}}},We=()=>{He(!1)},Je=()=>{const{Search:e}=N.A;return(0,I.jsxs)(D.A,{isCenter:!0,children:[(0,I.jsxs)(p.Ay,{style:{width:"200px"},value:S.TrangThaiXuLyID,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i x\u1eed l\xfd",allowClear:!0,onChange:e=>Be(e,"TrangThaiXuLyID"),children:[(0,I.jsx)(Option,{value:"0",children:"Ch\u01b0a x\u1eed l\xfd"}),(0,I.jsx)(Option,{value:"1",children:"\u0110\xe3 x\u1eed l\xfd"}),(0,I.jsx)(Option,{value:"2",children:"X\u1eed l\xfd l\u1ea1i"})]}),(0,I.jsx)(p.Ay,{style:{width:"200px"},value:S.HuongXuLyID,placeholder:"Ch\u1ecdn h\u01b0\u1edbng x\u1eed l\xfd",allowClear:!0,onChange:e=>Be(e,"HuongXuLyID"),children:Qe?Qe.map((e=>{var n;return(0,I.jsx)(Option,{value:null===(n=e.HuongGiaiQuyetID)||void 0===n?void 0:n.toString(),children:e.TenHuongGiaiQuyet},e.HuongGiaiQuyetID)})):null}),(0,I.jsx)(p.Ay,{style:{width:"200px"},value:S.LoaiKhieuToID,placeholder:"Ch\u1ecdn lo\u1ea1i khi\u1ebfu t\u1ed1",allowClear:!0,onChange:e=>Be(e,"LoaiKhieuToID"),children:Ye?Ye.map((e=>(0,I.jsx)(Option,{value:e.LoaiKhieuToID.toString(),children:e.TenLoaiKhieuTo},e.LoaiKhieuToID))):null}),(0,I.jsx)(le.A,{onFilter:Be,filterData:S}),(0,I.jsx)(s.NJ,{allowClear:!0,defaultValue:null===S||void 0===S?void 0:S.Keyword,placeholder:"Nh\u1eadp \u0111\u1ed1i t\u01b0\u1ee3ng KNTC, KNPA ho\u1eb7c n\u1ed9i dung ti\u1ebfp",style:{width:300},onSearch:e=>Be(e,"Keyword"),className:"search-input"})]})},Ze=n=>{n.XuLyDonID=R[0];const i={FileType:v.LoaiFileDinhKem.PheDuyetKetQuaXuLy},a=[];n.DanhSachHoSoTaiLieu&&(0,b.Yj)(n.DanhSachHoSoTaiLieu,a,i,X.A),Promise.all(a).then((i=>{X.A.ChuyenDon(n).then((n=>{xe(!1),n&&n.data&&1===n.data.Status?(Y([]),e.getInitData(S)):Y([])}))}))},en=n=>{ee(!0);const i={...n,XuLyDonID:R[0]};X.A.TrinhDuyet(i).then((n=>{n.data.Status>0?(ee(!1),t.Ay.destroy(),t.Ay.success(n.data.Message),e.getInitData(S),re(!1),Y([])):(t.Ay.destroy(),t.Ay.error(n.data.Message))})).catch((e=>{t.Ay.destroy(),t.Ay.error(e.toString())}))},nn=S.PageNumber?parseInt(S.PageNumber):1,an=S.PageSize?parseInt(S.PageSize):(0,b.WT)(),tn=null===_e||void 0===_e||null===(i=_e.find((e=>e.XuLyDonID===R[0])))||void 0===i?void 0:i.TrangThaiID,ln=null===_e||void 0===_e||null===(a=_e.find((e=>e.XuLyDonID===R[0])))||void 0===a?void 0:a.DonThuID,on=null===_e||void 0===_e||null===(r=_e.find((e=>e.XuLyDonID===R[0])))||void 0===r?void 0:r.TiepDanKhongDonID,sn=R[0],hn=null===_e||void 0===_e||null===(d=_e.find((e=>e.XuLyDonID===R[0])))||void 0===d?void 0:d.TrangThaiIDMoi,rn=null===_e||void 0===_e||null===(j=_e.find((e=>e.XuLyDonID===R[0])))||void 0===j?void 0:j.CheckTrangThai,dn=[{title:"S\u1ed1 \u0111\u01a1n th\u01b0",dataIndex:"SoDonThu",align:"center",width:"8%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.SoDonThu})},{title:"Ng\xe0y ti\u1ebfp nh\u1eadn",align:"center",width:"10%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.NgayTiepNhan?C()(n.NgayTiepNhan).format("DD/MM/YYYY"):null})},{title:"Ngu\u1ed3n \u0111\u01a1n \u0111\u1ebfn",dataIndex:"NguonDonDens",align:"left",width:"10%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.NguonDonDens})},{title:"Th\xf4ng tin ch\u1ee7 \u0111\u01a1n",dataIndex:"TenChuDon",align:"left",width:"20%",render:(e,n,i)=>(0,I.jsx)("div",{children:null!==n&&void 0!==n&&n.listDoiTuongKN?n.listDoiTuongKN.map((e=>(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{style:{fontWeight:"600",color:1===n.TrangThaiQuaHan?"red":"",textTransform:"capitalize"},children:e.HoTen}),(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:e.DiaChiCT})]}))):null})},{title:"N\u1ed9i dung v\u1ee5 vi\u1ec7c",dataIndex:"NoiDungDon",align:"left",width:"30%",render:(e,n,i)=>(0,I.jsx)(o.A,{title:n.NoiDungDon,children:(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:(0,b.Mi)(n.NoiDungDon,150)})})},{title:"Lo\u1ea1i khi\u1ebfu t\u1ed1",dataIndex:"TenLoaiKhieuTo",align:"left",width:"10%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.TenLoaiKhieuTo})},{title:"H\u1ea1n x\u1eed l\xfd",dataIndex:"HanXuLy",align:"center",width:"10%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.HanXuLy})},{title:"H\u01b0\u1edbng x\u1eed l\xfd",dataIndex:"HuongXuLy",align:"left",width:"10%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.HuongXuLy})},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"TrangThaiStr",align:"left",width:"10%",render:(e,n,i)=>(0,I.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:(0,b.l6)(n,"TrangThaiStr")})}],cn=rn?!(1!==R.length)&&hn!==v.TrangThaiMoi.DaXuLy:!(1===R.length&&1===tn||2===tn),un=rn?!(1===R.length)||!(0===hn||hn===v.TrangThaiMoi.ChuaTrinh||hn===v.TrangThaiMoi.XuLyLai):!(1===R.length)||!(0===tn||2===tn);return(0,I.jsxs)(c.A,{children:[(0,I.jsxs)(oe.A,{children:[(0,I.jsx)(u.A,{children:"X\u1eed l\xfd \u0111\u01a1n"}),(0,I.jsxs)(x.A,{children:[(0,I.jsxs)(s.$n,{className:"btn-center",type:"primary",onClick:()=>{var e;const n=R[0],i=null===_e||void 0===_e||null===(e=_e.find((e=>e.XuLyDonID===n)))||void 0===e?void 0:e.DonThuID;X.A.ChiTietDonThu2({XuLyDonID:n,DonThuID:i}).then((e=>{e.data.Status>0&&(je(e.data.Data),De(!0),ye((e=>e+1)))}))},disabled:!(1===R.length),children:[(0,I.jsx)("img",{src:1!==R.length?J:ie,className:"btn-icon__img"}),"Xem chi ti\u1ebft \u0111\u01a1n th\u01b0"]}),(0,I.jsxs)(s.$n,{className:"btn-center",type:"primary",onClick:()=>(()=>{const e=R[0];X.A.KetQuaXuLyDon({XuLyDonID:e}).then((e=>{e.data.Status>0?(Ke({isViewDetails:!0,...e.data.Data}),E(),ke(!0)):(t.Ay.destroy(),t.Ay.error(e.data.Message))})).catch((e=>{t.Ay.destroy(),t.Ay.error(e.toString())}))})(),disabled:!(1===R.length),children:[(0,I.jsx)("img",{src:1!==R.length?J:ie,className:"btn-icon__img"}),"Xem k\u1ebft qu\u1ea3 x\u1eed l\xfd \u0111\u01a1n"]}),(0,I.jsxs)(s.$n,{className:"btn-center",type:"primary",onClick:()=>Xe(),disabled:!(1===R.length),children:[(0,I.jsx)("img",{src:1!==R.length?B:U,className:"btn-icon__img"}),"In phi\u1ebfu"]}),Oe.edit&&$e?(0,I.jsxs)(s.$n,{className:"btn-center",type:"primary",onClick:()=>{var e;3===(null===(e=(0,b.b5)("user"))||void 0===e?void 0:e.CapID)?l.A.confirm({title:"Tr\xecnh k\u1ebft qu\u1ea3 x\u1eed l\xfd \u0111\u01a1n",content:"B\u1ea1n c\xf3 mu\u1ed1n tr\xecnh k\u1ebft qu\u1ea3 x\u1eed l\xfd n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{en(),Y([])}}):(ce((e=>e+1)),re(!0))},disabled:cn,children:[(0,I.jsx)("img",{src:cn?z:$,className:"btn-icon__img"}),"Tr\xecnh duy\u1ec7t"]}):null,Oe.edit?(0,I.jsxs)(s.$n,{className:"btn-center btn-handle__report",type:"primary",onClick:()=>(e=>{const n=R[0];0===e&&(_("add"),E(),w(!0)),2===e&&(_("add"),X.A.ChiTietDonThu({XuLyDonID:n}).then((e=>{e.data.Status>0?(be({...e.data.Data}),Ie((e=>e+1)),He(!0)):(t.Ay.destroy(),t.Ay.error(e.data.Message))})).catch((e=>{t.Ay.destroy(),t.Ay.error(e.toString())})))})(tn),disabled:un,children:[(0,I.jsx)("img",{src:un?W:V,className:"btn-icon__img"}),"X\u1eed l\xfd \u0111\u01a1n"]}):null]})]}),(0,I.jsx)(g.A,{children:(0,I.jsx)(T,{children:(()=>{const e={selectedRowsKey:R,renderCell:(e,n,i,a)=>(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(O.A,{className:"ant-icon__table",style:{marginRight:4,fontSize:14,visibility:"hidden"}}),(0,I.jsx)("div",{children:(0,I.jsx)(y.A,{className:"selected__table",checked:R.includes(n.XuLyDonID),onChange:()=>(e=>{const n=[...R];n.includes(e.key)?Y(n.filter((n=>n!==e.key))):Y([...n,e.key])})(n)})})]}),onChange:e=>{Y(e)}},n=null===_e||void 0===_e?void 0:_e.map((e=>({...e,key:null===e||void 0===e?void 0:e.XuLyDonID})));return(0,I.jsxs)(I.Fragment,{children:[Je(),(0,I.jsx)(m.Ay,{rowSelection:e,columns:dn,loading:qe,dataSource:n,onChange:Ue,pagination:{showSizeChanger:!0,showTotal:(e,n)=>"T\u1eeb ".concat(n[0]," \u0111\u1ebfn ").concat(n[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:Pe,current:nn,pageSize:an}})]})})()})}),(0,I.jsx)(q,{visible:H,dataEdit:L,action:k,loading:ue,onCreate:Ve,onCancel:ze,dataSource:_e,DanhSachHuongXuLy:Qe,DanhSachCoQuan:Ee,XuLyDonID:R[0],SuDungQuyTrinhPhucTap:$e},Q),(0,I.jsx)(se.A,{visible:we,dataEdit:Me,onCancel:()=>{ke(!1)}},Fe),(0,I.jsx)(ne,{visible:Ae,dataEdit:ve,action:k,loading:ue,onCreate:Ve,onCancel:We,dataSource:_e,DanhSachHuongXuLy:Qe,XuLyDonID:R[0]},Ce),(0,I.jsx)(ae.A,{visible:ge,dataEdit:pe,onCancel:()=>{je({}),De(!1)}},me),(0,I.jsx)(te.A,{visible:Te,DanhSachBieuMau:Re,onCancel:()=>{Se(!1)},XuLyDonID:sn,DonThuID:ln,TiepDanKhongDonID:on},fe),(0,I.jsx)(F,{visible:he,onCreate:en,DanhSachLanhDao:Ge,onCancel:()=>{re(!1)},loading:Z},de)]})}))},69080:(e,n,i)=>{i.d(n,{A:()=>l});var a,t=i(57528);const l=i(22953).Ay.div(a||(a=(0,t.A)(["\n  .wrapper-content {\n    padding: 10px 0;\n  }\n  .ant-collapse-header {\n    background: #fff !important;\n    box-shadow: none !important;\n    display: flex;\n\n    align-items: center;\n  }\n  .ant-collapse-expand-icon {\n    top: 0 !important;\n    position: static !important;\n  }\n  .ant-collapse-header-text {\n    background: rgb(15, 108, 189) !important;\n  }\n  .item-info + .item-info {\n    margin-top: 10px;\n  }\n  .item-info {\n    span {\n      font-weight: 600;\n    }\n  }\n  .box-file {\n    table {\n      border-collapse: collapse;\n    }\n    table th,\n    table td {\n      border: 1px solid #d7d7d7;\n    }\n  }\n  .file-item {\n    padding: 5px;\n  }\n  .file {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    p {\n      font-weight: 600;\n    }\n  }\n\n  .ant-form-title__left {\n    margin-bottom: 0;\n    .ant-form-item-row {\n      display: grid !important;\n    }\n    .ant-form-item-label {\n      text-align: left;\n    }\n    .ant-form-item-row {\n      width: 100%;\n    }\n    .ant-form-item-control-input-content {\n      width: 100%;\n      /* width: 450px; */\n      input {\n        height: 30px;\n      }\n    }\n  }\n\n  .group-title {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .title-content__breadCum {\n      font-size: 14px;\n      font-weight: 600;\n    }\n    button {\n      width: 80px !important;\n      height: 25px !important;\n    }\n  }\n  .wrapper-user {\n    margin-top: 10px;\n    .title {\n      display: grid;\n      grid-template-columns: 45.5% auto;\n      /* justify-content: space-between; */\n      p {\n        font-size: 13px;\n      }\n    }\n  }\n  .groups-user {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    .wrapper-select {\n      display: grid;\n      grid-template-columns: 450px 450px auto;\n      gap: 30px;\n      align-items: center;\n    }\n  }\n  .btn-delete {\n    justify-self: end;\n    justify-items: end;\n    button {\n      width: 80px;\n      height: 25px;\n    }\n  }\n\n  .file-wrapper {\n    margin-top: 30px;\n    .file-wrapper__top {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      p {\n        font-size: 13px;\n        font-weight: bold;\n      }\n    }\n    .file-wrapper__content {\n      table {\n        margin-top: 10px;\n        width: 100%;\n        border-collapse: collapse;\n        thead th {\n          border: 1px solid #797979;\n        }\n        tbody td {\n          border: 1px solid #797979;\n        }\n      }\n    }\n  }\n  .info-wrapper {\n    margin-top: 30px;\n  }\n  .user-report {\n    margin-top: 30px;\n  }\n  .ant-picker {\n    height: 30px;\n    width: 100%;\n  }\n"])))},60033:(e,n,i)=>{i.d(n,{A:()=>v});var a=i(82483),t=i(79948),l=i(72741),o=i(93445),s=i(23511),h=i(27957),r=i(256),d=i(65828),c=i(2370),u=i(69973),x=i(69080),g=i(33713),D=(i(94690),i(18570)),m=i(93474),y=i(87734),p=i(21428),j=i(38674),T=i(54686),S=i.n(T),f=i(56723);const{Item:L}=t.A,v=e=>{const[n,i]=(0,a.useState)({DanhSachHoSoTaiLieu:[],dataModalHoSoTaiLieu:{},keyModalHoSoTaiLieu:0,visibleModalHoSoTaiLieu:!1,loading:!1}),[T,v]=(0,a.useState)(1),b=(0,a.useRef)();(0,a.useEffect)((()=>{const{dataEdit:n}=e;n&&n.DanhSachHoSoTaiLieu&&i((e=>({...e,DanhSachHoSoTaiLieu:n.DanhSachHoSoTaiLieu?n.DanhSachHoSoTaiLieu:[]})))}),[]);const A=e=>{const{DanhSachHoSoTaiLieu:a,keyModalHoSoTaiLieu:t}=n;if(e||0===e){const n=t+1;i((i=>({...i,keyModalHoSoTaiLieu:n,visibleModalHoSoTaiLieu:!0,DanhSachHoSoTaiLieu:{...a[e],index:e}})))}else{const e=t+1;i((n=>({...n,keyModalHoSoTaiLieu:e,visibleModalHoSoTaiLieu:!0})))}},{visible:H,fileKey:C,onCancel:I,DanhSachCoQuan:w}=e,{visibleModalHoSoTaiLieu:k,dataModalHoSoTaiLieu:F,keyModalHoSoTaiLieu:N,DanhSachHoSoTaiLieu:M}=n;return(0,f.jsx)(d.aF,{title:"Chuy\u1ec3n \u0111\u01a1n",visible:H,className:"center-modal__footer",footer:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.A,{type:"primary",onClick:()=>async function(){const{DanhSachHoSoTaiLieu:i}=n,{onCreate:a,dataEdit:t}=e;b.current.validateFields().then((n=>{(0,D.b5)("user",{});const t={DanhSachHoSoTaiLieu:i,...n};e.XuLyDonID&&(t.XuLyDonID=e.XuLyDonID),a(t)})).catch((e=>console.log("errr",e)))}(),children:[(0,f.jsx)(y.A,{})," L\u01b0u"]}),(0,f.jsx)(c.A,{className:"btn-danger",onClick:()=>I(),children:"H\u1ee7y"})]}),width:800,onCancel:()=>I(),children:(0,f.jsx)(x.A,{children:(0,f.jsxs)(t.A,{ref:b,initialValues:{LoaiCoQuan:1},children:[(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(L,{label:"Ch\u1ecdn lo\u1ea1i c\u01a1 quan",...g.ITEM_LAYOUT_SMALL,name:"LoaiCoQuan",children:(0,f.jsxs)(s.Ay.Group,{value:T,onChange:e=>v(e.target.value),children:[(0,f.jsx)(s.Ay,{value:1,children:"C\u01a1 quan trong h\u1ec7 th\u1ed1ng"}),(0,f.jsx)(s.Ay,{value:2,children:"C\u01a1 quan ngo\xe0i h\u1ec7 th\u1ed1ng"})]})}),1===T?(0,f.jsx)(L,{label:"Chuy\u1ec3n cho c\u01a1 quan",name:"CoQuanID",rules:[g.REQUIRED],className:"ant-form-title__left",children:(0,f.jsx)(u.Ay,{children:w?w.map((e=>(0,f.jsx)(u.c$,{value:e.CoQuanID,children:e.TenCoQuan}))):null})}):(0,f.jsx)(L,{label:"T\xean c\u01a1 quan",name:"CoQuanNgoaiHeThong",className:"ant-form-title__left",rules:[g.REQUIRED],children:(0,f.jsx)(h.A,{})}),(0,f.jsx)(L,{label:"C\u01a1 quan theo d\xf5i \u0111\xf4n \u0111\u1ed1c",name:"CoQuanTheoDoiDonDoc",className:"ant-form-title__left",children:(0,f.jsx)(h.A,{})}),(0,f.jsxs)("div",{className:"file",children:[(0,f.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,f.jsx)(c.A,{type:"primary",loading:n.loading,onClick:()=>A(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]})]}),M&&null!==M&&void 0!==M&&M.length?(0,f.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,f.jsxs)("table",{children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,f.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,f.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,f.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,f.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),M.map(((e,a)=>{var t,o;return(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:a+1}),(0,f.jsx)("td",{rowspan:e.FileDinhKem.length,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.TenFile)}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"group-file",children:e.FileDinhKem[0]?(0,f.jsx)("p",{className:"file-item",children:(0,f.jsx)("a",{href:e.FileDinhKem[0].FileUrl,target:"_blank",children:(null===(t=e.FileDinhKem[0])||void 0===t?void 0:t.name)||(null===(o=e.FileDinhKem[0])||void 0===o?void 0:o.TenFile)})}):null})}),(0,f.jsx)("td",{rowspan:e.FileDinhKem.length,children:(0,f.jsx)("p",{children:S()().format("DD/MM/YYYY")})}),(0,f.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:(0,f.jsxs)("div",{className:"action-btn",children:[(0,f.jsx)(r.A,{title:"S\u1eeda H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,f.jsx)(p.A,{onClick:()=>A(a)})}),(0,f.jsx)(r.A,{title:"X\xf3a H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,f.jsx)(j.A,{onClick:()=>((e,a)=>{const{DanhSachHoSoTaiLieu:t}=n;if(e.FileDinhKemID)l.A.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file \u0111\xednh k\xe8m n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:()=>{e.TrangThai=0;const n=[...t],a=n.indexOf(e);n.splice(a,1),i((e=>({...e,DanhSachHoSoTaiLieu:n})))}});else{const e=[...t];e.splice(a,1),i((n=>({...n,DanhSachHoSoTaiLieu:e})))}})(e,a)})})]})})]}),e.FileDinhKem?e.FileDinhKem.map(((e,n)=>{if(n>0)return(0,f.jsx)("tr",{children:(0,f.jsx)("td",{children:(0,f.jsx)("p",{className:"file-item",children:(0,f.jsx)("a",{href:e.FileUrl,target:"_blank",children:e.name||e.TenFile})})})})})):null]})}))]})}):"",(0,f.jsx)(m.A,{visible:k,dataEdit:F,onCancel:e=>{i((e=>({...e,visibleModalHoSoTaiLieu:!1,dataModalHoSoTaiLieu:{}})))},onCreate:e=>{const{index:a}=e;if(a||0===a){const{DanhSachHoSoTaiLieu:t}=n,l=[...t];l.splice(a,1,e),i((e=>({...e,visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:l}))),o.Ay.destroy(),o.Ay.success("C\u1eadp nh\u1eadt h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}else{const{DanhSachHoSoTaiLieu:a,keyModalHoSoTaiLieu:t}=n,l=[...a];l.push(e),i((e=>({...e,visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:l}))),o.Ay.destroy(),o.Ay.success("Th\xeam m\u1edbi h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}}},N)]})})},C)}}}]);