"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[2818,2782],{74405:(e,t,n)=>{n.d(t,{$:()=>s,A:()=>d});var a,i=n(26418),r=n(57528),c=n(22953),l=n(6535);const o=(e=>(0,c.Ay)(e)(a||(a=(0,r.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,l.palette)("text",1),(0,l.palette)("primary",0),(0,l.palette)("primary",0),(0,l.palette)("primary",0),(0,l.palette)("primary",0)))(i.A),s=i.A.Group,d=o},2637:(e,t,n)=>{n.d(t,{A:()=>o});n(82483);var a,i=n(57528),r=n(22953);n(6535);const c=r.Ay.div(a||(a=(0,i.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var l=n(56723);const o=e=>(0,l.jsx)(c,{className:"wrapper-top",children:e.children})},67466:(e,t,n)=>{n.d(t,{D:()=>i});var a=n(82483);function i(e){const[t,n]=(0,a.useState)(0);return[t,()=>{n(t+1)}]}},42818:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var a=n(57528),i=n(93445),r=n(72741),c=n(37825),l=n(49294),o=n(82483),s=n(65828),d=n(82402),h=n(53660),u=n(34045),p=n(81538),g=n(64684),y=n(67353),A=n(53615),x=n(74405),T=n(3785),f=n(18570),m=n(67466),v=n(92378),D=n(94690),C=n.n(D),b=n(33713),j=n(79948),w=(n(8118),n(18682),n(4002)),S=n(56723);const{Item:I,useForm:L}=j.A,k=e=>{var t;const[n]=L(),[a,r]=(0,o.useState)(),[c,l]=(0,o.useState)([]),{dataEdit:d,loading:h,visible:u,action:p,DanhSachCoQuan:g}=e,[y,A]=(0,o.useState)(""),[v,D]=(0,m.D)(),[k,M]=(0,o.useState)(null),N=e=>{T.A.GetDanhSachLanhDao({CoQuanID:e}).then((e=>{e.data.Status>0?l(e.data.Data):(i.Ay.destroy(),i.Ay.warning(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.warning(e.toString())}))};(0,o.useEffect)((()=>{d&&d.IDLichTiep&&(A(null===d||void 0===d?void 0:d.NDTiep),D((e=>e+1)),n&&n.setFieldsValue({...d,NgayTiep:null!==d&&void 0!==d&&d.NgayTiep?C()(null===d||void 0===d?void 0:d.NgayTiep):null})),d.IDCoQuanTiep&&N(d.IDCoQuanTiep)}),[]);const z=(0,f.pk)((e=>{A(e)}));return(0,S.jsx)(s.aF,{title:"".concat(d.isView?"Chi ti\u1ebft":"edit"===p?"C\u1eadp nh\u1eadt":"Th\xeam"," l\u1ecbch ti\u1ebfp d\xe2n"),width:1e3,visible:u,onCancel:e.onCancel,footer:[(0,S.jsx)(s.$n,{onClick:e.onCancel,loading:h,children:"H\u1ee7y"},"back"),(0,S.jsx)(s.$n,{htmlType:"submit",type:"primary",form:"formquoctich",loading:h,onClick:async t=>{t.preventDefault(),n.validateFields().then((t=>{const{onCreate:n}=e;t.NDTiep=y.toString(),t.NgayTiep=(0,f.Yq)(t.NgayTiep),(0,f.oy)(t),n(t)}))},children:"L\u01b0u"},"submit")],children:(0,S.jsxs)(j.A,{form:n,name:"formlichtiepdan",initialValues:{TrangThai:1,CapID:4,DuocSuDung:!0,Public:!0},children:["edit"===p?(0,S.jsx)(I,{name:"IDLichTiep",hidden:!0}):"",d.isView?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("p",{children:["C\u01a1 quan ti\u1ebfp:"," ",(0,S.jsx)("span",{style:{fontWeight:500},children:d.CoQuanTiep})]}),(0,S.jsxs)("p",{children:["L\xe3nh \u0111\u1ea1o ti\u1ebfp:"," ",(0,S.jsx)("span",{style:{fontWeight:500},children:d.CoQuanTiep?null===(t=c.find((e=>e.CanBoID===d.IDCanBoTiep)))||void 0===t?void 0:t.TenCanBo:null})]}),(0,S.jsxs)("p",{children:["N\u1ed9i dung ti\u1ebfp:"," ",(0,S.jsx)("span",{style:{fontWeight:500},children:d.NDTiep})]}),(0,S.jsxs)("p",{children:["Ng\xe0y ti\u1ebfp:"," ",(0,S.jsx)("span",{style:{fontWeight:500},children:d.NgayTiep_Str})]}),(0,S.jsxs)("p",{children:["Hi\u1ec3n th\u1ecb:"," ",(0,S.jsx)("span",{style:{fontWeight:500},children:!0===d.Public?"C\xf3 hi\u1ec3n th\u1ecb":"Kh\xf4ng hi\u1ec3n th\u1ecb"})]})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I,{label:"C\u01a1 quan ti\u1ebfp",name:"IDCoQuanTiep",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,S.jsx)(s.f7,{showSearch:!0,treeData:g,onChange:e=>{N(e),n.setFieldValue("IDCanBoTiep",null)},dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Ch\u1ecdn c\u01a1 quan",allowClear:!0,treeDefaultExpandAll:!0,notFoundContent:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",treeNodeFilterProp:"title"})}),(0,S.jsx)(I,{label:"L\xe3nh \u0111\u1ea1o ti\u1ebfp",name:"IDCanBoTiep",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,S.jsx)(s.l6,{children:c?c.map((e=>(0,S.jsx)(s.c$,{value:e.CanBoID,children:e.TenCanBo},e.CanBoID))):null})}),(0,S.jsx)(I,{label:"N\u1ed9i dung ti\u1ebfp",name:"NDTiep",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,S.jsx)(w.A,{onChange:z,data:y},v)}),(0,S.jsx)(I,{label:"Ng\xe0y ti\u1ebfp",name:"NgayTiep",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,S.jsx)(s.lr,{style:{width:"100%"},format:"DD/MM/YYYY"})}),(0,S.jsx)(I,{label:"Hi\u1ec3n th\u1ecb",name:"Public",...b.ITEM_LAYOUT,valuePropName:"checked",children:(0,S.jsx)(x.A,{defaultChecked:null===d||void 0===d?void 0:d.Public})})]})]})})};var M,N,z=n(21428),E=n(38674),P=n(26716),Q=n(2782),q=n(22953),B=n(2637),H=n(37735);q.Ay.div(M||(M=(0,a.A)(["\n  display: 'flex';\n"])));const Y=q.Ay.div(N||(N=(0,a.A)(["\n  .ant-space-item {\n    font-size: 20px;\n  }\n  .ant-space-item:hover {\n    cursor: pointer;\n  }\n  .ant-table-tbody > tr > td a {\n    color: black !important;\n  }\n"])));const R=(0,d.Ng)((function(e){return{...e.QLLichTiepDan,role:(0,f.vh)(e.Auth.role,"ql-lich-tiep-dan")}}),l.A)((e=>{document.title="Qu\u1ea3n l\xfd l\u1ecbch ti\u1ebfp d\xe2n";const[t,n]=(0,o.useState)(v.parse(e.location.search)),[a,l]=(0,o.useState)({}),[D,b]=(0,o.useState)(!1),[j,w]=(0,o.useState)(""),[I,L]=(0,m.D)(),[M,N]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(0,f._Y)(t),e.getList(t)}),[t]),(0,o.useEffect)((()=>{e.getInit(t),$(H.A.getInitData())}),[]);const q=(e,a)=>{let i=t,r={value:e,property:a},c=(0,f.D5)(i,r,null);n(c)},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;w("edit"),T.A.ChiTietBieuMau({IDLichTiep:n}).then((e=>{e.data.Status>0?(l({...e.data.Data,isView:t}),L(),b(!0)):(i.Ay.destroy(),i.Ay.error(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.error(e.toString())}))},F=()=>{w(""),l({}),b(!1)},U=a=>(0,S.jsx)(Y,{children:(0,S.jsxs)(c.A,{size:"middle",children:[(0,S.jsx)(z.A,{onClick:()=>R(a.IDLichTiep)}),(0,S.jsx)(E.A,{onClick:()=>{var c;c=a.IDLichTiep,r.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a bi\u1ec3u m\u1eabu n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{T.A.XoaLichTiepDan({ListID:[c]}).then((a=>{a.data.Status>0?(e.getList({...t,PageNumber:Math.ceil((_-1)/t.PageSize)<t.PageNumber?Math.ceil((_-1)/t.PageSize):t.PageNumber}),i.Ay.destroy(),i.Ay.success(a.data.Message),n({...t,PageNumber:Math.ceil((_-1)/t.PageSize)<t.PageNumber?Math.ceil((_-1)/t.PageSize):t.PageNumber})):(i.Ay.destroy(),i.Ay.error(a.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.error(e.toString())}))}})}}),(0,S.jsx)(P.A,{onClick:()=>R(a.IDLichTiep,!0)})]})}),{DanhSachLichTiepDan:V,TotalRow:_,role:K,DanhSachLanhDaoTiep:O}=e,{DanhSachCoQuan:W}=(0,d.d4)((e=>e.DMCoQuan)),$=(0,d.wA)(),G=t.PageNumber?parseInt(t.PageNumber):1,X=t.PageSize?parseInt(t.PageSize):(0,f.WT)(),J=[{title:"STT",width:"5%",align:"center",render:(e,t,n)=>(0,S.jsx)("span",{children:(G-1)*X+(n+1)})},{title:"Ng\xe0y ti\u1ebfp d\xe2n",dataIndex:"NgayTiep",align:"center",width:"10%",render:(e,t)=>(0,S.jsx)("p",{children:t.NgayTiep?C()(t.NgayTiep).format("DD/MM/YYYY"):null})},{title:"C\u01a1 quan",dataIndex:"CoQuanTiep",align:"left",width:"20%"},{title:"L\xe3nh \u0111\u1ea1o ti\u1ebfp",dataIndex:"CanBoTiep",align:"center",width:"10%",render:(e,t)=>t.CanBoTiep},{title:"N\u1ed9i dung ti\u1ebfp",dataIndex:"NDTiep",align:"left",width:"40%",render:(e,t)=>(0,S.jsx)("p",{dangerouslySetInnerHTML:{__html:t.NDTiep}})},{title:"Hi\u1ec3n th\u1ecb ",dataIndex:"Public",align:"center",width:"10%",render:(n,a)=>(0,S.jsx)(x.A,{checked:a.Public,onChange:n=>((n,a)=>{T.A.UpdateTrangThai({Public:n.target.checked,IDLichTiep:a}).then((n=>{n.data.Status>0?(i.Ay.destroy(),i.Ay.success(n.data.Message),e.getList(t)):(i.Ay.destroy(),i.Ay.warning(n.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.warning(e.toString())}))})(n,a.IDLichTiep)})},{title:"Thao t\xe1c",width:"10%",align:"center",render:(e,t)=>U(t)}];return(0,S.jsxs)(h.A,{children:[(0,S.jsxs)(B.A,{children:[(0,S.jsx)(u.A,{children:"Qu\u1ea3n l\xfd l\u1ecbch ti\u1ebfp d\xe2n"}),(0,S.jsx)(p.A,{children:K.add?(0,S.jsxs)(s.$n,{type:"primary",onClick:()=>{w("add"),l({}),L(),b(!0)},children:[(0,S.jsx)(Q.A,{}),"Th\xeam l\u1ecbch ti\u1ebfp d\xe2n"]}):null})]}),(0,S.jsxs)(g.A,{children:[(0,S.jsxs)(y.A,{children:[(0,S.jsx)(s.f7,{showSearch:!0,treeData:W,onChange:e=>q(e,"CoQuanID"),style:{width:400},dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Ch\u1ecdn c\u01a1 quan",allowClear:!0,treeDefaultExpandAll:!0,notFoundContent:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",treeNodeFilterProp:"title"}),(0,S.jsx)(s.NJ,{allowClear:!0,defaultValue:t.Keyword,placeholder:"Nh\u1eadp n\u1ed9i dung c\u1ea7n t\xecm ki\u1ebfm",style:{width:300},onSearch:e=>q(e,"Keyword")})]}),(0,S.jsx)(A.Ay,{columns:J,dataSource:V,onChange:(e,a,i)=>{let r=t,c={pagination:e,filters:a,sorter:i},l=(0,f.D5)(r,null,c);n(l)},pagination:{showSizeChanger:!0,showTotal:(e,t)=>"T\u1eeb ".concat(t[0]," \u0111\u1ebfn ").concat(t[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:_,current:G,pageSize:X}})]}),(0,S.jsx)(k,{visible:D,dataEdit:a,action:j,loading:M,onCreate:n=>{N(!0),"add"===j&&T.A.ThemLichTiepDan(n).then((n=>{N(!1),n.data.Status>0?(i.Ay.destroy(),i.Ay.success(n.data.Message),F(),e.getList(t)):(i.Ay.destroy(),i.Ay.error(n.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.error(e.toString())})),"edit"===j&&T.A.SuaLichTiepDan(n).then((n=>{N(!1),n.data.Status>0?(i.Ay.destroy(),i.Ay.success(n.data.Message),F(),e.getList(t)):(i.Ay.destroy(),i.Ay.error(n.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.error(e.toString())}))},onCancel:F,DanhSachCoQuan:W,DanhSachLichTiepDan:V,DanhSachLanhDaoTiep:O},I)]})}))},38674:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(58168),i=n(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var c=n(56594),l=function(e,t){return i.createElement(c.A,(0,a.A)({},e,{ref:t,icon:r}))};const o=i.forwardRef(l)},21428:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(58168),i=n(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var c=n(56594),l=function(e,t){return i.createElement(c.A,(0,a.A)({},e,{ref:t,icon:r}))};const o=i.forwardRef(l)},26716:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(58168),i=n(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M956 686.5l-.1-.1-.1-.1C911.7 593 843.4 545 752.5 545s-159.2 48.1-203.4 141.3v.1a42.92 42.92 0 000 36.4C593.3 816 661.6 864 752.5 864s159.2-48.1 203.4-141.3c5.4-11.5 5.4-24.8.1-36.2zM752.5 800c-62.1 0-107.4-30-141.1-95.5C645 639 690.4 609 752.5 609c62.1 0 107.4 30 141.1 95.5C860 770 814.6 800 752.5 800z"}},{tag:"path",attrs:{d:"M697 705a56 56 0 10112 0 56 56 0 10-112 0zM136 232h704v253h72V192c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v520c0 17.7 14.3 32 32 32h352v-72H136V232z"}},{tag:"path",attrs:{d:"M724.9 338.1l-36.8-36.8a8.03 8.03 0 00-11.3 0L493 485.3l-86.1-86.2a8.03 8.03 0 00-11.3 0L251.3 543.4a8.03 8.03 0 000 11.3l36.8 36.8c3.1 3.1 8.2 3.1 11.3 0l101.8-101.8 86.1 86.2c3.1 3.1 8.2 3.1 11.3 0l226.3-226.5c3.2-3.1 3.2-8.2 0-11.3z"}}]},name:"fund-view",theme:"outlined"};var c=n(56594),l=function(e,t){return i.createElement(c.A,(0,a.A)({},e,{ref:t,icon:r}))};const o=i.forwardRef(l)},2782:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(58168),i=n(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var c=n(56594),l=function(e,t){return i.createElement(c.A,(0,a.A)({},e,{ref:t,icon:r}))};const o=i.forwardRef(l)}}]);