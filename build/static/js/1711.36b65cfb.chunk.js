"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[1711],{74405:(e,t,n)=>{n.d(t,{$:()=>h,A:()=>l});var a,r=n(26418),i=n(57528),s=n(22953),o=n(6535);const c=(e=>(0,s.Ay)(e)(a||(a=(0,i.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,o.palette)("text",1),(0,o.palette)("primary",0),(0,o.palette)("primary",0),(0,o.palette)("primary",0),(0,o.palette)("primary",0)))(r.A),h=r.A.Group,l=c},2637:(e,t,n)=>{n.d(t,{A:()=>c});n(82483);var a,r=n(57528),i=n(22953);n(6535);const s=i.Ay.div(a||(a=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var o=n(56723);const c=e=>(0,o.jsx)(s,{className:"wrapper-top",children:e.children})},67466:(e,t,n)=>{n.d(t,{D:()=>r});var a=n(82483);function r(e){const[t,n]=(0,a.useState)(0);return[t,()=>{n(t+1)}]}},1711:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(72741),r=n(93445),i=n(256),s=n(68756),o=n(82483),c=n(82402),h=n(53660),l=n(34045),d=n(81538),g=n(64684),u=n(67353),y=n(53615),m=n(65828),x=n(74405),A=n(18570),T=n(67466),p=n(92378),S=n(53620),f=(n(94690),n(33713)),b=n(79948),j=n(23511),C=n(24028),k=n(56723);const{Item:w,useForm:v}=b.A,D=e=>{const[t,n]=(0,o.useState)(!0),[a]=v(),{dataEdit:r,loading:i,visible:s,action:c}=e;(0,o.useEffect)((()=>{r&&r.SystemConfigID&&a&&a.setFieldsValue({...r,TrangThai:r.TrangThai?1:0})}),[]);return(0,k.jsx)(m.aF,{title:"".concat("edit"===c?"S\u1eeda tham s\u1ed1 h\u1ec7 th\u1ed1ng":"Th\xeam m\u1edbi ch\u1ee9c n\u0103ng"),width:450,visible:s,onCancel:e.onCancel,footer:[(0,k.jsx)(m.$n,{onClick:e.onCancel,children:"H\u1ee7y"},"back"),(0,k.jsx)(m.$n,{htmlType:"submit",type:"primary",form:"formthamsohethong",loading:i,onClick:async t=>{t.preventDefault();const n=await a.validateFields();e.onCreate({...n,TrangThai:Boolean(n.TrangThai)})},disabled:t,children:"L\u01b0u"},"submit")],children:(0,k.jsxs)(b.A,{form:a,name:"formthamsohethong",initialValues:{TrangThai:1},onChange:async(e,t)=>{const r=await a.getFieldsValue(),{ConfigKey:i,ConfigValue:s}=r;n(!i||!s)},children:["edit"===c?(0,k.jsx)(w,{name:"SystemConfigID",hidden:!0}):"",(0,k.jsx)(w,{label:"Tham s\u1ed1",name:"ConfigKey",...f.ITEM_LAYOUT,rules:[f.REQUIRED],children:(0,k.jsx)(m.mS,{})}),(0,k.jsx)(w,{label:"Gi\xe1 tr\u1ecb",name:"ConfigValue",...f.ITEM_LAYOUT,rules:[f.REQUIRED],children:(0,k.jsx)(m.pd,{})}),(0,k.jsx)(w,{label:"Ghi ch\xfa",name:"Description",...f.ITEM_LAYOUT,children:(0,k.jsx)(C.A,{})}),(0,k.jsx)(w,{label:"\u0110ang s\u1eed d\u1ee5ng",name:"TrangThai",...f.ITEM_LAYOUT,children:(0,k.jsxs)(j.Ay.Group,{children:[(0,k.jsx)(j.Ay,{value:1,children:"C\xf3"}),(0,k.jsx)(j.Ay,{value:0,children:"Kh\xf4ng"})]})})]})})};var I=n(21428),M=n(38674),L=n(2782),P=n(2637);const E=(0,c.Ng)((function(e){return{...e.QuanLyThamSoHeThong,role:(0,A.vh)(e.Auth.role,"tham-so-he-thong")}}),s.A)((e=>{document.title="Qu\u1ea3n L\xfd Tham S\u1ed1 H\u1ec7 Th\u1ed1ng";const[t,n]=(0,o.useState)(p.parse(e.location.search)),[s,c]=(0,o.useState)({}),[f,b]=(0,o.useState)(!1),[j,C]=(0,o.useState)(""),[w,v]=(0,T.D)(),[E,N]=(0,o.useState)([]),[H,K]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(0,A._Y)(t),e.getList(t)}),[t]),(0,o.useEffect)((()=>{e.getList(t)}),[]);const z=(e,a)=>{let r=t,i={value:e,property:a},s=(0,A.D5)(r,i,null);n(s),N([])},V=()=>{N([]),c({}),b(!1)},O=s=>(0,k.jsxs)("div",{className:"action-btn",children:[F.edit?(0,k.jsx)(i.A,{title:"S\u1eeda",children:(0,k.jsx)(I.A,{onClick:()=>(e=>{const t=e;C("edit"),S.A.ChiTietThamSoHeThong({SystemConfigID:t}).then((e=>{e.data.Status>0?(c(e.data.Data),v(),b(!0)):(r.Ay.destroy(),r.Ay.error(e.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))})(s.SystemConfigID)})}):"",F.delete?(0,k.jsx)(i.A,{title:"X\xf3a",children:(0,k.jsx)(M.A,{onClick:()=>{return i=s.SystemConfigID,void a.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a tham s\u1ed1 h\u1ec7 th\u1ed1ng n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{K(!0),S.A.XoaThamSoHeThong(i).then((a=>{a.data.Status>0?(K(!1),e.getList({...t,PageNumber:Math.ceil((U-1)/t.PageSize)<t.PageNumber?Math.ceil((U-1)/t.PageSize):t.PageNumber}),r.Ay.destroy(),r.Ay.success(a.data.Message),n({...t,PageNumber:Math.ceil((U-1)/t.PageSize)<t.PageNumber?Math.ceil((U-1)/t.PageSize):t.PageNumber})):(r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))}});var i}})}):""]}),{DanhSachThamSoHeThong:G,TotalRow:U,role:F}=e,Q=t.PageNumber?parseInt(t.PageNumber):1,R=t.PageSize?parseInt(t.PageSize):(0,A.WT)(),Y=[{title:"STT",width:"5%",align:"center",render:(e,t,n)=>(0,k.jsx)("span",{children:(Q-1)*R+(n+1)})},{title:"Tham s\u1ed1",dataIndex:"ConfigKey",align:"left",width:"15%"},{title:"Gi\xe1 tr\u1ecb",dataIndex:"ConfigValue",align:"left",width:"25%"},{title:"Ghi ch\xfa",dataIndex:"Description",align:"left",width:"35%"},{title:"Tr\u1ea1ng th\xe1i s\u1eed d\u1ee5ng",align:"center",width:"10%",render:(e,t)=>(e=>(0,k.jsx)(x.A,{checked:e.TrangThai}))(t)},{title:"Thao t\xe1c",width:"10%",align:"center",render:(e,t)=>O(t)}];return(0,k.jsxs)(h.A,{children:[(0,k.jsxs)(P.A,{children:[(0,k.jsx)(l.A,{children:"Qu\u1ea3n L\xfd Tham S\u1ed1 H\u1ec7 Th\u1ed1ng"}),(0,k.jsx)(d.A,{children:F&&F.add?(0,k.jsxs)(m.$n,{type:"primary",onClick:()=>{C("add"),c({}),v(),b(!0)},children:[(0,k.jsx)(L.A,{}),"Th\xeam M\u1edbi"]}):""})]}),(0,k.jsxs)(g.A,{children:[(0,k.jsxs)(u.A,{children:[(0,k.jsxs)(m.l6,{style:{width:"200px"},defaultValue:t.Status?"true"===t.Status?"\u0110ang s\u1eed d\u1ee5ng":"Kh\xf4ng s\u1eed d\u1ee5ng":void 0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",allowClear:!0,onChange:e=>z(e,"Status"),children:[(0,k.jsx)(Option,{value:!0,children:"\u0110ang s\u1eed d\u1ee5ng"}),(0,k.jsx)(Option,{value:!1,children:"Kh\xf4ng s\u1eed d\u1ee5ng"})]}),(0,k.jsx)(m.NJ,{defaultValue:t.Keyword,placeholder:"T\xecm ki\u1ebfm theo tham s\u1ed1",style:{width:300},onSearch:e=>z(e,"Keyword"),allowClear:!0})]}),(0,k.jsx)(y.Ay,{columns:Y,dataSource:G,onChange:(e,a,r)=>{let i=t,s={pagination:e,filters:a,sorter:r},o=(0,A.D5)(i,null,s);n(o),N([])},pagination:{showSizeChanger:!0,showTotal:(e,t)=>"T\u1eeb ".concat(t[0]," \u0111\u1ebfn ").concat(t[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:U,current:Q,pageSize:R},rowKey:e=>e.SystemConfigID})]}),(0,k.jsx)(D,{visible:f,dataEdit:s,action:j,loading:H,onCreate:n=>{K(!0),"add"===j&&S.A.ThemMoiThamSoHeThong(n).then((n=>{K(!1),n.data.Status>0?(r.Ay.destroy(),r.Ay.success(n.data.Message),V(),e.getList(t)):(K(!1),r.Ay.destroy(),r.Ay.error(n.data.Message))})).catch((e=>{K(!1),r.Ay.destroy(),r.Ay.error(e.toString())})),"edit"===j&&S.A.CapNhatThamSoHeThong(n).then((n=>{n.data.Status>0?(K(!1),r.Ay.destroy(),r.Ay.success(n.data.Message),V(),e.getList(t)):(K(!1),r.Ay.destroy(),r.Ay.error(n.data.Message))})).catch((e=>{K(!1),r.Ay.destroy(),r.Ay.error(e.toString())}))},onCancel:V,DanhSachThamSoHeThong:G},w)]})}))}}]);