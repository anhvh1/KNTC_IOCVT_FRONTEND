"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[9302],{74405:(n,e,t)=>{t.d(e,{$:()=>o,A:()=>h});var a,i=t(26418),c=t(57528),l=t(22953),r=t(6535);const s=(n=>(0,l.Ay)(n)(a||(a=(0,c.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,r.palette)("text",1),(0,r.palette)("primary",0),(0,r.palette)("primary",0),(0,r.palette)("primary",0),(0,r.palette)("primary",0)))(i.A),o=i.A.Group,h=s},2637:(n,e,t)=>{t.d(e,{A:()=>s});t(82483);var a,i=t(57528),c=t(22953);t(6535);const l=c.Ay.div(a||(a=(0,i.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var r=t(56723);const s=n=>(0,r.jsx)(l,{className:"wrapper-top",children:n.children})},67466:(n,e,t)=>{t.d(e,{D:()=>i});var a=t(82483);function i(n){const[e,t]=(0,a.useState)(0);return[e,()=>{t(e+1)}]}},64866:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Q});var a,i=t(72741),c=t(93445),l=t(256),r=t(9716),s=t(82483),o=t(82402),h=t(94746),d=t(53660),u=t(34045),p=t(81538),x=t(64684),g=t(67353),v=t(53615),b=t(74405),y=t(69973),m=t(57528);const f=t(22953).Ay.div(a||(a=(0,m.A)(["\n  .ant-tabs-nav::before {\n    display: none !important;\n  }\n  .ant-tabs-nav-wrap div:first-child {\n    transform: none !important;\n  }\n  .ant-tabs-ink-bar {\n    display: none;\n  }\n  .ant-tabs-ink-bar-animated {\n    display: none;\n  }\n  .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n  .ant-tabs-tab {\n    padding: 10px 0;\n  }\n  .ant-tabs .ant-tabs-tab {\n  }\n  .ant-tabs .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .ant-tabs__title {\n    width: 250px;\n    /* height: 35px; */\n    background: #eaf1fb;\n    color: #000;\n    padding: 10px 0;\n    height: 36px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-left: 1px solid #0b57d0;\n  }\n  .ant-tabs-tab-active .ant-tabs__title {\n    background: rgb(40, 120, 215) !important;\n    color: #fff;\n    background: #94cef7;\n    font-weight: 600;\n  }\n"])));var j=t(27957),T=t(54686),D=t.n(T),A=t(65828),w=(t(33713),t(18570)),N=(t(67466),t(92378)),k=t(91465),S=t(60559),C=t(2212),z=t(98628),H=t(38450);var K=t(92020),L=t(22348),I=t(5103),V=(t(94690),t(56723));function M(n){const{excelRef:e,printRef:t}=n,a={th:{fontWeight:"bold",textAlign:"center",padding:5,border:"solid 0.5pt #ccc"},td:{padding:5,border:"solid 0.5pt #ccc"}},{DanhSachVuViec:i,isPrint:c}=n;return(0,V.jsxs)("div",{style:{display:"none",width:"100%"},ref:t,children:[(0,V.jsxs)("div",{className:"title-table",children:[(0,V.jsx)("p",{style:{fontWeight:500,textTransform:"uppercase",textAlign:"center"},children:"c\u1ed9ng h\xf2a x\xe3 h\u1ed9i ch\u1ee7 ngh\u0129a vi\u1ec7t nam"}),(0,V.jsx)("p",{style:{fontWeight:500,textTransform:"capitalize",textAlign:"center",marginBottom:"10px"},children:"\u0111\u1ed9c l\u1eadp - t\u1ef1 do - h\u1ea1nh ph\xfac"}),(0,V.jsx)("p",{style:{fontSize:20,fontWeight:600,textTransform:"uppercase",textAlign:"center"},children:"danh s\xe1ch v\u1ee5 vi\u1ec7c ph\u1ee9c t\u1ea1p"})]}),(0,V.jsx)("div",{className:"table-scroll",ref:e,children:(0,V.jsxs)("table",{id:"table-to-xls",className:"table-scroll__wrapper",children:[(0,V.jsxs)("thead",{children:[(0,V.jsx)("th",{style:{...a.th,width:"3%"},children:"STT"}),(0,V.jsx)("th",{style:{...a.th,width:"10%"},children:"S\u1ed1 \u0111\u01a1n"}),(0,V.jsx)("th",{style:{...a.th,width:"15%"},children:"Th\xf4ng tin ch\u1ee7 \u0111\u01a1n"}),(0,V.jsx)("th",{style:{...a.th,width:"25%"},children:"N\u1ed9i dung \u0111\u01a1n"}),(0,V.jsx)("th",{style:{...a.th,width:"10%"},children:"Lo\u1ea1i khi\u1ebfu t\u1ed1"}),(0,V.jsx)("th",{style:{...a.th,width:"7%"},children:"Ng\xe0y ti\u1ebfp nh\u1eadn"}),(0,V.jsx)("th",{style:{...a.th,width:"10%"},children:"C\u01a1 quan ti\u1ebfp nh\u1eadn"})]}),(0,V.jsx)("tbody",{children:i&&(null===i||void 0===i?void 0:i.map(((n,e)=>(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("tr",{children:[(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("p",{style:{textAlign:"center"},children:e+1})}),(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("p",{children:n.SoDonThu})}),(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("div",{children:null!==n&&void 0!==n&&n.listDoiTuongKN?n.listDoiTuongKN.map((n=>(0,V.jsxs)("div",{children:[(0,V.jsx)("p",{style:{fontWeight:"600",color:1===n.TrangThaiQuaHan?"red":"",textTransform:"capitalize"},children:n.HoTen}),(0,V.jsx)("p",{style:{color:1===n.TrangThaiQuaHan?"red":""},children:n.DiaChiCT})]}))):null})}),(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("p",{children:n.NoiDungDon})}),(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("p",{children:n.TenLoaiKhieuTo})}),(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("p",{children:n.NgayTiepNhan?D()(n.NgayTiepNhan).format("DD/MM/YYYY"):null})}),(0,V.jsx)("td",{style:a.td,children:(0,V.jsx)("p",{children:n.TenCoQuan})})]})}))))})]})})]})}var _=t(2637);const Q=(0,o.Ng)((function(n){return{...n.QLVuViecPhucTap,role:(0,w.vh)(n.Auth.role,"vu-viec-phuc-tap")}}),h.A)((n=>{document.title="Qu\u1ea3n l\xfd v\u1ee5 vi\u1ec7c ph\u1ee9c t\u1ea1p";const[e,t]=(0,s.useState)(N.parse(n.location.search)),[a,o]=(0,s.useState)([]),[h,m]=(0,s.useState)(!1),[T,Q]=(0,s.useState)(!1),[P,R]=(0,s.useState)(0),[Y,E]=(0,s.useState)({}),W=(0,s.useRef)(),B=(0,s.useRef)(),{role:F}=n,{DanhSachVuViec:$,DanhSachLoaiKhieuTo:q,TotalRow:O,tableLoading:X,DanhSachExcel:G}=n;(0,s.useEffect)((()=>{(0,w._Y)(e),n.getList(e)}),[e]),(0,s.useEffect)((()=>{n.getData()}),[]);const J=(n,a,i)=>{let c=e,l={pagination:n,filters:a,sorter:i},r=(0,w.D5)(c,null,l);t(r),o([])},U=(n,a)=>{let i=e,c={value:n,property:a},l=(0,w.D5)(i,c,null);t(l),o([])},Z=()=>{const n={selectedRowsKey:a,renderCell:(n,e,t,i)=>(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,V.jsx)(S.A,{className:"ant-icon__table",style:{marginRight:4,fontSize:14,visibility:"hidden"}}),(0,V.jsx)("div",{children:(0,V.jsx)(b.A,{className:"selected__table",checked:a.includes(e.DonThuID),onChange:()=>(n=>{const e=[...a];e.includes(n.key)?o(e.filter((e=>e!==n.key))):o([...e,n.key])})(e)})})]}),onChange:n=>{o(n)}},e=null===$||void 0===$?void 0:$.map((n=>({...n,key:null===n||void 0===n?void 0:n.DonThuID})));return(0,V.jsxs)(V.Fragment,{children:[nn(),(0,V.jsx)(v.Ay,{rowSelection:n,columns:an,loading:X,dataSource:e,onChange:J,pagination:{showSizeChanger:!0,showTotal:(n,e)=>"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3"),total:O,current:en,pageSize:tn}})]})},nn=()=>{const{Search:n}=j.A;return 2!==Number(e.tabsKey)?(0,V.jsxs)(g.A,{isCenter:!0,children:[(0,V.jsx)(y.Ay,{style:{width:"200px"},value:e.LoaiKhieuToID,placeholder:"Ch\u1ecdn lo\u1ea1i \u0111\u01a1n",allowClear:!0,onChange:n=>U(n,"LoaiKhieuToID"),children:q?q.map((n=>(0,V.jsx)(Option,{value:n.LoaiKhieuToID.toString(),children:n.TenLoaiKhieuTo},n.LoaiKhieuToID))):null}),(0,V.jsx)(A.NJ,{allowClear:!0,defaultValue:null===e||void 0===e?void 0:e.Keyword,placeholder:"Nh\u1eadp t\xean ch\u1ee7 \u0111\u01a1n ho\u1eb7c n\u1ed9i dung c\u1ea7n t\xecm ki\u1ebfm",style:{width:350},onSearch:n=>U(n,"Keyword")})]}):null},en=e.PageNumber?parseInt(e.PageNumber):1,tn=e.PageSize?parseInt(e.PageSize):(0,w.WT)(),an=[{title:"S\u1ed1 \u0111\u01a1n th\u01b0",dataIndex:"SoDonThu",align:"center",width:"8%",render:(n,e,t)=>(0,V.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.SoDonThu})},{title:"Th\xf4ng tin ch\u1ee7 \u0111\u01a1n",dataIndex:"TenChuDon",align:"left",width:"20%",render:(n,e,t)=>(0,V.jsx)("div",{children:null!==e&&void 0!==e&&e.listDoiTuongKN?e.listDoiTuongKN.map((n=>(0,V.jsxs)("div",{children:[(0,V.jsx)("p",{style:{fontWeight:"600",color:1===e.TrangThaiQuaHan?"red":"",textTransform:"capitalize"},children:n.HoTen}),(0,V.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:n.DiaChiCT})]}))):null})},{title:"N\u1ed9i dung v\u1ee5 vi\u1ec7c",dataIndex:"NoiDungDon",align:"left",width:"40%",render:(n,e,t)=>(0,V.jsx)(l.A,{title:e.NoiDungDon,children:(0,V.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:(0,w.Mi)(e.NoiDungDon,150)})})},{title:"Lo\u1ea1i \u0111\u01a1n",dataIndex:"TenLoaiKhieuTo",align:"left",width:"10%",render:(n,e,t)=>(0,V.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.TenLoaiKhieuTo})},{title:"Ng\xe0y ti\u1ebfp nh\u1eadn",dataIndex:"NgayNhapDon",align:"center",width:"10%",render:(n,e,t)=>(0,V.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.NgayTiepNhan?D()(e.NgayTiepNhan).format("DD/MM/YYYY"):null})},{title:"C\u01a1 quan ti\u1ebfp nh\u1eadn",dataIndex:"CoQuanTiepNhan",align:"center",width:"10%",render:(n,e,t)=>(0,V.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.TenCoQuan})}],cn=[{key:"1",label:(0,V.jsx)("div",{className:"ant-tabs__title",children:"Danh s\xe1ch v\u1ee5 vi\u1ec7c ph\u1ee9c t\u1ea1p"}),children:(0,V.jsx)(V.Fragment,{children:Z()})},{key:"2",label:(0,V.jsx)("div",{className:"ant-tabs__title",children:"Danh s\xe1ch v\u1ee5 vi\u1ec7c \u0111ang gi\u1ea3i quy\u1ebft"}),children:(0,V.jsx)(V.Fragment,{children:Z()})}];return(0,V.jsxs)(d.A,{children:[(0,V.jsxs)(_.A,{children:[(0,V.jsx)(u.A,{children:"Qu\u1ea3n l\xfd v\u1ee5 vi\u1ec7c ph\u1ee9c t\u1ea1p"}),(0,V.jsxs)(p.A,{children:[(0,V.jsxs)(A.$n,{className:"btn-center",type:"primary",onClick:()=>{var n;const e=a[0],t=null===$||void 0===$||null===(n=$.find((n=>n.DonThuID===e)))||void 0===n?void 0:n.XuLyDonID;k.A.ChiTietDonThu2({DonThuID:e,XuLyDonID:t}).then((n=>{n.data.Status>0&&(E(n.data.Data),Q(!0),R((n=>n+1)))}))},disabled:!(1===(null===a||void 0===a?void 0:a.length)),children:[(0,V.jsx)("img",{src:1!==(null===a||void 0===a?void 0:a.length)?K:L,className:"btn-icon__img"}),"Xem chi ti\u1ebft \u0111\u01a1n th\u01b0"]}),"2"!==e.tabsKey?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(A.$n,{className:"btn-center",type:"primary",onClick:()=>(()=>{const n=B.current.innerHTML;(0,w.m1)(n,"Danh s\xe1ch \u0111\u01a1n th\u01b0")})(),disabled:!(null!==G&&void 0!==G&&G.length),children:[(0,V.jsx)(C.A,{}),"Xu\u1ea5t excel"]}),(0,V.jsxs)(A.$n,{className:"btn-center",type:"primary",onClick:()=>(()=>{const n="<style>".concat("\n#table-to-xls {\n    width: 100%;\n    border: 1px solid #e8e8e8;\n    border-radius: 4px 4px 0 0;\n    border-collapse: collapse;\n    margin: 15px 0;\n}\n#table-to-xls th, #table-to-xls td {\n    border: 1px solid #ccc;\n    padding: 2px 8px;\n}\n#table-to-xls {\n    font-size: 13px;\n}\n","</style>")+W.current.innerHTML;(0,w.Tu)(n)})(),children:[(0,V.jsx)(z.A,{}),"In Danh S\xe1ch"]})]}):F.edit?(0,V.jsx)(A.$n,{className:"btn-center",type:"primary",onClick:()=>{i.A.confirm({title:"Th\xf4ng b\xe1o",content:"\u0110\u01a1n th\u01b0 \u0111\xe3 \u0111\xe1nh d\u1ea5u \u0111\u01b0\u1ee3c chuy\u1ec3n v\xe0o danh s\xe1ch c\xe1c v\u1ee5 vi\u1ec7c ph\u1ee9c t\u1ea1p, k\xe9o d\xe0i. B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n th\u1ef1c hi\u1ec7n hay kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{m(!0),k.A.DanhDauVuViecPhucTap({DanhSachDonThuID:a}).then((t=>{m(!1),t.data.Status>0?(o([]),n.getList({...e,PageNumber:Math.ceil((O-1)/e.PageSize)<e.PageNumber?Math.ceil((O-1)/e.PageSize):e.PageNumber}),c.Ay.destroy(),c.Ay.success(t.data.Message)):(c.Ay.destroy(),c.Ay.error(t.data.Message))})).catch((n=>{c.Ay.destroy(),c.Ay.error(n.toString())}))}})},disabled:(null===a||void 0===a?void 0:a.length)<1,icon:(0,V.jsx)(H.A,{}),loading:h,children:"\u0110\xe1nh d\u1ea5u v\u1ee5 vi\u1ec7c ph\u1ee9c t\u1ea1p"}):null]})]}),(0,V.jsx)(x.A,{children:(0,V.jsx)(f,{children:(0,V.jsx)(r.A,{items:cn,defaultActiveKey:"1",value:null===e||void 0===e?void 0:e.tabsKey,onChange:n=>{const a={...e};for(const e in a)Object.hasOwnProperty.call(a,e)&&"Status"!==a[e]&&(a[e]=null);o([]),t({...a,tabsKey:n})}})})}),(0,V.jsx)(M,{DanhSachVuViec:G,excelRef:B,printRef:W}),(0,V.jsx)(I.A,{visible:T,dataEdit:Y,onCancel:()=>{E({}),Q(!1)}},P)]})}))},2212:(n,e,t)=>{t.d(e,{A:()=>s});var a=t(58168),i=t(82483);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"};var l=t(56594),r=function(n,e){return i.createElement(l.A,(0,a.A)({},n,{ref:e,icon:c}))};const s=i.forwardRef(r)},98628:(n,e,t)=>{t.d(e,{A:()=>s});var a=t(58168),i=t(82483);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"};var l=t(56594),r=function(n,e){return i.createElement(l.A,(0,a.A)({},n,{ref:e,icon:c}))};const s=i.forwardRef(r)},60559:(n,e,t)=>{t.d(e,{A:()=>s});var a=t(58168),i=t(82483);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var l=t(56594),r=function(n,e){return i.createElement(l.A,(0,a.A)({},n,{ref:e,icon:c}))};const s=i.forwardRef(r)},92020:(n,e,t)=>{n.exports=t.p+"static/media/preview.928129650a7bf1111359.png"},22348:(n,e,t)=>{n.exports=t.p+"static/media/preview_wihte.1f32ac4ea051cceb2841.png"}}]);