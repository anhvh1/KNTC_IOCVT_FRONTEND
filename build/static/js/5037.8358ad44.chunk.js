"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[5037],{2637:(n,e,i)=>{i.d(e,{A:()=>h});i(82483);var a,t=i(57528),l=i(22953);i(6535);const o=l.Ay.div(a||(a=(0,t.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var r=i(56723);const h=n=>(0,r.jsx)(o,{className:"wrapper-top",children:n.children})},57043:(n,e,i)=>{i.r(e),i.d(e,{default:()=>$});var a,t=i(93445),l=i(256),o=i(82483),r=i(82402),h=i(96112),s=i(53660),d=i(34045),c=i(81538),u=i(64684),p=i(67353),x=i(53615),g=i(74405),m=i(69973),v=i(57528),y=i(22953);const D=y.Ay.div(a||(a=(0,v.A)(["\n  .ant-tabs-nav::before {\n    display: none !important;\n  }\n  .ant-tabs-nav-wrap div:first-child {\n    transform: none !important;\n  }\n  .ant-tabs-ink-bar {\n    display: none;\n  }\n  .ant-tabs-ink-bar-animated {\n    display: none;\n  }\n  .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n  .ant-tabs-tab {\n    padding: 10px 0;\n  }\n  .ant-tabs .ant-tabs-tab {\n  }\n  .ant-tabs .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .ant-tabs__title {\n    width: 200px;\n    /* height: 35px; */\n    background: #eaf1fb;\n    color: #000;\n    padding: 10px 0;\n    height: 36px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-left: 1px solid #0b57d0;\n  }\n  .ant-tabs-tab-active .ant-tabs__title {\n    background: rgb(40, 120, 215) !important;\n    color: #fff;\n    background: #94cef7;\n    font-weight: 600;\n  }\n"])));var j,T=i(27957),f=i(54686),b=i.n(f),S=i(65828),C=i(33713),w=i(18570),A=(i(67466),i(92378)),L=i(73235),N=i(60559),H=i(79948),k=i(2370);const I=y.Ay.div(j||(j=(0,v.A)(["\n  overflow: hidden;\n  .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .line-break {\n    background: #bdbdbd;\n    width: 100%;\n    height: 1px;\n    /* position: absolute; */\n    left: 0;\n    margin-top: 10px;\n  }\n  .group-info {\n    display: grid;\n    grid-template-columns: calc(50% - 5px) calc(50% - 5px);\n    gap: 5px;\n  }\n  .summary-content {\n    margin-top: 5px;\n  }\n  .wrapper-content {\n    display: grid;\n    grid-template-columns: calc(50% - 5px) calc(50% - 5px);\n    gap: 10px;\n    /* justify-content: space-around; */\n    @media only screen and (max-width: 600px) {\n      grid-template-columns: auto;\n    }\n  }\n  .wrapper-content__group {\n    display: grid;\n    grid-template-columns: calc(33% - 5px) calc(33% - 5px) calc(33% - 5px);\n    gap: 10px;\n    @media only screen and (max-width: 991px) {\n      grid-template-columns: auto auto;\n    }\n    @media only screen and (max-width: 600px) {\n      grid-template-columns: auto;\n    }\n  }\n  .ant-tabs-tab {\n    /* height: 30px; */\n    width: 200px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-weight: 600;\n  }\n\n  .ant-tabs-tab-active {\n    background: #0b57d0 !important;\n    padding: 0;\n    display: flex;\n    & > div {\n      color: #fff !important;\n    }\n  }\n  .ant-form-title__left {\n    margin-bottom: 0;\n    .ant-form-item-row {\n      display: grid !important;\n    }\n    .ant-form-item-label {\n      text-align: left;\n    }\n    .ant-form-item-row {\n      width: 100%;\n    }\n    .ant-form-item-control-input-content {\n      width: 100%;\n      /* width: 450px; */\n      input {\n        height: 30px;\n      }\n    }\n  }\n  .tile-content {\n    font-weight: 600;\n    margin-bottom: 10px;\n  }\n  .item-info + .item-info {\n    margin-top: 10px;\n  }\n  .item-info {\n    span {\n      font-weight: 600;\n    }\n  }\n  .box-file {\n    table {\n      border-collapse: collapse;\n    }\n    table th,\n    table td {\n      border: 1px solid #d7d7d7;\n    }\n  }\n  .file-item {\n    padding: 5px;\n  }\n  .file {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    p {\n      font-weight: 600;\n    }\n  }\n\n  .ant-form-title__left {\n    margin-bottom: 0;\n    .ant-form-item-row {\n      display: grid !important;\n    }\n    .ant-form-item-label {\n      text-align: left;\n    }\n    .ant-form-item-row {\n      width: 100%;\n    }\n    .ant-form-item-control-input-content {\n      width: 100%;\n      /* width: 450px; */\n      input {\n        height: 30px;\n      }\n    }\n  }\n\n  .group-title {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .title-content__breadCum {\n      font-size: 14px;\n      font-weight: 600;\n    }\n    button {\n      width: 80px !important;\n      height: 25px !important;\n    }\n  }\n  .wrapper-user {\n    margin-top: 10px;\n    .title {\n      display: grid;\n      grid-template-columns: 45.5% auto;\n      /* justify-content: space-between; */\n      p {\n        font-size: 13px;\n      }\n    }\n  }\n  .groups-user {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    .wrapper-select {\n      display: grid;\n      grid-template-columns: 450px 450px auto;\n      gap: 30px;\n      align-items: center;\n    }\n  }\n  .btn-delete {\n    justify-self: end;\n    justify-items: end;\n    button {\n      width: 80px;\n      height: 25px;\n    }\n  }\n\n  .file-wrapper {\n    margin-top: 30px;\n    .file-wrapper__top {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      p {\n        font-size: 13px;\n        font-weight: bold;\n      }\n    }\n    .file-wrapper__content {\n      table {\n        margin-top: 10px;\n        width: 100%;\n        border-collapse: collapse;\n        thead th {\n          border: 1px solid #797979;\n        }\n        tbody td {\n          border: 1px solid #797979;\n        }\n      }\n    }\n  }\n  .info-wrapper {\n    margin-top: 30px;\n  }\n  .user-report {\n    margin-top: 30px;\n  }\n  .ant-picker {\n    height: 30px;\n    width: 100%;\n  }\n"])));i(94690);var M=i(93474),B=i(56723);const{Item:Y}=H.A,_=n=>{const[e,i]=(0,o.useState)([]);(0,o.useEffect)((()=>{const{dataEdit:e}=n;e&&e.BuocXacMinh&&i(e.BuocXacMinh)}),[]);const{visible:a,fileKey:t,onCancel:l}=n;return(0,B.jsx)(S.aF,{title:"K\u1ebft qu\u1ea3 x\xe1c minh",visible:a,className:"center-modal__footer",footer:(0,B.jsx)(k.A,{className:"btn-danger",onClick:()=>l(),children:"\u0110\xf3ng"}),width:800,onCancel:()=>l(),children:(0,B.jsx)(I,{children:(0,B.jsx)("div",{className:"wrapper-content__main",children:(0,B.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,B.jsxs)("table",{children:[(0,B.jsxs)("thead",{children:[(0,B.jsx)("th",{style:{width:"10%"},children:"B\u01b0\u1edbc"}),(0,B.jsx)("th",{style:{width:"40%"},children:"Tr\xecnh t\u1ef1 th\u1ee7 t\u1ee5c gi\u1ea3i quy\u1ebft"}),(0,B.jsx)("th",{style:{width:"15%"},children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,B.jsx)("th",{style:{width:"15%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,B.jsx)("th",{style:{width:"10%"},children:"C\xe1n b\u1ed9 c\u1eadp nh\u1eadt"}),(0,B.jsx)("th",{style:{width:"10%"},children:"Tr\u1ea1ng th\xe1i"})]}),e.map(((n,e)=>{var i,a,t,l,o;return(0,B.jsxs)("tbody",{children:[(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{rowspan:null===n||void 0===n||null===(i=n.DanhSachHoSoTaiLieu)||void 0===i?void 0:i.length,style:{textAlign:"center"},children:n.OrderBy}),(0,B.jsx)("td",{rowspan:null===n||void 0===n||null===(a=n.DanhSachHoSoTaiLieu)||void 0===a?void 0:a.length,children:null===n||void 0===n?void 0:n.TenBuoc}),(0,B.jsx)("td",{children:(0,B.jsx)("div",{className:"group-file",children:n.DanhSachHoSoTaiLieu&&n.DanhSachHoSoTaiLieu[0]?(0,B.jsx)("p",{className:"file-item",children:n.DanhSachHoSoTaiLieu[0]&&n.DanhSachHoSoTaiLieu[0].FileDinhKem?n.DanhSachHoSoTaiLieu[0].FileDinhKem.map(((n,e)=>(0,B.jsx)("a",{href:n.FileUrl,target:"_blank",children:n.name||(null===n||void 0===n?void 0:n.TenFile)}))):null}):null})}),(0,B.jsx)("td",{rowspan:null===n||void 0===n||null===(t=n.DanhSachHoSoTaiLieu)||void 0===t?void 0:t.length,children:(0,B.jsx)("p",{children:null!==n&&void 0!==n&&n.NgayCapNhat?b()(n.NgayCapNhat).format("DD/MM/YYYY"):null})}),(0,B.jsx)("td",{rowspan:null===n||void 0===n||null===(l=n.DanhSachHoSoTaiLieu)||void 0===l?void 0:l.length,children:(0,B.jsx)("p",{children:null===n||void 0===n?void 0:n.TenCanBo})}),(0,B.jsx)("td",{rowspan:null===n||void 0===n||null===(o=n.DanhSachHoSoTaiLieu)||void 0===o?void 0:o.length,children:(0,B.jsx)("p",{children:null===n||void 0===n?void 0:n.TenTrangThai})})]}),n.DanhSachHoSoTaiLieu?n.DanhSachHoSoTaiLieu.map(((n,e)=>{if(e>0)return(0,B.jsx)("tr",{children:(0,B.jsx)("td",{children:(0,B.jsx)("p",{className:"file-item",children:n.FileDinhKem?n.FileDinhKem.map(((n,e)=>(0,B.jsx)("a",{target:"_blank",href:n.FileUrl,children:n.name||(null===n||void 0===n?void 0:n.TenFile)}))):null})})})})):null]})}))]})})})})},t)};var F=i(63419),K=i(88701),G=i(87734),Q=i(21428),O=i(38674),X=i(6374);const V=[{key:1,value:"Tr\u01b0\u1edfng \u0111o\xe0n/t\u1ed5 tr\u01b0\u1edfng",visible:!0},{key:2,value:"Ph\xf3 tr\u01b0\u1edfng \u0111o\xe0n/t\u1ed5 ph\xf3",visible:!0},{key:3,value:"Th\xe0nh vi\xean",visible:!0}],{Item:E}=H.A,P=n=>{var e;const[i,a,t,r,h,s,d,c,u]=(0,X.U)(),[p,x]=(0,o.useState)([]),g=(0,o.useRef)();(0,o.useEffect)((()=>{const{dataEdit:e}=n;e&&e.TrangThaiPheDuyet&&(g&&g.current.setFieldsValue({...e,HanXuLy:null!==e&&void 0!==e&&e.HanXuLy?b()(e.HanXuLy):null}),u({DanhSachHoSoTaiLieu:e.DanhSachHoSoTaiLieu?e.DanhSachHoSoTaiLieu:[]})),v()}),[]);const v=()=>{const{DanhSachCanBoGQ:e,DanhSachTruongPhong:i}=n,a=[...p],t=p.find((n=>1===n.VaiTro)),l=p.find((n=>2===n.VaiTro)),o=[],r=[],h=[];p.forEach((n=>{n.CanBoID&&h.push(n.CanBoID)})),e.forEach((n=>{h.includes(n.CanBoID)||o.push(n)})),i.forEach((n=>{h.includes(n.CanBoID)||r.push(n)})),t&&l?a.push({DanhSachVaiTro:V.filter((n=>1!==n.key&&2!==n.key)),DanhSachCanBoGQ:o}):t?a.push({DanhSachVaiTro:V.filter((n=>1!==n.key)),DanhSachCanBoGQ:o}):l?a.push({DanhSachVaiTro:V.filter((n=>2!==n.key)),DanhSachCanBoGQ:o}):a.push({DanhSachVaiTro:V,DanhSachCanBoGQ:o}),x(a)},y=(e,i,a)=>{const{DanhSachCanBoGQ:t,DanhSachTruongPhong:l}=n,o=[],r=[];let h=[...p];h[e][i]=a,i&&("VaiTro"===i?(h.forEach((n=>{n.VaiTro&&r.push(n.VaiTro)})),h=h.map(((n,i)=>{if(i!==e||!n.VaiTro){const e=V.find((e=>(null===e||void 0===e?void 0:e.key)===n.VaiTro)),i=V.filter((n=>3===n.key||!r.includes(n.key)));3!==(null===e||void 0===e?void 0:e.key)&&null!==e&&void 0!==e&&e.key&&i.push(e);const a=null===i||void 0===i?void 0:i.sort(((n,e)=>(null===n||void 0===n?void 0:n.key)-(null===e||void 0===e?void 0:e.key)));return{...n,DanhSachVaiTro:a}}return{...n}}))):"CanBoID"===i&&(h.forEach((n=>{n.CanBoID&&o.push(n.CanBoID)})),h=h.map(((n,e)=>{if(n.CanBoID!==a||!n.CanBoID){const e=t.find((e=>e.CanBoID===n.CanBoID)),i=t.filter((n=>!o.includes(n.CanBoID)));e&&i.push(e);const a=null===i||void 0===i?void 0:i.sort(((n,e)=>(null===n||void 0===n?void 0:n.CanBoID)-(null===e||void 0===e?void 0:e.CanBoID)));return{...n,DanhSachCanBoGQ:a}}return{...n}}))),x(h))},{dataEdit:D,title:j,visible:f,onCreate:A,fileKey:L,onCancel:N,DanhSachTruongPhong:Y,DanhSachCanBoGQ:_,SuDungQuyTrinhGQPhucTap:P,loading:q}=n,z=null!==(e=n.dataEdit)&&void 0!==e&&e.isViewDetails?n.dataEdit.isViewDetails:null,R=null===D||void 0===D?void 0:D.type;return(0,B.jsx)(S.aF,{title:P?"Giao x\xe1c minh":"C\u1eadp nh\u1eadt quy\u1ebft \u0111\u1ecbnh th\xe0nh l\u1eadp t\u1ed5/\u0111o\xe0n x\xe1c minh",visible:f,className:"center-modal__footer",footer:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(k.A,{type:"primary",onClick:()=>(async e=>{const{onCreate:i}=n;g.current.validateFields().then((a=>{const t={DanhSachHoSoTaiLieu:r,...a,HanGiaiQuyet:(0,w.Yq)(null===a||void 0===a?void 0:a.HanGiaiQuyet)};1===e&&(t.ToXacMinh=p),n.XuLyDonID&&(t.XuLyDonID=n.XuLyDonID);const l={...t};for(const n in l)l[n]||delete l[n];i(l,e)}))})(R),loading:q,children:[(0,B.jsx)(G.A,{})," L\u01b0u"]}),(0,B.jsx)(k.A,{className:"btn-danger",onClick:()=>N(),loading:q,children:"H\u1ee7y"})]}),width:800,onCancel:()=>N(),children:(0,B.jsx)(I,{children:(0,B.jsxs)(H.A,{ref:g,children:[1===R?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("p",{className:"title",children:["Th\xf4ng tin \u0111o\xe0n/t\u1ed5 x\xe1c minh",(0,B.jsx)("span",{style:{color:"red",marginLeft:"5px"},children:"(*)"})]}),(0,B.jsxs)(F.A,{gutter:[10,10],children:[(0,B.jsx)(K.A,{span:10,className:"center-middle",children:(0,B.jsx)("p",{children:"T\xean c\xe1n b\u1ed9"})}),(0,B.jsx)(K.A,{span:10,className:"center-middle",children:(0,B.jsx)("p",{children:"Vai tr\xf2"})}),(0,B.jsx)(K.A,{span:4,children:(0,B.jsx)("div",{className:"btns-end center-middle",children:(0,B.jsx)(k.A,{type:"primary",onClick:v,children:"Th\xeam"})})}),p&&p.map(((e,i)=>{var a,t;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(K.A,{span:10,className:"center-middle",children:(0,B.jsx)(m.Ay,{style:{width:"100%"},onChange:n=>y(i,"CanBoID",n),value:e.CanBoID,children:(null===e||void 0===e?void 0:e.DanhSachCanBoGQ)&&(null===e||void 0===e||null===(a=e.DanhSachCanBoGQ)||void 0===a?void 0:a.map((n=>(0,B.jsx)(m.c$,{value:n.CanBoID,children:n.TenCanBo}))))})}),(0,B.jsx)(K.A,{span:10,className:"center-middle",children:(0,B.jsx)(m.Ay,{style:{width:"100%"},onChange:n=>y(i,"VaiTro",n),value:e.VaiTro,children:null===e||void 0===e||null===(t=e.DanhSachVaiTro)||void 0===t?void 0:t.map((n=>(0,B.jsx)(m.c$,{value:n.key,children:n.value})))})}),(0,B.jsx)(K.A,{span:4,children:(0,B.jsx)("div",{className:"btns-end",children:(0,B.jsx)(k.A,{className:"btn-danger",onClick:()=>(e=>{var i,a;const{DanhSachCanBoGQ:t}=n,l=[...p],o=null===(i=l[e])||void 0===i?void 0:i.CanBoID,r=null===(a=l[e])||void 0===a?void 0:a.VaiTro;l.splice(e,1),l.forEach((n=>{if(n.CanBoID!==o){const e=t.find((n=>(null===n||void 0===n?void 0:n.CanBoID)===o));e&&(n.DanhSachCanBoGQ=[...n.DanhSachCanBoGQ,e].sort(((n,e)=>(null===n||void 0===n?void 0:n.CanBoID)-(null===e||void 0===e?void 0:e.CanBoID))))}if(n.VaiTro!==r){const e=V.find((n=>(null===n||void 0===n?void 0:n.key)===r));e&&(n.DanhSachVaiTro=[...n.DanhSachVaiTro,e].sort(((n,e)=>(null===n||void 0===n?void 0:n.key)-(null===e||void 0===e?void 0:e.key))))}})),x(l)})(i),children:"X\xf3a"})})})]})}))]}),(0,B.jsxs)(F.A,{gutter:[10,10],children:[(0,B.jsx)(K.A,{lg:8,children:(0,B.jsx)(E,{label:"H\u1ea1n gi\u1ea3i quy\u1ebft",name:"HanGiaiQuyet",className:"ant-form-title__left",children:(0,B.jsx)(S.lr,{placeholder:"",format:"DD/MM/YYYY"})})}),(0,B.jsx)(K.A,{lg:16,children:(0,B.jsx)(E,{label:"Ghi ch\xfa",name:"GhiChu",className:"ant-form-title__left",children:(0,B.jsx)(T.A,{})})})]})]}):2===R?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(F.A,{gutter:[10,10],children:[(0,B.jsx)(K.A,{md:12,span:24,children:(0,B.jsx)(E,{label:"Giao cho",rules:[C.REQUIRED],name:"TruongPhongID",className:"ant-form-title__left",children:(0,B.jsx)(m.Ay,{children:Y&&Y.map((n=>(0,B.jsx)(m.c$,{value:n.CanBoID,children:n.TenCanBo})))})})}),(0,B.jsx)(K.A,{md:12,span:24,children:(0,B.jsx)(E,{label:"Ng\xe0y h\u1ebft h\u1ea1n",name:"HanGiaiQuyet",rules:[C.REQUIRED],className:"ant-form-title__left",children:(0,B.jsx)(S.lr,{placeholder:"",format:"DD/MM/YYYY"})})})]})}):null,(0,B.jsxs)("div",{className:"file",children:[(0,B.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,B.jsx)(k.A,{type:"primary",onClick:()=>h(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]}),r&&null!==r&&void 0!==r&&r.length?(0,B.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,B.jsxs)("table",{children:[(0,B.jsx)("thead",{children:(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,B.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,B.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,B.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),z?null:(0,B.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),r.map(((n,e)=>{var i,a;return(0,B.jsxs)("tbody",{children:[(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{rowspan:n.FileDinhKem.length,style:{textAlign:"center"},children:e+1}),(0,B.jsx)("td",{rowspan:n.FileDinhKem.length,children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.TenFile)}),(0,B.jsx)("td",{children:(0,B.jsx)("div",{className:"group-file",children:n.FileDinhKem[0]?(0,B.jsx)("p",{className:"file-item",children:(0,B.jsx)("a",{href:n.FileDinhKem[0].FileUrl,target:"_blank",children:(null===(i=n.FileDinhKem[0])||void 0===i?void 0:i.name)||(null===(a=n.FileDinhKem[0])||void 0===a?void 0:a.TenFile)})}):null})}),(0,B.jsx)("td",{rowspan:n.FileDinhKem.length,children:(0,B.jsx)("p",{children:b()().format("DD/MM/YYYY")})}),z?null:(0,B.jsx)("td",{rowspan:n.FileDinhKem.length,style:{textAlign:"center"},children:(0,B.jsxs)("div",{className:"action-btn",children:[(0,B.jsx)(l.A,{title:"S\u1eeda H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,B.jsx)(Q.A,{onClick:()=>h(e)})}),(0,B.jsx)(l.A,{title:"X\xf3a H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,B.jsx)(O.A,{onClick:()=>c(n,e)})})]})})]}),n.FileDinhKem?n.FileDinhKem.map(((n,e)=>{if(e>0)return(0,B.jsx)("tr",{children:(0,B.jsx)("td",{children:(0,B.jsx)("p",{className:"file-item",children:(0,B.jsx)("a",{href:n.FileUrl,target:"_blank",children:n.name||n.TenFile})})})})})):null]})}))]})}):"",(0,B.jsx)(M.A,{visible:i,dataEdit:a,onCancel:s,onCreate:d},t)]})})},L)};var q=i(32870),z=i(5103),R=i(82859),U=i(2637);const $=(0,r.Ng)((function(n){return{...n.CapNhatQDTLToXacMinh,role:(0,w.vh)(n.Auth.role,"cap-nhat-qdtl-to-xac-minh")}}),h.A)((n=>{var e,i,a,r;document.title="C\u1eadp nh\u1eadt quy\u1ebft \u0111\u1ecbnh th\xe0nh l\u1eadp \u0111o\xe0n/t\u1ed5 x\xe1c minh";const[h,v]=(0,o.useState)(A.parse(n.location.search)),[y,j]=(0,o.useState)(!1),[f,H]=(0,o.useState)([]),[k,I]=(0,o.useState)(!1),[M,Y]=(0,o.useState)({}),[F,K]=(0,o.useState)(0),[G,Q]=(0,o.useState)(!1),[O,X]=(0,o.useState)({}),[V,E]=(0,o.useState)(0),[$,W]=(0,o.useState)(!1),[J,Z]=(0,o.useState)(0),[nn,en]=(0,o.useState)({}),an=(0,w.b5)("user",{}),tn=null===an||void 0===an?void 0:an.RoleID,ln=null===an||void 0===an?void 0:an.CapID,on=null===(e=JSON.parse(null===(i=localStorage)||void 0===i?void 0:i.getItem("user")))||void 0===e?void 0:e.SuDungQuyTrinhGQPhucTap;(0,o.useEffect)((()=>{(0,w._Y)(h),n.getInitData(h)}),[h]),(0,o.useEffect)((()=>{n.getData()}),[]);const rn=(n,e,i)=>{let a=h,t={pagination:n,filters:e,sorter:i},l=(0,w.D5)(a,null,t);v(l),H([])},hn=(n,e)=>{let i=h,a={value:n,property:e},t=(0,w.D5)(i,a,null);v(t),H([])},sn=()=>{Q(!1)},dn=(n,e)=>{n.stopPropagation(),cn(e)},cn=n=>{const e=[...f];e.includes(n.key)?H(e.filter((e=>e!==n.key))):H([...e,n.key])},un=()=>{const{Search:n}=T.A;return(0,B.jsxs)(p.A,{isCenter:!0,children:[(0,B.jsx)(m.Ay,{style:{width:"200px"},value:h.TrangThai,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i \u0111\u01a1n th\u01b0",allowClear:!0,onChange:n=>hn(n,"TrangThai"),children:on?3===ln?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Option,{value:"0",children:"Ch\u01b0a giao x\xe1c minh"}),(0,B.jsx)(Option,{value:"2",children:"\u0110ang x\xe1c minh"}),(0,B.jsx)(Option,{value:"4",children:"Ch\u01b0a duy\u1ec7t b\xe1o c\xe1o x\xe1c minh"}),(0,B.jsx)(Option,{value:"5",children:"\u0110\xe3 duy\u1ec7t b\xe1o c\xe1o x\xe1c minh"})]}):3===tn?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Option,{value:"1",children:"Ch\u01b0a x\xe1c minh"}),(0,B.jsx)(Option,{value:"2",children:"\u0110ang x\xe1c minh"}),(0,B.jsx)(Option,{value:"5",children:"\u0110\xe3 tr\xecnh b\xe1o c\xe1o x\xe1c minh"})]}):2===tn?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Option,{value:"0",children:"Ch\u01b0a giao x\xe1c minh"}),(0,B.jsx)(Option,{value:"2",children:"\u0110ang x\xe1c minh"}),(0,B.jsx)(Option,{value:"4",children:"Ch\u01b0a duy\u1ec7t b\xe1o c\xe1o x\xe1c minh"}),(0,B.jsx)(Option,{value:"5",children:"\u0110\xe3 tr\xecnh b\xe1o c\xe1o x\xe1c minh"})]}):1===tn?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Option,{value:"0",children:"Ch\u01b0a giao x\xe1c minh"}),(0,B.jsx)(Option,{value:"2",children:"\u0110ang x\xe1c minh"}),(0,B.jsx)(Option,{value:"4",children:"Ch\u01b0a duy\u1ec7t b\xe1o c\xe1o x\xe1c minh"}),(0,B.jsx)(Option,{value:"5",children:"\u0110\xe3 tr\xecnh b\xe1o c\xe1o x\xe1c minh"}),(0,B.jsx)(Option,{value:"6",children:"Ch\u01b0a ban h\xe0nh quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft"}),(0,B.jsx)(Option,{value:"7",children:"\u0110\xe3 ban h\xe0nh quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft"})]}):void 0:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Option,{value:"0",children:"Ch\u01b0a giao x\xe1c minh"}),(0,B.jsx)(Option,{value:"1",children:"Ch\u01b0a x\xe1c minh"}),(0,B.jsx)(Option,{value:"2",children:"\u0110ang x\xe1c minh"}),(0,B.jsx)(Option,{value:"4",children:"Ch\u01b0a duy\u1ec7t b\xe1o c\xe1o x\xe1c minh"}),(0,B.jsx)(Option,{value:"5",children:"\u0110\xe3 tr\xecnh b\xe1o c\xe1o x\xe1c minh"}),(0,B.jsx)(Option,{value:"6",children:"Ch\u01b0a ban h\xe0nh quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft"}),(0,B.jsx)(Option,{value:"7",children:"\u0110\xe3 ban h\xe0nh quy\u1ebft \u0111\u1ecbnh gi\u1ea3i quy\u1ebft"})]})}),(0,B.jsx)(m.Ay,{style:{width:"200px"},value:h.LoaiKhieuToID,placeholder:"Ch\u1ecdn lo\u1ea1i khi\u1ebfu t\u1ed1",allowClear:!0,onChange:n=>hn(n,"LoaiKhieuToID"),children:Tn?Tn.map((n=>(0,B.jsx)(Option,{value:n.LoaiKhieuToID.toString(),children:n.TenLoaiKhieuTo},n.LoaiKhieuToID))):null}),(0,B.jsx)(R.A,{onFilter:hn,filterData:h}),(0,B.jsx)(S.NJ,{allowClear:!0,defaultValue:h.Keyword,placeholder:"Nh\u1eadp \u0111\u1ed1i t\u01b0\u1ee3ng KNTC, KNPA ho\u1eb7c n\u1ed9i dung ti\u1ebfp",style:{width:300},onSearch:n=>hn(n,"Keyword")})]})},{DanhSachGiaoXacMinh:pn,DanhSachHuongXuLy:xn,TotalRow:gn,role:mn,tableLoading:vn,DanhSachCoQuan:yn,DanhSachTruongPhong:Dn,DanhSachCanBoGQ:jn,DanhSachLoaiKhieuTo:Tn}=n,fn=h.PageNumber?parseInt(h.PageNumber):1,bn=h.PageSize?parseInt(h.PageSize):(0,w.WT)(),Sn=[{title:"S\u1ed1 \u0111\u01a1n th\u01b0",dataIndex:"SoDonThu",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:e.SoDonThu})},{title:"Ng\xe0y ti\u1ebfp nh\u1eadn",dataIndex:"NgayTiepStr",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:e.NgayTiep?b()(e.NgayTiep).format("DD/MM/YYYY"):null})},{title:"Ngu\u1ed3n \u0111\u01a1n \u0111\u1ebfn",dataIndex:"TenNguonDonDen",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:(0,w.rl)(e)})},{title:"Th\xf4ng tin ch\u1ee7 \u0111\u01a1n",dataIndex:"TenChuDon",align:"left",width:"25%",render:(n,e,i)=>(0,B.jsx)("div",{children:null!==e&&void 0!==e&&e.listDoiTuongKN?e.listDoiTuongKN.map((n=>(0,B.jsxs)("div",{children:[(0,B.jsx)("p",{style:{fontWeight:"600",color:0===e.TrangThai?"red":"",textTransform:"capitalize"},children:n.HoTen}),(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:n.DiaChiCT})]}))):null})},{title:"N\u1ed9i dung v\u1ee5 vi\u1ec7c",dataIndex:"NoiDungDon",align:"left",width:"30%",render:(n,e,i)=>(0,B.jsx)(l.A,{title:e.NoiDungDon,children:(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:(0,w.Mi)(e.NoiDungDon,150)})})},{title:"Lo\u1ea1i khi\u1ebfu t\u1ed1",dataIndex:"TenLoaiKhieuTo",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:e.TenLoaiKhieuTo})},{title:"H\u1ea1n x\u1eed l\xfd",dataIndex:"HanXuLy",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:e.HanXuLy?b()(e.HanXuLy).format("DD/MM/YYYY"):null})},{title:"H\u01b0\u1edbng x\u1eed l\xfd",dataIndex:"TenHuongGiaiQuyet",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:e.TenHuongGiaiQuyet})},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"TrangThai",align:"left",width:"10%",render:(n,e,i)=>(0,B.jsx)("p",{style:{color:0===e.TrangThai?"red":""},children:e.TenTrangThai})}],Cn=null===pn||void 0===pn||null===(a=pn.find((n=>n.XuLyDonID===f[0])))||void 0===a?void 0:a.TrangThai;null===(r=pn.find((n=>n.XuLyDonID===f[0])))||void 0===r||r.LoaiKhieuTo1ID;return(0,B.jsxs)(s.A,{children:[(0,B.jsxs)(U.A,{children:[(0,B.jsx)(d.A,{children:"C\u1eadp nh\u1eadt quy\u1ebft \u0111\u1ecbnh giao x\xe1c minh"}),(0,B.jsxs)(c.A,{children:[(0,B.jsxs)(S.$n,{type:"primary",onClick:()=>{var n;const e=f[0],i=null===pn||void 0===pn||null===(n=pn.find((n=>n.XuLyDonID===e)))||void 0===n?void 0:n.DonThuID;L.A.ChiTietDonThu2({XuLyDonID:e,DonThuID:i}).then((n=>{n.data.Status>0&&(en(n.data.Data),W(!0),Z((n=>n+1)))}))},className:"btn-center",disabled:!(1===f.length),children:[(0,B.jsx)("img",{src:1!==f.length?q.A.Preview:q.A.PreviewWhite,className:"btn-icon__img"}),"Xem chi ti\u1ebft \u0111\u01a1n th\u01b0"]}),(0,B.jsxs)(S.$n,{type:"primary",className:"btn-center",onClick:()=>(()=>{const n=f[0];L.A.ChiTietXacMinhNoiDungDon({XuLyDonID:n}).then((n=>{n.data.Status>0?(Y({isViewDetails:!0,...n.data.Data}),I(!0),K((n=>n+1))):(t.Ay.destroy(),t.Ay.error(n.data.Message))})).catch((n=>{t.Ay.destroy(),t.Ay.error(n.toString())}))})(),disabled:!(1===f.length),children:[(0,B.jsx)("img",{src:1!==f.length?q.A.Preview:q.A.PreviewWhite,className:"btn-icon__img"}),"K\u1ebft qu\u1ea3 x\xe1c minh"]}),mn.edit?(0,B.jsxs)(S.$n,{className:"btn-center",type:"primary",onClick:()=>{return n=1,Q(!0),X({type:n}),void E((n=>n+1));var n},disabled:!(1===f.length)||0!==Cn,children:[(0,B.jsx)("img",{src:1!==f.length||0!==Cn?q.A.Process:q.A.ProcessWhite,className:"btn-icon__img"}),on?"Giao x\xe1c minh":"C\u1eadp nh\u1eadt Q\u0110TL t\u1ed5/\u0111o\xe0n x\xe1c minh"]}):null]})]}),(0,B.jsx)(u.A,{children:(0,B.jsx)(D,{children:(()=>{const n={selectedRowsKey:f,renderCell:(n,e,i,a)=>(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center"},onClick:n=>dn(n,e),children:[(0,B.jsx)(N.A,{className:"ant-icon__table",onClick:n=>dn(n,e),style:{marginRight:4,fontSize:14,visibility:"hidden"}}),(0,B.jsx)("div",{children:(0,B.jsx)(g.A,{className:"selected__table",checked:f.includes(e.XuLyDonID),onChange:()=>cn(e)})})]}),onChange:n=>{H(n)}},e=pn.map((n=>({...n,key:null===n||void 0===n?void 0:n.XuLyDonID})));return(0,B.jsxs)(B.Fragment,{children:[un(),(0,B.jsx)(x.Ay,{rowSelection:n,columns:Sn,loading:vn,dataSource:e,onChange:rn,pagination:{showSizeChanger:!0,showTotal:(n,e)=>"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3"),total:gn,current:fn,pageSize:bn}})]})})()})}),(0,B.jsx)(_,{onCancel:()=>{I(!1)},dataEdit:M,visible:k},F),(0,B.jsx)(P,{DanhSachTruongPhong:Dn,DanhSachCanBoGQ:jn,onCancel:sn,dataEdit:O,visible:G,onCreate:(e,i)=>{j(!0);const a=f[0];e.XuLyDonID=a;const l={FileType:C.LoaiFileDinhKem.FileCapNhatGiaoXacMinh},o=[];e.DanhSachHoSoTaiLieu&&(0,w.Yj)(e.DanhSachHoSoTaiLieu,o,l,L.A),Promise.all(o).then((i=>{L.A.GiaoXacMinh(e).then((e=>{j(!1),e.data.Status>0?(t.Ay.destroy(),t.Ay.success(e.data.Message),sn(),n.getInitData(h),H([])):(t.Ay.destroy(),t.Ay.warning(e.data.Message))})).catch((n=>{t.Ay.destroy(),t.Ay.warning(n.toString())}))}))},SuDungQuyTrinhGQPhucTap:on,loading:y},V),(0,B.jsx)(z.A,{visible:$,dataEdit:nn,onCancel:()=>{en({}),W(!1)}},J)]})}))},82859:(n,e,i)=>{i.d(e,{A:()=>h});var a=i(65828),t=i(18570),l=i(54686),o=i.n(l),r=i(56723);const h=n=>{const{onFilter:e,filterData:i}=n;return(0,r.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,r.jsx)(a.lr,{placeholder:"T\u1eeb ng\xe0y",format:"DD/MM/YYYY",value:i.TuNgay?o()(i.TuNgay,"YYYY/MM/DD"):null,onChange:(n,i)=>e(n?(0,t.Yq)(n):null,"TuNgay"),disabledDate:n=>(0,t.IH)(n,i.DenNgay)}),(0,r.jsx)(a.lr,{value:i.DenNgay?o()(i.DenNgay,"YYYY/MM/DD"):null,onChange:(n,i)=>e(n?(0,t.Yq)(n):null,"DenNgay"),placeholder:"\u0110\u1ebfn ng\xe0y",format:"DD/MM/YYYY",disabledDate:n=>(0,t.IH)(i.TuNgay,n,2)})]})}},6374:(n,e,i)=>{i.d(e,{U:()=>o});var a=i(82483),t=i(72741),l=i(93445);const o=n=>{const[e,i]=(0,a.useState)({DanhSachHoSoTaiLieu:[],dataModalHoSoTaiLieu:{},keyModalHoSoTaiLieu:0,visibleModalHoSoTaiLieu:!1,loading:!1}),{visibleModalHoSoTaiLieu:o,dataModalHoSoTaiLieu:r,keyModalHoSoTaiLieu:h,DanhSachHoSoTaiLieu:s}=e;return[o,r,h,s,n=>{const{DanhSachHoSoTaiLieu:a,keyModalHoSoTaiLieu:t}=e;if(n||0===n){const e=t+1;i((i=>({...i,keyModalHoSoTaiLieu:e,visibleModalHoSoTaiLieu:!0,DanhSachHoSoTaiLieu:{...a[n],index:n}})))}else{const n=t+1;i((e=>({...e,keyModalHoSoTaiLieu:n,visibleModalHoSoTaiLieu:!0})))}},n=>{i((n=>({...n,visibleModalHoSoTaiLieu:!1,dataModalHoSoTaiLieu:{}})))},n=>{const{index:a}=n;if(a||0===a){const{DanhSachHoSoTaiLieu:t}=e,o=[...t];o.splice(a,1,n),i((n=>({...n,visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:o}))),l.Ay.destroy(),l.Ay.success("C\u1eadp nh\u1eadt h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}else{const{DanhSachHoSoTaiLieu:a,keyModalHoSoTaiLieu:t}=e,o=[...a];o.push(n),i((n=>({...n,visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:o}))),l.Ay.destroy(),l.Ay.success("Th\xeam m\u1edbi h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}},(n,a)=>{const{DanhSachHoSoTaiLieu:l}=e;if(n.FileDinhKemID)t.A.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file \u0111\xednh k\xe8m n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:()=>{n.TrangThai=0;const e=[...l],a=e.indexOf(n);e.splice(a,1),i((n=>({...n,DanhSachHoSoTaiLieu:e})))}});else{const n=[...l];n.splice(a,1),i((e=>({...e,DanhSachHoSoTaiLieu:n})))}},n=>{i((e=>({...e,...n})))}]}},60559:(n,e,i)=>{i.d(e,{A:()=>h});var a=i(58168),t=i(82483);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var o=i(56594),r=function(n,e){return t.createElement(o.A,(0,a.A)({},n,{ref:e,icon:l}))};const h=t.forwardRef(r)}}]);