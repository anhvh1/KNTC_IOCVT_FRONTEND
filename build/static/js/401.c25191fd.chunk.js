"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[401],{80401:(n,e,t)=>{t.r(e),t.d(e,{default:()=>B});var i,a=t(93445),l=t(256),o=t(65828),s=t(82483),h=t(82402),r=t(93723),d=t(53660),c=t(34045),u=t(81538),p=t(64684),g=t(67353),x=t(53615),m=t(74405),y=t(69973),T=t(57528);const D=t(22953).Ay.div(i||(i=(0,T.A)(["\n  .ant-tabs-nav::before {\n    display: none !important;\n  }\n  .ant-tabs-nav-wrap div:first-child {\n    transform: none !important;\n  }\n  .ant-tabs-ink-bar {\n    display: none;\n  }\n  .ant-tabs-ink-bar-animated {\n    display: none;\n  }\n  .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n  .ant-tabs-tab {\n    padding: 10px 0;\n  }\n  .ant-tabs .ant-tabs-tab {\n  }\n  .ant-tabs .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .ant-tabs__title {\n    width: 200px;\n    /* height: 35px; */\n    background: #eaf1fb;\n    color: #000;\n    padding: 10px 0;\n    height: 36px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-left: 1px solid #0b57d0;\n  }\n  .ant-tabs-tab-active .ant-tabs__title {\n    background: rgb(40, 120, 215) !important;\n    color: #fff;\n    background: #94cef7;\n    font-weight: 600;\n  }\n"])));var S=t(27957),f=t(54686),j=t.n(f),b=t(33713),v=t(18570),L=t(67466),H=t(92378),w=t(65472),A=t(89827),C=t(60559),k=(t(94690),t(55338),t(6540),t(20676),t(93314)),N=t(11880),M=(t(72690),t(27169)),F=t(14875),K=(t(92020),t(22348),t(5103)),I=t(8038),_=t(82859),Q=t(2637),X=t(56723);const B=(0,h.Ng)((function(n){return{...n.CapNhatQuyetDinhGiaiQuyet,role:(0,v.vh)(n.Auth.role,"ban-hanh-qd")}}),r.A)((n=>{document.title="C\u1eadp nh\u1eadt BC, Q\u0110, KL";const[e,t]=(0,s.useState)(H.parse(n.location.search)),[i,h]=(0,s.useState)({}),[r,T]=(0,s.useState)(!1),[f,B]=(0,s.useState)(""),[Y,E]=(0,L.D)(),[q,R]=(0,s.useState)([]),[z,O]=(0,s.useState)(!1),[P,V]=(0,s.useState)(!1),[G,U]=(0,s.useState)(0),[$,W]=(0,s.useState)({}),[J,Z]=(0,s.useState)(!1),[nn,en]=(0,s.useState)({}),[tn,an]=(0,s.useState)(0),{DanhSachQDGiaiQuyet:ln,DanhSachHuongXuLy:on,TotalRow:sn,role:hn,tableLoading:rn}=n;(0,s.useEffect)((()=>{(0,v._Y)(e),n.getInitData(e)}),[e]),(0,s.useEffect)((()=>{n.getData()}),[]);const dn=(n,i,a)=>{let l=e,o={pagination:n,filters:i,sorter:a},s=(0,v.D5)(l,null,o);t(s),R([])},cn=(n,i)=>{let a=e,l={value:n,property:i},o=(0,v.D5)(a,l,null);t(o),R([])},un=()=>{h({}),T(!1)},pn=n=>{const e=[...q];e.includes(n.key)?R(e.filter((e=>e!==n.key))):R([...e,n.key])},gn=()=>{const{Search:t}=S.A,{DanhSachLoaiKhieuTo:i}=n;return(0,X.jsxs)(g.A,{isCenter:!0,children:[(0,X.jsxs)(y.Ay,{style:{width:"200px"},value:e.TrangThai,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i c\u1eadp nh\u1eadt quy\u1ebft \u0111\u1ecbnh",allowClear:!0,onChange:n=>cn(n,"TrangThai"),children:[(0,X.jsx)(Option,{value:"1",children:"Ch\u01b0a c\u1eadp nh\u1eadt "}),(0,X.jsx)(Option,{value:"2",children:"\u0110\xe3 c\u1eadp nh\u1eadt"})]}),(0,X.jsx)(y.Ay,{style:{width:"200px"},value:e.LoaiKhieuToID,placeholder:"Ch\u1ecdn lo\u1ea1i khi\u1ebfu t\u1ed1",allowClear:!0,onChange:n=>cn(n,"LoaiKhieuToID"),children:i?i.map((n=>(0,X.jsx)(Option,{value:n.LoaiKhieuToID.toString(),children:n.TenLoaiKhieuTo},n.LoaiKhieuToID))):null}),(0,X.jsx)(_.A,{onFilter:cn,filterData:e}),(0,X.jsx)(o.NJ,{allowClear:!0,defaultValue:null===e||void 0===e?void 0:e.Keyword,placeholder:"Nh\u1eadp \u0111\u1ed1i t\u01b0\u1ee3ng KNTC, KNPA ho\u1eb7c n\u1ed9i dung ti\u1ebfp",style:{width:300},onSearch:n=>cn(n,"Keyword")})]})},xn=e.PageNumber?parseInt(e.PageNumber):1,mn=e.PageSize?parseInt(e.PageSize):(0,v.WT)(),yn=[{title:"S\u1ed1 \u0111\u01a1n th\u01b0",dataIndex:"SoDonThu",align:"left",width:"15%",render:(n,e,t)=>(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.SoDonThu})},{title:"Ng\xe0y ti\u1ebfp nh\u1eadn",dataIndex:"NgayTiep",align:"left",width:"10%",render:(n,e,t)=>(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.NgayTiepNhan?j()(e.NgayTiepNhan).format("DD/MM/YYYY"):null})},{title:"Th\xf4ng tin ch\u1ee7 \u0111\u01a1n",dataIndex:"TenChuDon",align:"left",width:"20%",render:(n,e,t)=>(0,X.jsx)("div",{children:null!==e&&void 0!==e&&e.listDoiTuongKN?e.listDoiTuongKN.map((n=>(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{style:{fontWeight:"600",color:1===e.TrangThaiQuaHan?"red":"",textTransform:"capitalize"},children:n.HoTen}),(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:n.DiaChiCT})]}))):null})},{title:"N\u1ed9i dung v\u1ee5 vi\u1ec7c",dataIndex:"NoiDungDon",align:"left",width:"30%",render:(n,e,t)=>(0,X.jsx)(l.A,{title:e.NoiDungDon,children:(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:(0,v.Mi)(e.NoiDungDon,150)})})},{title:"Lo\u1ea1i khi\u1ebfu t\u1ed1",dataIndex:"NoiDungDon",align:"left",width:"10%",render:(n,e,t)=>(0,X.jsx)(l.A,{title:e.NoiDungDon,children:(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.TenLoaiKhieuTo})})},{title:"C\u01a1 quan th\u1ef1c hi\u1ec7n x\xe1c minh",dataIndex:"HanXuLy",align:"left",width:"30%",render:(n,e,t)=>(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.TenCoQuanGiaiQuyet})},{title:"H\u1ea1n gi\u1ea3i quy\u1ebft",dataIndex:"HanXuLy",align:"left",width:"30%",render:(n,e,t)=>(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.NgayHetHan?j()(e.NgayHetHan).format("DD/MM/YYYY"):null})},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"TenTrangThai",align:"left",width:"10%",render:(n,e,t)=>(0,X.jsx)("p",{style:{color:1===e.TrangThaiQuaHan?"red":""},children:e.TenTrangThai})}],{DanhSachCoQuan:Tn}=n,Dn=null===ln||void 0===ln?void 0:ln.find((n=>n.XuLyDonID===q[0])),Sn=null===Dn||void 0===Dn?void 0:Dn.TrangThai,fn=!(null===Dn||void 0===Dn||!Dn.Lan2),jn=null===Dn||void 0===Dn?void 0:Dn.LoaiKhieuTo1ID,bn=null===Dn||void 0===Dn?void 0:Dn.TrangThaiIDMoi,vn=(null===Dn||void 0===Dn?void 0:Dn.CheckTrangThai)?!(1===q.length)||bn!==b.TrangThaiMoi.BanHanhQuyetDinh&&bn!==b.TrangThaiMoi.CapNhapBCQDKL||(null===Dn||void 0===Dn?void 0:Dn.ThiHanhID):!(1===q.length)||1===Sn;return console.log(!(1===q.length)||bn!==b.TrangThaiMoi.BanHanhQuyetDinh||(null===Dn||void 0===Dn?void 0:Dn.ThiHanhID),"check"),(0,X.jsxs)(d.A,{children:[(0,X.jsxs)(Q.A,{children:[(0,X.jsx)(c.A,{children:"C\u1eadp nh\u1eadt BC, Q\u0110, KL"}),(0,X.jsxs)(u.A,{children:[(0,X.jsxs)(o.$n,{type:"primary",onClick:()=>{var n;const e=q[0],t=null===ln||void 0===ln||null===(n=ln.find((n=>n.XuLyDonID===e)))||void 0===n?void 0:n.DonThuID;w.A.ChiTietDonThu2({XuLyDonID:e,DonThuID:t}).then((n=>{n.data.Status>0&&(W(n.data.Data),V(!0),U((n=>n+1)))}))},disabled:!(1===q.length),className:"btn-center",children:[(0,X.jsx)("img",{src:1!==q.length?k:N,className:"btn-icon__img"}),"Xem chi ti\u1ebft \u0111\u01a1n th\u01b0"]}),(0,X.jsxs)(o.$n,{type:"primary",onClick:()=>{const n=q[0];w.A.ChiTietXacMinhNoiDungDon({XuLyDonID:n}).then((n=>{n.data.Status>0?(en({isViewDetails:!0,...n.data.Data}),Z(!0),an((n=>n+1))):(a.Ay.destroy(),a.Ay.error(n.data.Message))})).catch((n=>{a.Ay.destroy(),a.Ay.error(n.toString())}))},disabled:!(1===q.length),className:"btn-center",children:[(0,X.jsx)("img",{src:1!==q.length?k:N,className:"btn-icon__img"}),"Xem k\u1ebft qu\u1ea3 x\xe1c minh"]}),(0,X.jsxs)(o.$n,{type:"primary",onClick:()=>(()=>{const n=q[0];w.A.ChiTietBanHanh({XuLyDonID:n}).then((n=>{n.data.Status>0?(h({isViewDetails:!0,...n.data.Data}),E(),T(!0)):(a.Ay.destroy(),a.Ay.error(n.data.Message))})).catch((n=>{a.Ay.destroy(),a.Ay.error(n.toString())}))})(),className:"btn-center",disabled:!(1===q.length),children:[(0,X.jsx)("img",{src:1!==q.length?k:N,className:"btn-icon__img"}),"Xem k\u1ebft qu\u1ea3 gi\u1ea3i quy\u1ebft"]}),hn.edit?(0,X.jsxs)(o.$n,{type:"primary",className:"btn-center",onClick:()=>(()=>{const n=q[0];w.A.ChiTietBanHanh({XuLyDonID:n}).then((n=>{n.data.Status>0?(B("add"),h({...n.data.Data}),E(),T(!0)):(a.Ay.destroy(),a.Ay.error(n.data.Message))})).catch((n=>{a.Ay.destroy(),a.Ay.error(n.toString())}))})(),disabled:vn,children:[(0,X.jsx)("img",{src:vn?F:M,className:"btn-icon__img"}),"C\u1eadp nh\u1eadt BC, Q\u0110, KL"]}):null]})]}),(0,X.jsx)(p.A,{children:(0,X.jsx)(D,{children:(()=>{const n={selectedRowsKey:q,renderCell:(n,e,t,i)=>(0,X.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,X.jsx)(C.A,{className:"ant-icon__table",style:{marginRight:4,fontSize:14,visibility:"hidden"}}),(0,X.jsx)("div",{children:(0,X.jsx)(m.A,{className:"selected__table",checked:q.includes(e.XuLyDonID),onChange:()=>pn(e)})})]}),onChange:n=>{R(n)}},e=null===ln||void 0===ln?void 0:ln.map((n=>({...n,key:null===n||void 0===n?void 0:n.XuLyDonID})));return(0,X.jsxs)(X.Fragment,{children:[gn(),(0,X.jsx)(x.Ay,{rowSelection:n,columns:yn,loading:rn,dataSource:e,onChange:dn,pagination:{showSizeChanger:!0,showTotal:(n,e)=>"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3"),total:sn,current:xn,pageSize:mn}})]})})()})}),(0,X.jsx)(A.A,{visible:r,dataEdit:i,action:f,loading:z,onCreate:(t,i)=>{O(!0);const l={FileType:b.LoaiFileDinhKem.FileBanHanhQD};if("add"===f){const i=[];t.DanhSachHoSoTaiLieu&&(0,v.Yj)(t.DanhSachHoSoTaiLieu,i,l,w.A),Promise.all(i).then((i=>{w.A.BanHanhQuyetDinhGiaiQuyet(t).then((t=>{O(!1),t&&t.data&&1===t.data.Status?(a.Ay.success(t.data.Message),un(),n.getInitData(e),R([])):a.Ay.error("".concat(t&&t.data?t.data.Message:"L\u1ed7i h\u1ec7 th\u1ed1ng"))}))}))}else{const i=[];t.DanhSachHoSoTaiLieu&&(0,v.Yj)(t.DanhSachHoSoTaiLieu,i,l,w.A),Promise.all(i).then((i=>{w.A.BanHanhQuyetDinhGiaiQuyet(t).then((t=>{O(!1),t.data.Status>0?(a.Ay.destroy(),a.Ay.success(t.data.Message),un(),n.getInitData(e),R([])):(a.Ay.destroy(),a.Ay.error("".concat(t.data.Message)))})).catch((n=>{a.Ay.destroy(),a.Ay.error("".concat(n.toString()))}))}))}},onCancel:un,dataSource:ln,DanhSachHuongXuLy:on,XuLyDonID:q[0],DanhSachCoQuan:Tn,TabsKey:null===e||void 0===e?void 0:e.tabsKey,Lan2:fn,ItemLoaiKhieuTo:jn},Y),(0,X.jsx)(K.A,{visible:P,dataEdit:$,onCancel:()=>{W({}),V(!1)}},G),(0,X.jsx)(I.A,{onCancel:()=>{Z(!1)},dataEdit:nn,visible:J},tn)]})}))},8038:(n,e,t)=>{t.d(e,{A:()=>u});var i=t(82483),a=t(79948),l=t(2370),o=(t(69973),t(67637)),s=(t(33713),t(65828)),h=(t(94690),t(18570),t(93474),t(81745),t(54686)),r=t.n(h),d=t(56723);const{Item:c}=a.A,u=n=>{const[e,t]=(0,i.useState)([]);(0,i.useEffect)((()=>{const{dataEdit:e}=n;e&&e.BuocXacMinh&&t(e.BuocXacMinh)}),[]);const{dataEdit:a,title:h,visible:c,onCreate:u,fileKey:p,onCancel:g,DanhSachTenFile:x,DanhSachHuongXuLy:m,DanhSachCanBoXuLy:y,DanhSachCoQuan:T}=n;return(0,d.jsx)(s.aF,{title:"K\u1ebft qu\u1ea3 x\xe1c minh",visible:c,className:"center-modal__footer",footer:(0,d.jsx)(l.A,{className:"btn-danger",onClick:()=>g(),children:"\u0110\xf3ng"}),width:800,onCancel:()=>g(),children:(0,d.jsx)(o.A,{children:(0,d.jsx)("div",{className:"wrapper-content__main",children:(0,d.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,d.jsxs)("table",{children:[(0,d.jsxs)("thead",{children:[(0,d.jsx)("th",{style:{width:"10%"},children:"B\u01b0\u1edbc"}),(0,d.jsx)("th",{style:{width:"40%"},children:"Tr\xecnh t\u1ef1 th\u1ee7 t\u1ee5c gi\u1ea3i quy\u1ebft"}),(0,d.jsx)("th",{style:{width:"15%"},children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,d.jsx)("th",{style:{width:"15%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),(0,d.jsx)("th",{style:{width:"10%"},children:"C\xe1n b\u1ed9 c\u1eadp nh\u1eadt"}),(0,d.jsx)("th",{style:{width:"10%"},children:"Tr\u1ea1ng th\xe1i"})]}),e.map(((n,e)=>{var t,i,a,l,o;return(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{rowspan:null===n||void 0===n||null===(t=n.DanhSachHoSoTaiLieu)||void 0===t?void 0:t.length,style:{textAlign:"center"},children:n.OrderBy}),(0,d.jsx)("td",{rowspan:null===n||void 0===n||null===(i=n.DanhSachHoSoTaiLieu)||void 0===i?void 0:i.length,children:null===n||void 0===n?void 0:n.TenBuoc}),(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:"group-file",children:n.DanhSachHoSoTaiLieu&&n.DanhSachHoSoTaiLieu[0]?(0,d.jsx)("p",{className:"file-item",children:n.DanhSachHoSoTaiLieu[0]&&n.DanhSachHoSoTaiLieu[0].FileDinhKem?n.DanhSachHoSoTaiLieu[0].FileDinhKem.map(((n,e)=>(0,d.jsx)("a",{href:n.FileUrl,target:"_blank",children:n.name||(null===n||void 0===n?void 0:n.TenFile)}))):null}):null})}),(0,d.jsx)("td",{rowspan:null===n||void 0===n||null===(a=n.DanhSachHoSoTaiLieu)||void 0===a?void 0:a.length,children:(0,d.jsx)("p",{children:null!==n&&void 0!==n&&n.NgayCapNhat?r()(n.NgayCapNhat).format("DD/MM/YYYY"):null})}),(0,d.jsx)("td",{rowspan:null===n||void 0===n||null===(l=n.DanhSachHoSoTaiLieu)||void 0===l?void 0:l.length,children:(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.TenCanBo})}),(0,d.jsx)("td",{rowspan:null===n||void 0===n||null===(o=n.DanhSachHoSoTaiLieu)||void 0===o?void 0:o.length,children:(0,d.jsx)("p",{children:null===n||void 0===n?void 0:n.TenTrangThai})})]}),n.DanhSachHoSoTaiLieu?n.DanhSachHoSoTaiLieu.map(((n,e)=>{if(e>0)return(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:(0,d.jsx)("p",{className:"file-item",children:n.FileDinhKem?n.FileDinhKem.map(((n,e)=>(0,d.jsx)("a",{target:"_blank",href:n.FileUrl,children:n.name||(null===n||void 0===n?void 0:n.TenFile)}))):null})})})})):null]})}))]})})})})},p)}},67637:(n,e,t)=>{t.d(e,{A:()=>l});var i,a=t(57528);const l=t(22953).Ay.div(i||(i=(0,a.A)(["\n  overflow: hidden;\n  .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .line-break {\n    background: #bdbdbd;\n    width: 100%;\n    height: 1px;\n    /* position: absolute; */\n    left: 0;\n    margin-top: 10px;\n  }\n  .group-info {\n    display: grid;\n    grid-template-columns: calc(50% - 5px) calc(50% - 5px);\n    gap: 5px;\n  }\n  .summary-content {\n    margin-top: 5px;\n  }\n  .wrapper-content {\n    display: grid;\n    grid-template-columns: calc(50% - 5px) calc(50% - 5px);\n    gap: 10px;\n    /* justify-content: space-around; */\n    @media only screen and (max-width: 600px) {\n      grid-template-columns: auto;\n    }\n  }\n  .wrapper-content__group {\n    display: grid;\n    grid-template-columns: calc(33% - 5px) calc(33% - 5px) calc(33% - 5px);\n    gap: 10px;\n    @media only screen and (max-width: 991px) {\n      grid-template-columns: auto auto;\n    }\n    @media only screen and (max-width: 600px) {\n      grid-template-columns: auto;\n    }\n  }\n  .ant-tabs-tab {\n    /* height: 30px; */\n    width: 200px;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-weight: 600;\n  }\n\n  .ant-tabs-tab-active {\n    background: #0b57d0 !important;\n    padding: 0;\n    display: flex;\n    & > div {\n      color: #fff !important;\n    }\n  }\n  .ant-form-title__left {\n    margin-bottom: 0;\n    .ant-form-item-row {\n      display: grid !important;\n    }\n    .ant-form-item-label {\n      text-align: left;\n    }\n    .ant-form-item-row {\n      width: 100%;\n    }\n    .ant-form-item-control-input-content {\n      width: 100%;\n      /* width: 450px; */\n      input {\n        height: 30px;\n      }\n    }\n  }\n  .tile-content {\n    font-weight: 600;\n    margin-bottom: 10px;\n  }\n  .item-info + .item-info {\n    margin-top: 10px;\n  }\n  .item-info {\n    span {\n      font-weight: 600;\n    }\n  }\n  .box-file {\n    table {\n      border-collapse: collapse;\n    }\n    table th,\n    table td {\n      border: 1px solid #d7d7d7;\n    }\n  }\n  .file-item {\n    padding: 5px;\n  }\n  .file {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    p {\n      font-weight: 600;\n    }\n  }\n\n  .ant-form-title__left {\n    margin-bottom: 0;\n    .ant-form-item-row {\n      display: grid !important;\n    }\n    .ant-form-item-label {\n      text-align: left;\n    }\n    .ant-form-item-row {\n      width: 100%;\n    }\n    .ant-form-item-control-input-content {\n      width: 100%;\n      /* width: 450px; */\n      input {\n        height: 30px;\n      }\n    }\n  }\n\n  .group-title {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .title-content__breadCum {\n      font-size: 14px;\n      font-weight: 600;\n    }\n    button {\n      width: 80px !important;\n      height: 25px !important;\n    }\n  }\n  .wrapper-user {\n    margin-top: 10px;\n    .title {\n      display: grid;\n      grid-template-columns: 45.5% auto;\n      /* justify-content: space-between; */\n      p {\n        font-size: 13px;\n      }\n    }\n  }\n  .groups-user {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    .wrapper-select {\n      display: grid;\n      grid-template-columns: 450px 450px auto;\n      gap: 30px;\n      align-items: center;\n    }\n  }\n  .btn-delete {\n    justify-self: end;\n    justify-items: end;\n    button {\n      width: 80px;\n      height: 25px;\n    }\n  }\n\n  .file-wrapper {\n    margin-top: 30px;\n    .file-wrapper__top {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      p {\n        font-size: 13px;\n        font-weight: bold;\n      }\n    }\n    .file-wrapper__content {\n      table {\n        margin-top: 10px;\n        width: 100%;\n        border-collapse: collapse;\n        thead th {\n          border: 1px solid #797979;\n        }\n        tbody td {\n          border: 1px solid #797979;\n        }\n      }\n    }\n  }\n  .info-wrapper {\n    margin-top: 30px;\n  }\n  .user-report {\n    margin-top: 30px;\n  }\n  .ant-picker {\n    height: 30px;\n    width: 100%;\n  }\n"])))},81745:(n,e,t)=>{t.d(e,{A:()=>j});var i=t(82483),a=t(79948),l=t(72741),o=t(93445),s=t(256),h=t(2370),r=(t(69973),t(67637)),d=t(33713),c=t(65828),u=(t(94690),t(18570),t(93474)),p=t(87734),g=t(21428),x=t(38674),m=t(81349),y=t(54686),T=t.n(y),D=t(56723);const{Item:S}=a.A;class f extends i.Component{constructor(n){super(n),this.deteleFile=(n,e)=>{const{DanhSachHoSoTaiLieu:t}=this.state;n.FileDinhKemID?l.A.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file \u0111\xednh k\xe8m n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:()=>{n.TrangThai=0;const e=[...t],i=e.indexOf(n);e.splice(i,1),this.setState({DanhSachHoSoTaiLieu:e,isFalseFile:!1,messErr:""})}}):(t.splice(e,1),this.setState({DanhSachHoSoTaiLieu:t,isFalseFile:!1,messErr:""}))},this.onOk=async()=>{const{DanhSachHoSoTaiLieu:n}=this.state,{onCreate:e,dataEdit:t}=this.props;this.formRef.current.validateFields().then((t=>{const i={DanhSachHoSoTaiLieu:n,...t};this.props.XuLyDonID&&(i.XuLyDonID=this.props.XuLyDonID),e(i)})).catch((n=>console.log("errr",n)))},this.showModalHoSoTaiLieu=n=>{if(n||0===n){const{DanhSachHoSoTaiLieu:e,keyModalHoSoTaiLieu:t}=this.state,i=t+1;this.setState({keyModalHoSoTaiLieu:i,visibleModalHoSoTaiLieu:!0,dataModalHoSoTaiLieu:{...e[n],index:n}})}else{const{DanhSachHoSoTaiLieu:n,keyModalHoSoTaiLieu:e}=this.state,t=e+1;this.setState({keyModalHoSoTaiLieu:t,visibleModalHoSoTaiLieu:!0})}},this.closeModalHoSoTaiLieu=n=>{this.setState({visibleModalHoSoTaiLieu:!1,dataModalHoSoTaiLieu:{}})},this.deleteHoSoTaiLieu=n=>{l.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a H\u1ed3 s\u01a1, t\xe0i li\u1ec7u n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{const{DanhSachHoSoTaiLieu:e,keyModalHoSoTaiLieu:t}=this.state;e.splice(n,1),o.Ay.destroy(),o.Ay.success("X\xf3a th\xe0nh c\xf4ng")}})},this.submitModalHoSoTaiLieu=n=>{const{index:e}=n;if(e||0===e){const{DanhSachHoSoTaiLieu:t}=this.state,i=[...t];i.splice(e,1,n),this.setState({visibleModalHoSoTaiLieu:!1,dataModalHoSoTaiLieu:i}),o.Ay.destroy(),o.Ay.success("C\u1eadp nh\u1eadt h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}else{const{DanhSachHoSoTaiLieu:e,keyModalHoSoTaiLieu:t}=this.state,i=[...e];i.push(n),this.setState({visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:i}),o.Ay.destroy(),o.Ay.success("Th\xeam m\u1edbi h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}},this.state={DanhSachHoSoTaiLieu:[],dataModalHoSoTaiLieu:{},keyModalHoSoTaiLieu:0,visibleModalHoSoTaiLieu:!1,fileView:{},fileKey:0,loading:!1,QuyetDinh:1,isFile:!1},this.formRef=i.createRef()}componentDidMount(){const{dataEdit:n}=this.props;n&&n.TrangThaiPheDuyet&&(this.formRef&&this.formRef.current.setFieldsValue({...n,HanXuLy:null!==n&&void 0!==n&&n.HanXuLy?T()(n.HanXuLy):null}),this.setState({DanhSachHoSoTaiLieu:n.DanhSachHoSoTaiLieu?n.DanhSachHoSoTaiLieu:[]}))}render(){var n;const{visible:e,fileKey:t,onCancel:i,SuDungQuyTrinhGQPhucTap:l,loading:o}=this.props,{DanhSachHoSoTaiLieu:y}=this.state,f=null!==(n=this.props.dataEdit)&&void 0!==n&&n.isViewDetails?this.props.dataEdit.isViewDetails:null;return(0,D.jsx)(c.aF,{title:l?"Tr\xecnh b\xe1o c\xe1o x\xe1c minh":"C\u1eadp nh\u1eadt b\xe1o c\xe1o x\xe1c minh",visible:e,className:"center-modal__footer",footer:f?(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(h.A,{className:"btn-danger",onClick:()=>i(),children:"\u0110\xf3ng"})}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(h.A,{type:"primary",onClick:()=>this.onOk(),loading:o,children:[(0,D.jsx)(p.A,{})," L\u01b0u"]}),(0,D.jsx)(h.A,{className:"btn-danger",onClick:()=>i(),loading:o,children:"H\u1ee7y"})]}),width:800,onCancel:()=>i(),children:(0,D.jsx)(r.A,{children:(0,D.jsxs)(a.A,{ref:this.formRef,children:[(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(S,{label:"N\u1ed9i dung ",name:"NoiDung",rules:[d.REQUIRED],className:"ant-form-title__left",children:(0,D.jsx)(m.A,{})}),(0,D.jsxs)("div",{className:"file",children:[(0,D.jsxs)("p",{children:["H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"," ",(0,D.jsx)("span",{style:{marginLeft:10,color:"red",fontStyle:"italic",fontWeight:400},children:"\u0110\xednh k\xe8m file d\u1ef1 th\u1ea3o quy\u1ebft \u0111\u1ecbnh/ k\u1ebft lu\u1eadn, b\xe1o c\xe1o"})]}),(0,D.jsx)(h.A,{type:"primary",onClick:()=>this.showModalHoSoTaiLieu(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]})]}),y&&null!==y&&void 0!==y&&y.length?(0,D.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,D.jsxs)("table",{children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,D.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,D.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,D.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),f?null:(0,D.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),y.map(((n,e)=>{var t,i;return(0,D.jsxs)("tbody",{children:[(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{rowspan:n.FileDinhKem.length,style:{textAlign:"center"},children:e+1}),(0,D.jsx)("td",{rowspan:n.FileDinhKem.length,children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.TenFile)}),(0,D.jsx)("td",{children:(0,D.jsx)("div",{className:"group-file",children:n.FileDinhKem[0]?(0,D.jsx)("p",{className:"file-item",children:(0,D.jsx)("a",{href:n.FileDinhKem[0].FileUrl,target:"_blank",children:(null===(t=n.FileDinhKem[0])||void 0===t?void 0:t.name)||(null===(i=n.FileDinhKem[0])||void 0===i?void 0:i.TenFile)})}):null})}),(0,D.jsx)("td",{rowspan:n.FileDinhKem.length,children:(0,D.jsx)("p",{children:T()().format("DD/MM/YYYY")})}),f?null:(0,D.jsx)("td",{rowspan:n.FileDinhKem.length,style:{textAlign:"center"},children:(0,D.jsxs)("div",{className:"action-btn",children:[(0,D.jsx)(s.A,{title:"S\u1eeda H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,D.jsx)(g.A,{onClick:()=>this.showModalHoSoTaiLieu(e)})}),(0,D.jsx)(s.A,{title:"X\xf3a H\u1ed3 s\u01a1, t\xe0i li\u1ec7u",children:(0,D.jsx)(x.A,{onClick:()=>this.deteleFile(n,e)})})]})})]}),n.FileDinhKem?n.FileDinhKem.map(((n,e)=>{if(e>0)return(0,D.jsx)("tr",{children:(0,D.jsx)("td",{children:(0,D.jsx)("p",{className:"file-item",children:(0,D.jsx)("a",{href:n.FileUrl,target:"_blank",children:n.name||n.TenFile})})})})})):null]})}))]})}):"",(0,D.jsx)(u.A,{visible:this.state.visibleModalHoSoTaiLieu,dataEdit:this.state.dataModalHoSoTaiLieu,onCancel:this.closeModalHoSoTaiLieu,onCreate:this.submitModalHoSoTaiLieu},this.state.keyModalHoSoTaiLieu)]})})},t)}}const j=f}}]);