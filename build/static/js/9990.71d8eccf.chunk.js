"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[9990],{2637:(e,n,a)=>{a.d(n,{A:()=>c});a(82483);var i,t=a(57528),l=a(22953);a(6535);const s=l.Ay.div(i||(i=(0,t.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var o=a(56723);const c=e=>(0,o.jsx)(s,{className:"wrapper-top",children:e.children})},82859:(e,n,a)=>{a.d(n,{A:()=>c});var i=a(65828),t=a(18570),l=a(54686),s=a.n(l),o=a(56723);const c=e=>{const{onFilter:n,filterData:a}=e;return(0,o.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,o.jsx)(i.lr,{placeholder:"T\u1eeb ng\xe0y",format:"DD/MM/YYYY",value:a.TuNgay?s()(a.TuNgay,"YYYY/MM/DD"):null,onChange:(e,a)=>n(e?(0,t.Yq)(e):null,"TuNgay"),disabledDate:e=>(0,t.IH)(e,a.DenNgay)}),(0,o.jsx)(i.lr,{value:a.DenNgay?s()(a.DenNgay,"YYYY/MM/DD"):null,onChange:(e,a)=>n(e?(0,t.Yq)(e):null,"DenNgay"),placeholder:"\u0110\u1ebfn ng\xe0y",format:"DD/MM/YYYY",disabledDate:e=>(0,t.IH)(a.TuNgay,e,2)})]})}},99985:(e,n,a)=>{a.d(n,{A:()=>g});var i=a(82483),t=a(33713),l=a(79948),s=a(53397),o=a(27957),c=a(18682),r=a(18570),d=a(30180),h=a(54686),u=a.n(h),D=(a(94690),a(56723));const{Item:y}=l.A,g=e=>{const[n,a]=(0,i.useState)([]),{useForm:h}=l.A,[g]=h();(0,i.useEffect)((()=>{const{dataEdit:n}=e;n&&g&&g.setFieldsValue({...n,NgayTruc:n.NgayTruc?u()(n.NgayTruc):null})}),[]);const{confirmLoading:x,visible:m,onCancel:T,onPrint:j}=e;return(0,D.jsx)(c.A,{title:"D\xe2n kh\xf4ng \u0111\u1ebfn",width:t.MODAL_NORMAL,visible:m,onCancel:T,footer:[(0,D.jsx)(s.Ay,{onClick:T,children:"H\u1ee7y"},"back"),(0,D.jsx)(s.Ay,{loading:x,onClick:j,type:"primary",children:"L\u01b0u v\xe0 In"}),(0,D.jsx)(s.Ay,{loading:x,onClick:n=>{n.preventDefault(),g.validateFields().then((n=>{const a={...n};a.NgayTruc=(0,r.Yq)(a.NgayTruc);const{onCreate:i}=e;a.DanKhongDenID>0||delete a.DanKhongDenID,i(a)}))},type:"primary",children:"L\u01b0u"})],children:(0,D.jsxs)(l.A,{form:g,children:[(0,D.jsx)(y,{name:"DanKhongDenID",hidden:!0,children:(0,D.jsx)(o.A,{})}),(0,D.jsx)(y,{label:"Ng\xe0y ti\u1ebfp",name:"NgayTruc",...t.REQUIRED,...t.ITEM_LAYOUT,children:(0,D.jsx)(d.A,{style:{width:"100%"}})}),(0,D.jsx)(y,{label:"T\xean l\xe3nh \u0111\u1ea1o ti\u1ebfp d\xe2n",name:"TenCanBo",...t.REQUIRED,...t.ITEM_LAYOUT,children:(0,D.jsx)(o.A,{})}),(0,D.jsx)(y,{label:"Ch\u1ee9c v\u1ee5",name:"ChucVu",...t.ITEM_LAYOUT,children:(0,D.jsx)(o.A,{})})]})})}},69142:(e,n,a)=>{a.d(n,{A:()=>j});var i=a(82483),t=a(79948),l=a(256),s=a(2370),o=a(33713),c=a(65828),r=(a(94690),a(93474)),d=a(87734),h=a(21428),u=a(38674),D=a(81349),y=a(54686),g=a.n(y),x=a(6374),m=a(56723);const{Item:T}=t.A,j=e=>{var n;const[a,y,j,A,p,S,v,f,L]=(0,x.U)(),M=(0,i.useRef)();(0,i.useEffect)((()=>{const{dataEdit:n}=e;n&&n.DanhSachHoSoTaiLieu&&L({DanhSachHoSoTaiLieu:n.DanhSachHoSoTaiLieu})}),[]);const{dataEdit:H,visible:k,onCancel:b,loading:C}=e,F=null!==(n=e.dataEdit)&&void 0!==n&&n.isViewDetails?e.dataEdit.isViewDetails:null;return(0,m.jsx)(c.aF,{title:"C\u1eadp nh\u1eadt th\xf4ng tin r\xfat \u0111\u01a1n",visible:k,className:"center-modal__footer",footer:F?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.A,{className:"btn-danger",onClick:()=>b(),children:"\u0110\xf3ng"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(s.A,{type:"primary",onClick:()=>async function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{onCreate:a,dataEdit:i}=e;M.current.validateFields().then((e=>{const i={DanhSachHoSoTaiLieu:A,...e};a(i,n)})).catch((e=>console.log("errr",e)))}(),loading:C,children:[(0,m.jsx)(d.A,{})," L\u01b0u"]}),(0,m.jsx)(s.A,{className:"btn-danger",onClick:()=>b(),loading:C,children:"H\u1ee7y"})]}),width:800,onCancel:()=>b(),children:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(t.A,{ref:M,children:[(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{label:"L\xfd do r\xfat \u0111\u01a1n",name:"LyDoRutDon",className:"ant-form-title__left",rules:[o.REQUIRED],children:(0,m.jsx)(D.A,{})}),(0,m.jsxs)("div",{className:"file",children:[(0,m.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,m.jsx)(s.A,{type:"primary",onClick:()=>p(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]})]}),A&&null!==A&&void 0!==A&&A.length?(0,m.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,m.jsxs)("table",{children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,m.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,m.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,m.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),F?null:(0,m.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),A.map(((e,n)=>{var a;return(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:n+1}),(0,m.jsx)("td",{rowspan:e.FileDinhKem.length,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.TenFile)}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"group-file",children:e.FileDinhKem[0]?(0,m.jsx)("p",{className:"file-item",children:(0,m.jsx)("a",{href:e.FileDinhKem[0].FileUrl,target:"_blank",children:e.FileDinhKem[0].name||(null===(a=e.FileDinhKem[0])||void 0===a?void 0:a.TenFile)})}):null})}),(0,m.jsx)("td",{rowspan:e.FileDinhKem.length,children:(0,m.jsx)("p",{children:g()().format("DD/MM/YYYY")})}),F?null:(0,m.jsx)("td",{rowspan:e.FileDinhKem.length,style:{textAlign:"center"},children:(0,m.jsxs)("div",{className:"action-btn",children:[(0,m.jsx)(l.A,{title:"S\u1eeda h\u1ed3 s\u01a1,t\xe0i li\u1ec7u",children:(0,m.jsx)(h.A,{onClick:()=>p(n)})}),(0,m.jsx)(l.A,{title:"X\xf3a h\u1ed3 s\u01a1,t\xe0i li\u1ec7u",children:(0,m.jsx)(u.A,{onClick:()=>f(e,n)})})]})})]}),e.FileDinhKem?e.FileDinhKem.map(((e,n)=>{if(n>0)return(0,m.jsx)("tr",{children:(0,m.jsx)("td",{children:(0,m.jsx)("p",{className:"file-item",children:(0,m.jsx)("a",{href:e.FileUrl,target:"_blank",children:e.name||e.TenFile})})})})})):null]})}))]})}):"",(0,m.jsx)(r.A,{visible:a,dataEdit:y,onCancel:S,onCreate:v},j)]})})})}},49789:(e,n,a)=>{a.d(n,{A:()=>c});a(69142);var i=a(66073),t=a(82483),l=a(18570),s=a(33713),o=a(93445);const c=e=>{const{selectedRowsKey:n,setSelectedRowsKey:a,XuLyDonID:c}=e,[r,d]=(0,t.useState)(!1),[h,u]=(0,t.useState)(0),[D,y]=(0,t.useState)(!1),g=()=>{d(!1)};return{visibleModalRutDon:r,keyModalRutDon:h,showModalRutDon:()=>{u((e=>e+1)),d(!0)},submitModalRutDon:n=>{if(console.log(c),c){y(!0),n.XuLyDonID=c;const t={FileType:s.LoaiFileDinhKem.FileRutDon},r=[];n.DanhSachHoSoTaiLieu&&(0,l.Yj)(n.DanhSachHoSoTaiLieu,r,t,i.A),Promise.all(r).then((t=>{i.A.RutDon(n).then((n=>{y(!1),n&&n.data&&1===n.data.Status?(o.Ay.success(n.data.Message),g(),e.reloadData(),a([])):o.Ay.error("".concat(n&&n.data?n.data.Message:"L\u1ed7i h\u1ec7 th\u1ed1ng"))}))}))}},hideModalRutDon:g,loadingModalRutDon:D}}},87088:(e,n,a)=>{a.d(n,{A:()=>x});var i,t=a(57528),l=a(82483),s=a(79948),o=a(93445),c=a(23511),r=a(2370),d=(a(69973),a(22953)),h=(a(33713),a(65828)),u=(a(54686),a(18570),a(43047)),D=a(56723);const{Item:y}=s.A,g=d.Ay.div(i||(i=(0,t.A)(["\n  .radio-wrapper {\n    display: flex;\n    flex-direction: column;\n  }\n  iframe {\n    width: 100%;\n  }\n"]))),x=e=>{const[n,a]=(0,l.useState)(null),[i,t]=(0,l.useState)(!1),[s,d]=(0,l.useState)(!1),{dataEdit:y,XuLyDonID:x,TiepDanKhongDonID:m,DonThuID:T,title:j,visible:A,onCreate:p,fileKey:S,onCancel:v,DanhSachBieuMau:f}=e;(0,l.useEffect)((()=>{e.LoaiMaIn&&L(e.LoaiMaIn)}),[]);const L=e=>{u.A.GetPrevewPDF({MaPhieuIn:e,XuLyDonID:x,DonThuID:T,TiepDanKhongDonID:m}).then((e=>{e.data.Status>0?(d(e.data.Data),t(!0)):(o.Ay.destroy(),o.Ay.warning(e.data.Message))})).catch((e=>{o.Ay.destroy(),o.Ay.warning(e.toString())}))};return(0,D.jsx)(h.aF,{className:"center-modal__footer",title:"In phi\u1ebfu",visible:A,footer:(0,D.jsxs)(D.Fragment,{children:[n?(0,D.jsxs)(D.Fragment,{children:[i?null:(0,D.jsx)(r.A,{type:"primary",onClick:()=>L(n),children:"Xem tr\u01b0\u1edbc"}),i?(0,D.jsx)(r.A,{type:"primary",onClick:()=>t(!1),children:"Quay l\u1ea1i"}):(0,D.jsx)(r.A,{type:"primary",onClick:()=>{u.A.getChiTietBieuMau({MaPhieuIn:n,XuLyDonID:x,DonThuID:T,TiepDanKhongDonID:m}).then((e=>{if(e.data.Status>0){const n=document.createElement("a");n.href=e.data.Data,n.target="_blank",n.click()}else o.Ay.destroy(),o.Ay.warning(e.data.Message)})).catch((e=>{o.Ay.destroy(),o.Ay.warning(e.toString())}))},children:"T\u1ea3i file"})]}):null,(0,D.jsx)(r.A,{className:"btn-danger",onClick:()=>v(),children:"\u0110\xf3ng"})]}),width:1200,IsFullHeight:!0,onCancel:()=>v(),children:(0,D.jsx)(g,{children:i?(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("iframe",{style:{height:800},src:s})}):(0,D.jsx)(c.Ay.Group,{className:"radio-wrapper",onChange:e=>a(e.target.value),value:n,children:f?f.map(((e,n)=>(0,D.jsx)(c.Ay,{className:"radio-items",value:e.MaPhieuIn,children:"".concat(n+1,". ").concat(e.TenBieuMau)}))):null})})})}},6374:(e,n,a)=>{a.d(n,{U:()=>s});var i=a(82483),t=a(72741),l=a(93445);const s=e=>{const[n,a]=(0,i.useState)({DanhSachHoSoTaiLieu:[],dataModalHoSoTaiLieu:{},keyModalHoSoTaiLieu:0,visibleModalHoSoTaiLieu:!1,loading:!1}),{visibleModalHoSoTaiLieu:s,dataModalHoSoTaiLieu:o,keyModalHoSoTaiLieu:c,DanhSachHoSoTaiLieu:r}=n;return[s,o,c,r,e=>{const{DanhSachHoSoTaiLieu:i,keyModalHoSoTaiLieu:t}=n;if(e||0===e){const n=t+1;a((a=>({...a,keyModalHoSoTaiLieu:n,visibleModalHoSoTaiLieu:!0,DanhSachHoSoTaiLieu:{...i[e],index:e}})))}else{const e=t+1;a((n=>({...n,keyModalHoSoTaiLieu:e,visibleModalHoSoTaiLieu:!0})))}},e=>{a((e=>({...e,visibleModalHoSoTaiLieu:!1,dataModalHoSoTaiLieu:{}})))},e=>{const{index:i}=e;if(i||0===i){const{DanhSachHoSoTaiLieu:t}=n,s=[...t];s.splice(i,1,e),a((e=>({...e,visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:s}))),l.Ay.destroy(),l.Ay.success("C\u1eadp nh\u1eadt h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}else{const{DanhSachHoSoTaiLieu:i,keyModalHoSoTaiLieu:t}=n,s=[...i];s.push(e),a((e=>({...e,visibleModalHoSoTaiLieu:!1,DanhSachHoSoTaiLieu:s}))),l.Ay.destroy(),l.Ay.success("Th\xeam m\u1edbi h\u1ed3 s\u01a1 t\xe0i li\u1ec7u th\xe0nh c\xf4ng")}},(e,i)=>{const{DanhSachHoSoTaiLieu:l}=n;if(e.FileDinhKemID)t.A.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file \u0111\xednh k\xe8m n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:()=>{e.TrangThai=0;const n=[...l],i=n.indexOf(e);n.splice(i,1),a((e=>({...e,DanhSachHoSoTaiLieu:n})))}});else{const e=[...l];e.splice(i,1),a((n=>({...n,DanhSachHoSoTaiLieu:e})))}},e=>{a((n=>({...n,...e})))}]}},60559:(e,n,a)=>{a.d(n,{A:()=>c});var i=a(58168),t=a(82483);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var s=a(56594),o=function(e,n){return t.createElement(s.A,(0,i.A)({},e,{ref:n,icon:l}))};const c=t.forwardRef(o)}}]);