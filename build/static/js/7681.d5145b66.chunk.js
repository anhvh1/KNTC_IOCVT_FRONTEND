"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[7681],{74405:(e,n,t)=>{t.d(n,{$:()=>o,A:()=>c});var a,i=t(26418),l=t(57528),s=t(22953),r=t(6535);const d=(e=>(0,s.Ay)(e)(a||(a=(0,l.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,r.palette)("text",1),(0,r.palette)("primary",0),(0,r.palette)("primary",0),(0,r.palette)("primary",0),(0,r.palette)("primary",0)))(i.A),o=i.A.Group,c=d},2637:(e,n,t)=>{t.d(n,{A:()=>d});t(82483);var a,i=t(57528),l=t(22953);t(6535);const s=l.Ay.div(a||(a=(0,i.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var r=t(56723);const d=e=>(0,r.jsx)(s,{className:"wrapper-top",children:e.children})},67466:(e,n,t)=>{t.d(n,{D:()=>i});var a=t(82483);function i(e){const[n,t]=(0,a.useState)(0);return[n,()=>{t(n+1)}]}},57681:(e,n,t)=>{t.r(n),t.d(n,{default:()=>G});var a,i=t(93445),l=t(9716),s=t(82483),r=t(82402),d=t(23969),o=t(53660),c=t(34045),h=(t(81538),t(64684)),u=t(67353),g=t(53615),p=t(74405),x=t(65828),y=t(57528),D=t(22953);const A=D.Ay.div(a||(a=(0,y.A)(["\n  .filter-time {\n    display: flex;\n    gap: 10px;\n    .filter-time__item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n    }\n  }\n"])));var f,m=t(18570),S=t(67466),j=t(92378),T=t(79624),v=t(79948),b=t(63419),N=t(88701);t(33713);const w=D.Ay.div(f||(f=(0,y.A)(["\n  .filter-item {\n    display: flex;\n    align-items: center;\n    height: 100%;\n    .label {\n      margin-right: 10px;\n      flex-basis: 25%;\n    }\n    .label-time {\n      margin-right: 10px;\n      flex-basis: 10%;\n    }\n    .input {\n      display: flex;\n      align-items: center;\n      flex-basis: content;\n    }\n    .ant-checkbox-group {\n      display: flex;\n      align-items: center;\n    }\n  }\n"])));var M=t(54686),k=t.n(M),C=t(56723);const{Item:I}=v.A;const Y=(0,r.Ng)((function(e){return{...e.DongBoDuLieu}}),d.A)((e=>{var n;const{filterData:t,setFilterData:a,TickSync:i}=e,[l,o]=(0,s.useState)({}),[c,h]=(0,s.useState)(!1),{DanhSachDonThu:y}=(0,r.d4)((e=>e.DongBoDuLieu)),[D,A]=(0,s.useState)(""),[f,j]=(0,S.D)(),{selectedRowsKey:T,setSelectedRowsKey:v}=e,[M,I]=(0,s.useState)(!1),[Y,L]=(0,s.useState)(1),P=(0,r.wA)();(0,s.useEffect)((()=>{P(d.A.getList())}),[]);const K=(e,n,i)=>{let l=t,s={pagination:e,filters:n,sorter:i},r=(0,m.D5)(l,null,s);a(r)},{TotalRow:R,role:B}=e,F=t.PageNumber?parseInt(t.PageNumber):1,_=t.PageSize?parseInt(t.PageSize):(0,m.WT)(),H=[{title:"STT",width:"5%",align:"center",render:(e,n,t)=>(0,C.jsx)("span",{children:(F-1)*_+(t+1)})},{title:"M\xe3 \u0111\u01a1n th\u01b0",dataIndex:"SoDonThu",align:"left",width:"10%"},{title:"Ng\xe0y nh\u1eadp \u0111\u01a1n",dataIndex:"NgayNhapDon",align:"left",width:"10%",render:(e,n,t)=>n.NgayNhapDon?k()(n.NgayNhapDon).format("DD/MM/YYYY"):null},{title:"T\xean ch\u1ee7 \u0111\u01a1n",dataIndex:"HoTen",align:"left",width:"10%"},{title:"N\u1ed9i dung",dataIndex:"NoiDungDon",align:"left",width:"50%"},{title:"Lo\u1ea1i \u0111\u01a1n",dataIndex:"TenLoaiKhieuTo",align:"left",width:"10%"},{title:"H\u01b0\u1edbng x\u1eed l\xfd",width:"10%",dataIndex:"TenHuongGiaiQuyet",align:"center",margin:"15px"}],z=y.filter((e=>T.includes(e.DonThuID)));return(0,C.jsxs)(w,{children:[(0,C.jsx)(u.A,{children:(0,C.jsxs)(b.A,{gutter:[12,12],children:[2===Number(t.loaiDongBo)&&null!==B&&void 0!==B&&B.add?(0,C.jsx)(N.A,{xs:24,lg:11,children:(0,C.jsxs)("div",{className:"filter-item",children:[(0,C.jsx)("div",{className:"label-time",children:"T\u1eeb ng\xe0y : "}),(0,C.jsx)("div",{className:"input",children:(0,C.jsxs)(p.$,{onChange:e=>{let n="";e.forEach(((e,t)=>{n+=t>0?";"+e.toString():e.toString()})),((e,n)=>{let i=t,l={value:e,property:n},s=(0,m.D5)(i,l,null);a(s)})(n,"NgayTrongTuan")},defaultValue:null===(n=t.NgayTrongTuan)||void 0===n?void 0:n.split(";"),children:[(0,C.jsx)(p.A,{value:"2",children:"Th\u1ee9 2"},"2"),(0,C.jsx)(p.A,{value:"3",children:"Th\u1ee9 3"},"3"),(0,C.jsx)(p.A,{value:"4",children:"Th\u1ee9 4"},"4"),(0,C.jsx)(p.A,{value:"5",children:"Th\u1ee9 5"},"5"),(0,C.jsx)(p.A,{value:"6",children:"Th\u1ee9 6"},"6"),(0,C.jsx)(p.A,{value:"7",children:"Th\u1ee9 7"},"7"),(0,C.jsx)(p.A,{value:"CN",children:"Ch\u1ee7 nh\u1eadt"},"CN")]})})]})}):null,(0,C.jsx)(N.A,{xs:24,children:null!==B&&void 0!==B&&B.add?(0,C.jsx)(x.$n,{type:"primary",disabled:T.length<1,onClick:()=>i(z),children:"\u0110\xe1nh d\u1ea5u \u0111\u1ed3ng b\u1ed9"}):null})]})}),(()=>{const e={selectedRowsKey:T,renderCell:(e,n,t,a)=>(0,C.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"right",padding:"0 3px"},children:(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{className:"selected__table",checked:T.includes(n.DonThuID),onChange:()=>{(e=>{const n=[...T];n.includes(e.key)?v(n.filter((n=>n!==e.key))):v([...n,e.key])})(n)}})})}),onChange:e=>{v(e)}},n=null===y||void 0===y?void 0:y.map((e=>({...e,key:null===e||void 0===e?void 0:e.DonThuID})));return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(g.Ay,{rowSelection:e,columns:H,dataSource:n,onChange:K,pagination:!1})})})()]})}));var L;const P=D.Ay.div(L||(L=(0,y.A)(["\n    .filter-item {\n        display: flex;\n        align-items: center;\n        .label {\n            margin-right : 10px;\n            /* flex-basis: 30%; */\n        }\n        .input {\n            flex-basis: content;\n        }\n    }\n\n"]))),{Item:K}=v.A,R=e=>{const{filterData:n,setFilterData:t}=e,[a,i]=(0,s.useState)({}),[l,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(""),[y,D]=(0,S.D)(),[A,f]=(0,s.useState)([]),[j,T]=(0,s.useState)(!1),[v,b]=(0,s.useState)(1),{DanhSachLichSuDongBo:N,TotalRow:w,role:M,updateStateReport:I}=((0,r.wA)(),e),Y=n.PageNumber?parseInt(n.PageNumber):1,L=n.PageSize?parseInt(n.PageSize):(0,m.WT)(),K=[{title:"STT",width:"5%",align:"center",render:(e,n,t)=>(0,C.jsx)("span",{children:(Y-1)*L+(t+1)})},{title:"M\xe3 \u0111\u01a1n th\u01b0",dataIndex:"SoDonThu",align:"left",width:"10%"},{title:"Ng\xe0y nh\u1eadp \u0111\u01a1n",dataIndex:"NgayNhapDon",align:"left",width:"10%",render:(e,n)=>(0,C.jsx)("p",{children:null!==n&&void 0!==n&&n.NgayNhapDon?k()(n.NgayNhapDon).format("DD/MM/YYYY"):null})},{title:"T\xean ch\u1ee7 \u0111\u01a1n",dataIndex:"HoTen",align:"left",width:"10%"},{title:"N\u1ed9i dung",dataIndex:"NoiDungDon",align:"left",width:"50%"},{title:"Lo\u1ea1i \u0111\u01a1n",dataIndex:"TenLoaiKhieuTo",width:"10%",align:"left"},{title:"H\u01b0\u1edbng x\u1eed l\xfd",dataIndex:"TenHuongGiaiQuyet",width:"10%",align:"center"}],R={selectedRowsKey:A,renderCell:(e,n,t,a)=>(0,C.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"right",padding:"0 3px"},children:(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{className:"selected__table",checked:A.includes(n.XuLyDonID),onChange:()=>(e=>{const n=[...A];n.includes(e.key)?f(n.filter((n=>n!==e.key))):f([...n,e.key])})(n)})})}),onChange:e=>{f(e)}},B=null===N||void 0===N?void 0:N.map((e=>({...e,key:null===e||void 0===e?void 0:e.XuLyDonID})));return(0,C.jsx)(P,{children:(0,C.jsx)(o.A,{children:(0,C.jsxs)(h.A,{children:[(0,C.jsx)(u.A,{}),(0,C.jsx)(g.Ay,{rowSelection:R,columns:K,dataSource:B,onChange:(e,a,i)=>{let l=n,s={pagination:e,filters:a,sorter:i},r=(0,m.D5)(l,null,s);t(r)},pagination:!1})]})})})};var B,F=t(27957),_=t(68305);const H=D.Ay.div(B||(B=(0,y.A)(["\n    .filter-item {\n        display: flex;\n        align-items: center;\n        .label {\n            margin-right : 10px;\n            /* flex-basis: 30%; */\n        }\n        .input {\n            flex-basis: content;\n        }\n    }\n\n"]))),{Item:z}=v.A;const $=(0,r.Ng)((function(e){return{...e.ReducerDanToc}}),_.A)((e=>{const{filterData:n,setFilterData:t,LoadDataCallApi:a,UpdateDataMapping:i,DanhSachDuLieuMapping:l}=e,[r,d]=(0,s.useState)({}),[c,p]=(0,s.useState)(!1),[y,D]=(0,s.useState)([]),[A,f]=(0,s.useState)([]),[j,T]=(0,s.useState)(""),[v,w]=(0,S.D)(),[M,k]=(0,s.useState)([]),[I,Y]=(0,s.useState)(!1),[L,P]=(0,s.useState)(1),K=(e,a,i)=>{let l=n,s={pagination:e,filters:a,sorter:i},r=(0,m.D5)(l,null,s);t(r)};(0,s.useEffect)((()=>{f(l)}),[l]);const R=(0,m.pk)(((e,n)=>{const t=[...l],a=[...y],i=t.find((n=>n.Ma===e));i.MappingCode=n,a.find((e=>e.Ma===i.Ma))||a.push(i),D(a)}),300),{TotalRow:B,role:_}=e,z=n.PageNumber?parseInt(n.PageNumber):1,$=n.PageSize?parseInt(n.PageSize):(0,m.WT)(),E=[{title:"STT",width:"10%",align:"center",render:(e,n,t)=>(0,C.jsx)("span",{children:(z-1)*$+(t+1)})},{title:"M\xe3 tr\xean KNTC",dataIndex:"Ma",align:"left",width:"30%"},{title:"T\xean tr\xean KNTC",dataIndex:"Ten",align:"left",width:"30%"},{title:"M\xe3 mapping",dataIndex:"MappingCode",width:"30%",align:"left",render:(e,n,t)=>(0,C.jsx)(F.A,{disabled:!(null!==_&&void 0!==_&&_.add),defaultValue:n.MappingCode,onChange:e=>R(n.Ma,e.target.value)})}],X=[{title:"STT",align:"center",render:(e,n,t)=>(0,C.jsx)("span",{children:(z-1)*$+(t+1)})},{title:"M\xe3 tr\xean API",dataIndex:"MaAPI"},{title:"T\xean tr\xean API",dataIndex:"TenAPI"}],{DanhSachAnhXa:G,DanhSachDuLieuMapping2:Q}=e;return(0,C.jsx)(H,{children:(0,C.jsx)(o.A,{children:(0,C.jsx)(h.A,{children:(0,C.jsxs)(b.A,{children:[(0,C.jsxs)(N.A,{xs:24,md:16,children:[(0,C.jsx)(u.A,{children:(0,C.jsxs)("div",{className:"filter-item",children:[(0,C.jsx)("p",{className:"label",children:"Lo\u1ea1i danh m\u1ee5c \xe1nh x\u1ea1 : "}),(0,C.jsx)(x.l6,{style:{width:"300px"},defaultValue:n.TypeApi,onChange:e=>((e,a)=>{let i=n,l={value:e,property:a},s=(0,m.D5)(i,l,null);t(s)})(e,"TypeApi"),children:G?G.map((e=>(0,C.jsx)(x.c$,{value:e.Ma,children:e.Ten}))):null})]})}),(0,C.jsx)(g.Ay,{loading:e.loading,columns:E,dataSource:A,onChange:K,pagination:!1})]}),(0,C.jsxs)(N.A,{xs:24,md:8,children:[(0,C.jsxs)(u.A,{children:[null!==_&&void 0!==_&&_.add?(0,C.jsx)(x.$n,{onClick:a,disabled:!n.TypeApi,children:"T\u1ea5t c\u1ea3 d\u1eef li\u1ec7u & call api"}):null,null!==_&&void 0!==_&&_.add?(0,C.jsx)(x.$n,{style:{marginLeft:"10px"},disabled:!n.TypeApi,onClick:()=>i(y),children:"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u mapping"}):null]}),(0,C.jsx)(g.Ay,{columns:X,dataSource:Q,onChange:K,scroll:{x:400},pagination:!1})]})]})})})})}));var E=t(82859),X=t(2637);const G=(0,r.Ng)((function(e){return{...e.DongBoDuLieu,role:(0,m.vh)(e.Auth.role,"dong-bo-du-lieu")}}),d.A)((e=>{document.title="\u0110\u1ed3ng B\u1ed9 D\u1eef Li\u1ec7u";const n=k()().startOf("month"),t=k()(),[a,r]=(0,s.useState)({...j.parse(e.location.search),TuNgay:n.format("YYYY/MM/DD"),DenNgay:t.format("YYYY/MM/DD")}),[d,u]=(0,s.useState)({}),[g,y]=(0,s.useState)(!1),[D,f]=(0,s.useState)([]),[v,b]=(0,s.useState)([]),[N,w]=(0,s.useState)(!1),[M,I]=(0,s.useState)(""),[L,P]=(0,S.D)(),[K,B]=(0,s.useState)([]),[F,_]=(0,s.useState)(!1),[H,z]=(0,s.useState)("1");(0,s.useEffect)((()=>{(0,m._Y)(a),a.key?z(a.key):r({...a,key:H})}),[a]),(0,s.useEffect)((()=>{e.getInit(a)}),[]);const G=(e,n)=>{let t=a,i={value:e,property:n},l=(0,m.D5)(t,i,null);r(l)},Q=n=>{const t=n||a.key;3===Number(t)?e.getDanhMucKNTCQuocGia({...a}):e.getList({...a})},{DanhSachAnhXa:V,DanhSachDonThu:W,DanhSachLichSuDongBo:q,role:U}=e;return(0,C.jsx)(A,{children:(0,C.jsxs)(o.A,{children:[(0,C.jsx)(X.A,{children:(0,C.jsx)(c.A,{children:"\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u"})}),(0,C.jsxs)(h.A,{children:[null!==U&&void 0!==U&&U.add?(0,C.jsx)("div",{style:{marginBottom:"10px"},children:(0,C.jsx)(p.A,{children:"T\u1ef1 \u0111\u1ed9ng \u0111\u1ed3ng b\u1ed9"})}):null,(0,C.jsxs)("div",{className:"filter-time",children:[(0,C.jsx)(E.A,{onFilter:G,filterData:a}),(0,C.jsx)("div",{className:"filter-time__item",children:(0,C.jsx)("div",{children:(0,C.jsx)(x.$n,{type:"primary",onClick:Q,children:"T\xecm ki\u1ebfm"})})})]}),(0,C.jsxs)(l.A,{activeKey:H,onChange:e=>{r({}),G(e,"key"),f([])},children:[(0,C.jsx)(l.A.TabPane,{tab:"Danh s\xe1ch \u0111\u01a1n th\u01b0",children:(0,C.jsx)(Y,{DanhSachDonThu:W||[],filterData:a,setFilterData:r,selectedRowsKey:K,setSelectedRowsKey:B,TickSync:e=>{T.A.DanhDauDongBo({...a,DanhSachDonThu:e}).then((e=>{e.data.Status>0?(i.Ay.destroy(),i.Ay.success(e.data.Message),Q(),B([])):(i.Ay.destroy(),i.Ay.warning(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.warning(e.toString())}))},role:U})},"1"),(0,C.jsx)(l.A.TabPane,{tab:"L\u1ecbch s\u1eed \u0111\u1ed3ng b\u1ed9",children:(0,C.jsx)(R,{filterData:a,DanhSachLichSuDongBo:q,setFilterData:r,updateStateReport:e=>{T.A.CapNhatTrangThaiDon({...a,DanhSachDonThu:e}).then((e=>{e.data.Status>0?(i.Ay.destroy(),i.Ay.success(e.data.Message)):(i.Ay.destroy(),i.Ay.warning(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.warning(e.toString())}))},role:U})},"2"),(0,C.jsx)(l.A.TabPane,{tab:"Mapping danh m\u1ee5c KNTC Qu\u1ed1c gia",children:(0,C.jsx)($,{loading:N,DanhSachAnhXa:V,filterData:a,setFilterData:r,DanhSachDuLieuMapping:D,DanhSachDuLieuMapping2:v,LoadDataCallApi:()=>{w(!0),T.A.TaiDuLieuCallApi({...a}).then((e=>{w(!1),e.data.Status>0?(i.Ay.destroy(),i.Ay.success(e.data.Message),f(e.data.Data)):(i.Ay.destroy(),i.Ay.warning(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.warning(e.toString())}))},UpdateDataMapping:e=>{w(!0),T.A.CapNhatDuLieuMapping({TypeApi:null===a||void 0===a?void 0:a.TypeApi,DuLieu:e}).then((e=>{w(!1),e.data.Status>0?(i.Ay.destroy(),i.Ay.success(e.data.Message)):(i.Ay.destroy(),i.Ay.warning(e.data.Message))})).catch((e=>{i.Ay.destroy(),i.Ay.warning(e.toString())}))},role:U})},"3")]})]})]})})}))},82859:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(65828),i=t(18570),l=t(54686),s=t.n(l),r=t(56723);const d=e=>{const{onFilter:n,filterData:t}=e;return(0,r.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,r.jsx)(a.lr,{placeholder:"T\u1eeb ng\xe0y",format:"DD/MM/YYYY",value:t.TuNgay?s()(t.TuNgay,"YYYY/MM/DD"):null,onChange:(e,t)=>n(e?(0,i.Yq)(e):null,"TuNgay"),disabledDate:e=>(0,i.IH)(e,t.DenNgay)}),(0,r.jsx)(a.lr,{value:t.DenNgay?s()(t.DenNgay,"YYYY/MM/DD"):null,onChange:(e,t)=>n(e?(0,i.Yq)(e):null,"DenNgay"),placeholder:"\u0110\u1ebfn ng\xe0y",format:"DD/MM/YYYY",disabledDate:e=>(0,i.IH)(t.TuNgay,e,2)})]})}},63419:(e,n,t)=>{t.d(n,{A:()=>a});const a=t(53749).A}}]);