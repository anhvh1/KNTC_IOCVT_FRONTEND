"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[287],{74405:(e,n,a)=>{a.d(n,{$:()=>c,A:()=>l});var t,r=a(26418),i=a(57528),o=a(22953),s=a(6535);const h=(e=>(0,o.Ay)(e)(t||(t=(0,i.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,s.palette)("text",1),(0,s.palette)("primary",0),(0,s.palette)("primary",0),(0,s.palette)("primary",0),(0,s.palette)("primary",0)))(r.A),c=r.A.Group,l=h},2637:(e,n,a)=>{a.d(n,{A:()=>h});a(82483);var t,r=a(57528),i=a(22953);a(6535);const o=i.Ay.div(t||(t=(0,r.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var s=a(56723);const h=e=>(0,s.jsx)(o,{className:"wrapper-top",children:e.children})},67466:(e,n,a)=>{a.d(n,{D:()=>r});var t=a(82483);function r(e){const[n,a]=(0,t.useState)(0);return[n,()=>{a(n+1)}]}},60287:(e,n,a)=>{a.r(n),a.d(n,{default:()=>E});var t=a(72741),r=a(93445),i=a(256),o=a(38874),s=a(82483),h=a(82402),c=a(53660),l=a(34045),d=a(81538),g=a(64684),T=a(67353),u=a(53615),x=a(65828),y=a(74405),A=a(18570),p=a(67466),m=a(92378),D=a(37348),b=(a(94690),a(33713)),j=a(79948),S=a(23511),k=a(24028),f=a(56723);const{Item:C,useForm:v}=j.A,w=e=>{const[n]=v(),[a,t]=(0,s.useState)(!0),{dataEdit:r,loading:i,visible:o,action:h}=e,[c,l]=(0,s.useState)();(0,s.useEffect)((()=>{r&&r.TrangThaiDonID&&n&&n.setFieldsValue({...r})}),[]);return(0,f.jsx)(x.aF,{title:"".concat("edit"===h?"S\u1eeda":"Th\xeam"," th\xf4ng tin tr\u1ea1ng th\xe1i \u0111\u01a1n"),width:450,visible:o,onCancel:e.onCancel,footer:[(0,f.jsx)(x.$n,{onClick:e.onCancel,children:"H\u1ee7y"},"back"),(0,f.jsx)(x.$n,{htmlType:"submit",type:"primary",form:"formtrangthaidon",loading:i,onClick:async a=>{a.preventDefault();const t=await n.validateFields();"edit"===h&&e.onCreate({...t,TrangThai:c||t.TrangThai}),"add"===h&&e.onCreate({...t,TrangThai:void 0===c||c})},disabled:a,children:"L\u01b0u"},"submit")],children:(0,f.jsxs)(j.A,{form:n,name:"formtrangthaidon",onChange:async(e,a)=>{const i=await n.getFieldsValue(),{MaTrangThaiDon:o,TenTrangThaiDon:s,TrangThai:h,GhiChu:c}=i;o&&s&&(o!==r.MaTrangThaiDon||s!==r.TenTrangThaiDon||h!==r.TrangThai||c!==r.GhiChu)?t(!1):t(!0)},children:["edit"===h?(0,f.jsx)(C,{name:"TrangThaiDonID",hidden:!0}):"",(0,f.jsx)(C,{label:"M\xe3 tr\u1ea1ng th\xe1i \u0111\u01a1n",name:"MaTrangThaiDon",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,f.jsx)(x.mS,{})}),(0,f.jsx)(C,{label:"T\xean tr\u1ea1ng th\xe1i \u0111\u01a1n",name:"TenTrangThaiDon",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,f.jsx)(x.pd,{})}),(0,f.jsx)(C,{label:"Ghi ch\xfa",name:"GhiChu",...b.ITEM_LAYOUT,children:(0,f.jsx)(k.A,{})}),(0,f.jsx)(C,{label:"\u0110ang s\u1eed d\u1ee5ng",name:"TrangThai",...b.ITEM_LAYOUT,children:(0,f.jsxs)(S.Ay.Group,{onChange:e=>{l(e.target.value)},value:c,defaultValue:!0,children:[(0,f.jsx)(S.Ay,{value:!0,children:"C\xf3"}),(0,f.jsx)(S.Ay,{value:!1,children:"Kh\xf4ng"})]})})]})})};var M=a(21428),I=a(38674),N=a(2782),P=a(2637);const E=(0,h.Ng)((function(e){return{...e.DanhMucTrangThaiDon,role:(0,A.vh)(e.Auth.role,"danh-muc-trang-thai-don")}}),o.A)((e=>{document.title="Danh M\u1ee5c Tr\u1ea1ng Th\xe1i \u0110\u01a1n";const[n,a]=(0,s.useState)(m.parse(e.location.search)),[o,h]=(0,s.useState)({}),[b,j]=(0,s.useState)(!1),[S,k]=(0,s.useState)(""),[C,v]=(0,p.D)(),[E,L]=(0,s.useState)([]),[z,G]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(0,A._Y)(n),e.getList(n)}),[n]),(0,s.useEffect)((()=>{e.getList(n)}),[]);const K=(e,t)=>{let r=n,i={value:e,property:t},o=(0,A.D5)(r,i,null);a(o),L([])},O=()=>{L([]),h({}),j(!1)},U=o=>(0,f.jsxs)("div",{className:"action-btn",children:[V.edit?(0,f.jsx)(i.A,{title:"S\u1eeda",children:(0,f.jsx)(M.A,{onClick:()=>(e=>{const n=e;k("edit"),D.A.ChiTietTrangThaiDon({TrangThaiDonID:n}).then((e=>{e.data.Status>0?(h(e.data.Data),v(),j(!0)):(r.Ay.destroy(),r.Ay.error(e.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))})(o.TrangThaiDonID)})}):"",V.delete?(0,f.jsx)(i.A,{title:"X\xf3a",children:(0,f.jsx)(I.A,{onClick:()=>{return i=o.TrangThaiDonID,void t.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a tr\u1ea1ng th\xe1i \u0111\u01a1n n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{G(!0),D.A.XoaTrangThaiDon(i).then((t=>{t.data.Status>0?(G(!1),e.getList({...n,PageNumber:Math.ceil((R-1)/n.PageSize)<n.PageNumber?Math.ceil((R-1)/n.PageSize):n.PageNumber}),r.Ay.destroy(),r.Ay.success(t.data.Message),a({...n,PageNumber:Math.ceil((R-1)/n.PageSize)<n.PageNumber?Math.ceil((R-1)/n.PageSize):n.PageNumber})):(r.Ay.destroy(),r.Ay.error(t.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))}});var i}})}):""]}),{DanhSachTrangThaiDon:F,TotalRow:R,role:V}=e,Y=n.PageNumber?parseInt(n.PageNumber):1,_=n.PageSize?parseInt(n.PageSize):(0,A.WT)(),$=[{title:"STT",width:"5%",align:"center",render:(e,n,a)=>(0,f.jsx)("span",{children:(Y-1)*_+(a+1)})},{title:"M\xe3 tr\u1ea1ng th\xe1i \u0111\u01a1n",dataIndex:"MaTrangThaiDon",align:"left",width:"15%"},{title:"T\xean tr\u1ea1ng th\xe1i \u0111\u01a1n",dataIndex:"TenTrangThaiDon",align:"left",width:"25%"},{title:"Ghi ch\xfa",dataIndex:"GhiChu",align:"left",width:"35%"},{title:"\u0110ang s\u1eed d\u1ee5ng",align:"center",width:"10%",render:(e,n)=>(e=>(0,f.jsx)(y.A,{checked:e.TrangThai}))(n)},{title:"Thao t\xe1c",width:"10%",align:"center",render:(e,n)=>U(n)}];return(0,f.jsxs)(c.A,{children:[(0,f.jsxs)(P.A,{children:[(0,f.jsx)(l.A,{children:"Danh M\u1ee5c Tr\u1ea1ng Th\xe1i \u0110\u01a1n"}),(0,f.jsx)(d.A,{children:V&&V.add?(0,f.jsxs)(x.$n,{type:"primary",onClick:()=>{k("add"),h({}),v(),j(!0)},children:[(0,f.jsx)(N.A,{}),"Th\xeam M\u1edbi"]}):""})]}),(0,f.jsxs)(g.A,{children:[(0,f.jsxs)(T.A,{children:[(0,f.jsxs)(x.l6,{style:{width:"200px"},defaultValue:n.Status?"true"===n.Status?"\u0110ang s\u1eed d\u1ee5ng":"Kh\xf4ng s\u1eed d\u1ee5ng":void 0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",allowClear:!0,onChange:e=>K(e,"Status"),children:[(0,f.jsx)(Option,{value:!0,children:"\u0110ang s\u1eed d\u1ee5ng"}),(0,f.jsx)(Option,{value:!1,children:"Kh\xf4ng s\u1eed d\u1ee5ng"})]}),(0,f.jsx)(x.NJ,{defaultValue:n.Keyword,placeholder:"Nh\u1eadp m\xe3 ho\u1eb7c t\xean tr\u1ea1ng th\xe1i \u0111\u01a1n",style:{width:300},onSearch:e=>K(e,"Keyword"),allowClear:!0})]}),(0,f.jsx)(u.Ay,{columns:$,dataSource:F,onChange:(e,t,r)=>{let i=n,o={pagination:e,filters:t,sorter:r},s=(0,A.D5)(i,null,o);a(s),L([])},pagination:{showSizeChanger:!0,showTotal:(e,n)=>"T\u1eeb ".concat(n[0]," \u0111\u1ebfn ").concat(n[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:R,current:Y,pageSize:_},rowKey:e=>e.TrangThaiDonID})]}),(0,f.jsx)(w,{visible:b,dataEdit:o,action:S,loading:z,onCreate:a=>{G(!0),"add"===S&&D.A.ThemTrangThaiDon(a).then((a=>{G(!1),a.data.Status>0?(r.Ay.destroy(),r.Ay.success(a.data.Message),O(),e.getList(n)):(G(!1),r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{G(!1),r.Ay.destroy(),r.Ay.error(e.toString())})),"edit"===S&&D.A.CapNhatTrangThaiDon(a).then((a=>{a.data.Status>0?(G(!1),r.Ay.destroy(),r.Ay.success(a.data.Message),O(),e.getList(n)):(G(!1),r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{G(!1),r.Ay.destroy(),r.Ay.error(e.toString())}))},onCancel:O,DanhSachTrangThaiDon:F},C)]})}))}}]);