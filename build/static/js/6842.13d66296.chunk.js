"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[6842,2782],{74405:(e,n,a)=>{a.d(n,{$:()=>s,A:()=>o});var t,c=a(26418),r=a(57528),l=a(22953),h=a(6535);const i=(e=>(0,l.Ay)(e)(t||(t=(0,r.A)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,h.palette)("text",1),(0,h.palette)("primary",0),(0,h.palette)("primary",0),(0,h.palette)("primary",0),(0,h.palette)("primary",0)))(c.A),s=c.A.Group,o=i},2637:(e,n,a)=>{a.d(n,{A:()=>i});a(82483);var t,c=a(57528),r=a(22953);a(6535);const l=r.Ay.div(t||(t=(0,c.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 10px 0;\n  gap: 10px;\n  width: 100%;\n"])));var h=a(56723);const i=e=>(0,h.jsx)(l,{className:"wrapper-top",children:e.children})},67466:(e,n,a)=>{a.d(n,{D:()=>c});var t=a(82483);function c(e){const[n,a]=(0,t.useState)(0);return[n,()=>{a(n+1)}]}},6842:(e,n,a)=>{a.r(n),a.d(n,{default:()=>U});var t,c=a(72741),r=a(93445),l=a(256),h=a(16386),i=a(82483),s=a(82402),o=a(53660),d=a(34045),u=a(81538),g=a(64684),x=a(67353),p=a(53615),A=a(74405),C=a(69973),m=a(65828),y=a(18570),T=a(67466),f=a(92378),j=a(18929),v=(a(94690),a(57528)),b=(a(4816),a(33713)),N=a(79948),S=a(63419),w=a(88701),D=a(92870),k=a(26418),I=(a(34304),a(22953)),M=a(56723);I.Ay.div(t||(t=(0,v.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .style-select {\n    flex-grow: 1;\n  }\n"])));const{Item:E,useForm:z}=N.A,L=e=>{const[n]=z(),[a,t]=(0,i.useState)(!0),{dataEdit:c,loading:r,visible:l,action:h}=e;(0,i.useEffect)((()=>{var a;c&&c.ChucNangID&&(n&&n.setFieldsValue({...c,ChucNangChaID:null===(a=e.DanhSachChucNang.find((e=>e.ChucNangChaID===c.ChucNangChaID)))||void 0===a?void 0:a.TenChucNang}))}),[]);const[s,o]=(0,i.useState)([]);return(0,i.useEffect)((()=>{j.A.DanhSachCapCha().then((e=>o(e.data.Data)))}),[]),(0,M.jsx)(m.aF,{title:"".concat("edit"===h?"S\u1eeda":"Th\xeam"," qu\u1ea3n l\xfd ch\u1ee9c n\u0103ng"),width:600,visible:l,onCancel:e.onCancel,footer:[(0,M.jsx)(m.$n,{onClick:e.onCancel,children:"H\u1ee7y"},"back"),(0,M.jsx)(m.$n,{htmlType:"submit",type:"primary",form:"fromchucnang",loading:r,onClick:async a=>{a.preventDefault();const t=await n.validateFields();e.onCreate({...t,TrangThai:Boolean(t.TrangThai)})},disabled:a,children:"L\u01b0u"},"submit")],children:(0,M.jsxs)(N.A,{form:n,name:"fromchucnang",initialValues:{ThuTuSapXep:1,TrangThai:1,HienThiTrenMenu:!1},onChange:(e,a)=>{n.validateFields().then((e=>{t(!1)})).catch((e=>{t(!0)}))},children:["edit"===h?(0,M.jsx)(E,{name:"ChucNangID",hidden:!0}):"",(0,M.jsx)(E,{label:"Ch\u1ee9c n\u0103ng cha",name:"ChucNangChaID",...b.ITEM_LAYOUT,children:(0,M.jsx)(m.l6,{placeholder:"Ch\u1ecdn ch\u1ee9c n\u0103ng cha",children:s.map((e=>(0,M.jsx)(m.c$,{value:e.ChucNangID,children:e.TenChucNang})))})}),(0,M.jsx)(E,{label:"M\xe3 ch\u1ee9c n\u0103ng",name:"MaChucNang",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,M.jsx)(m.pd,{})}),(0,M.jsx)(E,{label:"T\xean ch\u1ee9c n\u0103ng",name:"TenChucNang",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,M.jsx)(m.pd,{})}),(0,M.jsx)(E,{label:"Icon tr\xean menu",name:"Icon",...b.ITEM_LAYOUT,rules:[b.REQUIRED],children:(0,M.jsx)(m.pd,{})}),(0,M.jsxs)(S.A,{style:!0,children:[(0,M.jsx)(w.A,{flex:"auto",children:(0,M.jsx)(E,{label:"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb",className:"style-select",name:"ThuTuSapXep",labelCol:{span:12},wrapperCol:{span:12},labelAlign:"left",children:(0,M.jsx)(D.A,{style:{width:"100%"},min:0,max:1e5})})}),(0,M.jsx)(w.A,{span:8,style:{textAlign:"right"},children:(0,M.jsx)(E,{name:"HienThiTrenMenu",valuePropName:"checked",children:(0,M.jsx)(k.A,{children:"Hi\u1ec3n th\u1ecb tr\xean menu"})})})]})]})})};var H=a(21428),P=a(38674),q=a(2782),R=a(2637);const U=(0,s.Ng)((function(e){return{...e.QLChucNang,role:(0,y.vh)(e.Auth.role,"quan-ly-chuc-nang"),actions:h.A}}),h.A)((e=>{document.title="Qu\u1ea3n l\xfd ch\u1ee9c n\u0103ng";const[n,a]=(0,i.useState)(f.parse(e.location.search)),[t,h]=(0,i.useState)({}),[s,v]=(0,i.useState)(!1),[b,N]=(0,i.useState)(""),[S,w]=(0,T.D)(),[D,k]=(0,i.useState)([]),[I,E]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,y._Y)(n),e.getListData(n)}),[n]),(0,i.useEffect)((()=>{e.getListData(n)}),[]);const z=(e,t)=>{let c=n,r={value:e,property:t},l=(0,y.D5)(c,r,null);a(l),k([])},U=()=>{N(""),k([]),h({}),v(!1)},X=t=>(0,M.jsxs)("div",{className:"action-btn",children:[B.edit?(0,M.jsx)(l.A,{title:"S\u1eeda",children:(0,M.jsx)(H.A,{onClick:()=>(e=>{const n=e;N("edit"),j.A.ChiTietChucNang({ChucNangID:n}).then((e=>{e.data.Status>0?(h(e.data.Data),w(),v(!0)):(r.Ay.destroy(),r.Ay.error(e.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))})(t.ChucNangID)})}):"",B.delete?(0,M.jsx)(l.A,{title:"X\xf3a",children:(0,M.jsx)(P.A,{onClick:()=>{return l=t.ChucNangID,void c.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ch\u1ee9c n\u0103ng n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{E(!0),j.A.XoaChucNang(l).then((t=>{t.data.Status>0?(E(!1),e.getListData({...n,PageNumber:Math.ceil((Q-1)/n.PageSize)<n.PageNumber?Math.ceil((Q-1)/n.PageSize):n.PageNumber}),r.Ay.destroy(),r.Ay.success(t.data.Message),a({...n,PageNumber:Math.ceil((Q-1)/n.PageSize)<n.PageNumber?Math.ceil((Q-1)/n.PageSize):n.PageNumber})):(r.Ay.destroy(),r.Ay.error(t.data.Message))})).catch((e=>{r.Ay.destroy(),r.Ay.error(e.toString())}))}});var l}})}):""]}),{DanhSachChucNang:O,TotalRow:Q,role:B}=e,F=n.PageNumber?parseInt(n.PageNumber):1,V=n.PageSize?parseInt(n.PageSize):(0,y.WT)(),Y=[{title:"STT",align:"center",width:"5%",render:(e,n,a)=>((e,n,a)=>null===n.ChucNangChaID?(0,M.jsx)("b",{children:n.TT}):(0,M.jsx)("p",{children:n.TT}))(0,n)},{title:"M\xe3 ch\u1ee9c n\u0103ng",align:"center",width:"10%",render:(e,n,a)=>((e,n,a)=>null===n.ChucNangChaID?(0,M.jsx)("b",{children:n.MaChucNang}):(0,M.jsx)("p",{children:n.MaChucNang}))(0,n)},{title:"T\xean ch\u1ee9c n\u0103ng",align:"left",width:"25%",render:(e,n,a)=>((e,n,a)=>null===n.ChucNangChaID?(0,M.jsx)("b",{children:n.TenChucNang}):(0,M.jsx)("p",{children:n.TenChucNang}))(0,n)},{title:"Icon tr\xean menu",dataIndex:"Icon",align:"center",width:"10%",render:(e,n,a)=>((e,n,a)=>null===n.ChucNangChaID?(0,M.jsx)("b",{children:n.Icon}):(0,M.jsx)("p",{children:n.Icon}))(0,n)},{title:"Th\u1ee9 t\u1ef1 hi\u1ec7n th\u1ecb",dataIndex:"ThuTuSapXep",align:"center",width:"6%",render:(e,n,a)=>((e,n,a)=>null===n.ChucNangChaID?(0,M.jsx)("b",{children:n.ThuTuSapXep}):(0,M.jsx)("p",{children:n.ThuTuSapXep}))(0,n)},{title:"Hi\u1ec3n th\u1ecb tr\xean menu",dataIndex:"HienThiTrenMenu",align:"center",width:"10%",render:(e,n)=>(0,M.jsx)(A.A,{checked:n.HienThiTrenMenu})},{title:"Thao t\xe1c",width:"10%",align:"center",render:(e,n)=>X(n)}];return(0,M.jsxs)(o.A,{children:[(0,M.jsxs)(R.A,{children:[(0,M.jsx)(d.A,{children:"QU\u1ea2N L\xdd CH\u1ee8C N\u0102NG"}),(0,M.jsx)(u.A,{children:B&&B.add?(0,M.jsxs)(m.$n,{type:"primary",onClick:()=>{N("add"),h({}),w(),v(!0)},children:[(0,M.jsx)(q.A,{}),"Th\xeam m\u1edbi"]}):""})]}),(0,M.jsxs)(g.A,{children:[(0,M.jsxs)(x.A,{children:[(0,M.jsxs)(C.Ay,{style:{width:"200px"},defaultValue:n.Status,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",allowClear:!0,onChange:e=>z(e,"Status"),children:[(0,M.jsx)(Option,{value:!0,children:"\u0110ang s\u1eed d\u1ee5ng"}),(0,M.jsx)(Option,{value:!1,children:"Kh\xf4ng s\u1eed d\u1ee5ng"})]}),(0,M.jsx)(m.NJ,{allowClear:!0,defaultValue:n.Keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean ch\u1ee9c n\u0103ng",style:{width:300},onSearch:e=>z(e,"Keyword")})]}),O&&O.length>0?(0,M.jsx)(p.Ay,{expandable:{childrenColumnName:"Children",defaultExpandAllRows:!0},size:"large",columns:Y,dataSource:O,onChange:(e,t,c)=>{let r=n,l={pagination:e,filters:t,sorter:c},h=(0,y.D5)(r,null,l);a(h),k([])},pagination:{showSizeChanger:!0,showTotal:(e,n)=>"T\u1eeb ".concat(n[0]," \u0111\u1ebfn ").concat(n[1]," tr\xean ").concat(e," k\u1ebft qu\u1ea3"),total:Q,current:F,pageSize:V}}):null]}),(0,M.jsx)(L,{visible:s,dataEdit:t,action:b,loading:I,onCreate:a=>{E(!0),"add"===b&&j.A.THemChucNang(a).then((a=>{E(!1),a.data.Status>0?(r.Ay.destroy(),r.Ay.success(a.data.Message),U(),e.getListData(n)):(E(!1),r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{E(!1),r.Ay.destroy(),r.Ay.error(e.toString())})),"edit"===b&&j.A.CapNhatChucNang(a).then((a=>{a.data.Status>0?(E(!1),r.Ay.destroy(),r.Ay.success(a.data.Message),U(),e.getListData(n)):(E(!1),r.Ay.destroy(),r.Ay.error(a.data.Message))})).catch((e=>{E(!1),r.Ay.destroy(),r.Ay.error(e.toString())}))},onCancel:U,DanhSachChucNang:O},S)]})}))},38674:(e,n,a)=>{a.d(n,{A:()=>i});var t=a(58168),c=a(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var l=a(56594),h=function(e,n){return c.createElement(l.A,(0,t.A)({},e,{ref:n,icon:r}))};const i=c.forwardRef(h)},21428:(e,n,a)=>{a.d(n,{A:()=>i});var t=a(58168),c=a(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var l=a(56594),h=function(e,n){return c.createElement(l.A,(0,t.A)({},e,{ref:n,icon:r}))};const i=c.forwardRef(h)},2782:(e,n,a)=>{a.d(n,{A:()=>i});var t=a(58168),c=a(82483);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var l=a(56594),h=function(e,n){return c.createElement(l.A,(0,t.A)({},e,{ref:n,icon:r}))};const i=c.forwardRef(h)},88701:(e,n,a)=>{a.d(n,{A:()=>t});const t=a(1011).A},63419:(e,n,a)=>{a.d(n,{A:()=>t});const t=a(53749).A}}]);