"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[1473],{11473:(n,e,i)=>{i.d(e,{A:()=>_});var l,t=i(82483),a=i(79948),s=i(72741),r=i(63419),d=i(88701),o=i(27957),c=i(256),h=i(65828),p=i(2370),u=i(69973),x=i(57528);const m=i(22953).Ay.div(l||(l=(0,x.A)(["\n  /* padding: 0 50px; */\n  .btns-end {\n    display: flex;\n    justify-content: flex-end;\n  }\n  .center-middle {\n    display: flex;\n    align-items: center;\n  }\n  .wrapper-top__info {\n    display: grid;\n    grid-template-columns: auto auto;\n  }\n  /* .wrapper-user__item {\n    width: 100%;\n  } */\n  /* .wrapper-user {\n    .wrapper-user__item {\n      display: grid;\n      grid-template-columns: 40% 40% 20%;\n      align-items: center;\n      margin-bottom: 20px;\n    }\n  } */\n  .line-break {\n    position: absolute;\n    width: 100%;\n    height: 1px;\n    background: #bdbdbd;\n    left: 0;\n    right: 0;\n  }\n  .ant-tabs-tab + .ant-tabs-tab {\n    margin: 0 !important;\n  }\n  .ant-tabs-tab {\n    height: 30px;\n    width: 200px;\n    justify-content: center;\n    align-items: center;\n  }\n  .ant-tabs-tab-active {\n    background: #0b57d0 !important;\n    padding: 0;\n    display: flex;\n    & > div {\n      color: #fff !important;\n    }\n  }\n  .wrapper-content__main {\n    table {\n      width: 100%;\n      td,\n      th {\n        border: 1px solid;\n      }\n    }\n  }\n  .title {\n    font-weight: 600;\n  }\n  .wrapper-content {\n    padding: 0px 15px;\n    & > .wrapper-content__main {\n      margin-top: 10px;\n    }\n    .title {\n      margin-top: 5px;\n      margin-bottom: 5px;\n    }\n    .content__top__title {\n      display: flex;\n      /* justify-content: space-around; */\n      .content__top__info {\n        margin-left: 50px;\n      }\n    }\n    .wrapper-content__table {\n      display: flex;\n      justify-content: space-between;\n      gap: 30px;\n      flex-wrap: wrap;\n      .table_left,\n      .table_right {\n        flex: 1;\n      }\n    }\n  }\n  .modal-wrapper {\n    padding: 0 50px;\n    overflow: hidden;\n    .line-break {\n      position: relative;\n      left: -50px;\n      width: calc(100% + 100px);\n      height: 1px;\n      background: rgb(189, 189, 189);\n      text-align: center;\n      margin: 10px 0;\n      display: flex;\n      justify-content: cente;\n    }\n  }\n  .btn-wrapper {\n    height: 100%;\n    display: flex;\n    align-items: end;\n    justify-content: end;\n  }\n  .title-wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .title {\n      font-weight: 600;\n    }\n  }\n  .box-file {\n    table {\n      border-collapse: collapse;\n    }\n    table th,\n    table td {\n      border: 1px solid #d7d7d7;\n    }\n  }\n  .file-item {\n    padding: 5px;\n  }\n  .file {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    p {\n      font-weight: 600;\n    }\n  }\n\n  .ant-form-title__left {\n    margin-bottom: 0;\n    .ant-form-item-row {\n      display: grid !important;\n    }\n    .ant-form-item-label {\n      text-align: left;\n    }\n    .ant-form-item-row {\n      width: 100%;\n    }\n    .ant-form-item-control-input-content {\n      width: 100%;\n      /* width: 450px; */\n      input {\n        height: 30px;\n      }\n    }\n  }\n\n  .group-title {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .title-content__breadCum {\n      font-size: 14px;\n      font-weight: 600;\n    }\n    button {\n      width: 80px !important;\n      height: 25px !important;\n    }\n  }\n  .wrapper-user {\n    margin-top: 10px;\n    .title {\n      display: grid;\n      grid-template-columns: 45.5% auto;\n      /* justify-content: space-between; */\n      p {\n        font-size: 13px;\n      }\n    }\n  }\n  .groups-user {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    .wrapper-select {\n      display: grid;\n      grid-template-columns: 450px 450px auto;\n      gap: 30px;\n      align-items: center;\n    }\n  }\n  .btn-delete {\n    justify-self: end;\n    justify-items: end;\n    button {\n      width: 80px;\n      height: 25px;\n    }\n  }\n\n  .file-wrapper {\n    margin-top: 30px;\n    .file-wrapper__top {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      p {\n        font-size: 13px;\n        font-weight: bold;\n      }\n    }\n    .file-wrapper__content {\n      table {\n        margin-top: 10px;\n        width: 100%;\n        border-collapse: collapse;\n        thead th {\n          border: 1px solid #797979;\n        }\n        tbody td {\n          border: 1px solid #797979;\n        }\n      }\n    }\n  }\n  .info-wrapper {\n    margin-top: 30px;\n  }\n  .user-report {\n    margin-top: 30px;\n  }\n  .ant-picker {\n    height: 30px;\n    width: 100%;\n  }\n"])));var g=i(33713),j=(i(94690),i(18570)),f=i(93474),v=i(87734),y=i(21428),b=i(38674),C=i(54686),D=i.n(C),w=i(6374),Q=i(56723);const{Item:N}=a.A,_=n=>{var e,i;const[l,x,C,_,A,k,T,H,I]=(0,w.U)(),[F,S]=(0,t.useState)([]),Y=(0,t.useRef)();(0,t.useEffect)((()=>{const{dataEdit:e}=n;e&&e.XuLyDonID&&(Y&&Y.current.setFieldsValue({...e,HanGiaiQuyet:e.HanGiaiQuyet?D()(e.HanGiaiQuyet):null,NgayQuyetDinh:e.NgayQuyetDinh?D()(e.NgayQuyetDinh):null}),I({DanhSachHoSoTaiLieu:e.DanhSachHoSoTaiLieu}),S(e.CQPhoiHopGQ?e.CQPhoiHopGQ:[]))}),[]);const{dataEdit:G,visible:q,fileKey:P,onCancel:E,DanhSachCoQuan:K,loading:M,TitleModal:L,checkCTHuyen:U}=n,V=null!==(e=n.dataEdit)&&void 0!==e&&e.isViewDetails?n.dataEdit.isViewDetails:null;return(0,Q.jsx)(h.aF,{title:L||"C\u1eadp nh\u1eadt v\u0103n b\u1ea3n giao x\xe1c minh",visible:q,className:"center-modal__footer",footer:V?(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)(p.A,{className:"btn-danger",onClick:()=>E(),children:"\u0110\xf3ng"})}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(p.A,{type:"primary",onClick:()=>(async()=>{const{onCreate:e,dataEdit:i}=n;Y.current.validateFields().then((n=>{const l={DanhSachHoSoTaiLieu:null===_||void 0===_?void 0:_.filter((n=>!(null!==n&&void 0!==n&&n.GroupID))),CQPhoiHopGQ:F,...n,type:null===i||void 0===i?void 0:i.type};l.HanGiaiQuyet=(0,j.Yq)(l.HanGiaiQuyet),l.NgayQuyetDinh=(0,j.Yq)(l.NgayQuyetDinh);for(const e in l)l[e]||delete l[e];e(l)})).catch((n=>console.log("errr",n)))})(),loading:M,icon:(0,Q.jsx)(v.A,{}),children:"L\u01b0u"}),(0,Q.jsx)(p.A,{className:"btn-danger",onClick:()=>E(),loading:M,children:"H\u1ee7y"})]}),width:800,padding:0,onCancel:()=>E(),children:(0,Q.jsx)(m,{children:(0,Q.jsx)(a.A,{ref:Y,children:(0,Q.jsxs)("div",{className:"modal-wrapper",children:[V?(0,Q.jsxs)("div",{className:"info-wrapper",children:[(0,Q.jsx)("p",{className:"title",children:"Th\xf4ng tin chung"}),(0,Q.jsxs)("div",{className:"wrapper-top__info",children:[(0,Q.jsxs)("p",{children:["S\u1ed1 v\u0103n b\u1ea3n: ",null===G||void 0===G?void 0:G.SoQuyetDinh]}),(0,Q.jsxs)("p",{children:["Ng\xe0y v\u0103n b\u1ea3n:"," ",null!==G&&void 0!==G&&G.NgayQuyetDinh?D()(null===G||void 0===G?void 0:G.NgayQuyetDinh).format("DD/MM/YYYY"):""]}),(0,Q.jsxs)("p",{children:["Ng\u01b0\u1eddi ban h\xe0nh: ",null===G||void 0===G?void 0:G.QuyetDinh]})]}),(0,Q.jsx)("div",{className:"line-break"}),(0,Q.jsx)("p",{className:"title",children:"C\u01a1 quan th\u1ef1c hi\u1ec7n x\xe1c minh"}),(0,Q.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,Q.jsxs)("table",{children:[(0,Q.jsx)("thead",{children:(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,Q.jsx)("th",{style:{width:"30%"},children:"T\xean c\u01a1 quan"}),(0,Q.jsx)("th",{style:{width:"30%"},children:"Vai tr\xf2"})]})}),null!==G&&void 0!==G&&G.CoQuanID?(0,Q.jsx)("tbody",{children:(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{style:{textAlign:"center"},children:1}),(0,Q.jsx)("td",{children:null!==G&&void 0!==G&&G.CoQuanID?null===(i=K.find((n=>n.CoQuanID===(null===G||void 0===G?void 0:G.CoQuanID))))||void 0===i?void 0:i.TenCoQuan:null}),(0,Q.jsx)("td",{children:"Ch\u1ee7 tr\xec"})]})}):null,F.map(((n,e)=>{var i;return(0,Q.jsx)("tbody",{children:(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{style:{textAlign:"center"},children:e+2}),(0,Q.jsx)("td",{children:null!==n&&void 0!==n&&n.CQPhoiHopID?null===(i=K.find((e=>e.CoQuanID===n.CQPhoiHopID)))||void 0===i?void 0:i.TenCoQuan:null}),(0,Q.jsx)("td",{children:"Ph\u1ee5 tr\xe1ch"})]})})}))]})}),(0,Q.jsx)("div",{className:"line-break"}),(0,Q.jsxs)("div",{className:"info-sub",children:[(0,Q.jsxs)("p",{children:["H\u1ea1n gi\u1ea3i quy\u1ebft:"," ",null!==G&&void 0!==G&&G.HanGiaiQuyet?D()(null===G||void 0===G?void 0:G.HanGiaiQuyet).format("DD/MM/YYYY"):null]}),(0,Q.jsxs)("p",{children:["Ghi ch\xfa: ",null===G||void 0===G?void 0:G.GhiChu]})]}),(0,Q.jsx)("div",{className:"line-break"}),(0,Q.jsx)("p",{className:"title",children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]}):(0,Q.jsx)(Q.Fragment,{}),V?null:(0,Q.jsxs)(Q.Fragment,{children:[U?null:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{className:"title-wrapper",children:(0,Q.jsx)("p",{className:"title",children:"Th\xf4ng tin chung: "})}),(0,Q.jsxs)(r.A,{gutter:[10,10],children:[(0,Q.jsx)(d.A,{lg:6,xs:12,children:(0,Q.jsx)(N,{label:"S\u1ed5 v\u0103n b\u1ea3n",name:"SoQuyetDinh",className:"ant-form-title__left",children:(0,Q.jsx)(o.A,{})})}),(0,Q.jsx)(d.A,{lg:6,xs:12,children:(0,Q.jsx)(N,{label:"Ng\xe0y v\u0103n b\u1ea3n",name:"NgayQuyetDinh",className:"ant-form-title__left",children:(0,Q.jsx)(h.lr,{format:"DD/MM/YYYY",placeholder:""})})}),(0,Q.jsx)(d.A,{lg:12,xs:24,children:(0,Q.jsx)(N,{label:"Ng\u01b0\u1eddi ban h\xe0nh",name:"QuyetDinh",className:"ant-form-title__left",children:(0,Q.jsx)(o.A,{})})})]}),(0,Q.jsx)("div",{className:"line-break"})]}),(0,Q.jsx)("div",{className:"title-wrapper",children:(0,Q.jsxs)("p",{className:"title",children:[U?"C\u01a1 quan \u0111\u01b0\u1ee3c giao: ":"C\u01a1 quan th\u1ef1c hi\u1ec7n x\xe1c minh:"," "]})}),(0,Q.jsxs)(r.A,{gutter:[10,10],children:[(0,Q.jsx)(d.A,{lg:18,xs:18,children:(0,Q.jsx)(N,{label:"C\u01a1 quan ch\u1ee7 tr\xec",name:"CoQuanID",className:"ant-form-title__left",rules:[g.REQUIRED],children:(0,Q.jsx)(u.Ay,{children:K&&K.map((n=>(0,Q.jsx)(u.c$,{value:null===n||void 0===n?void 0:n.CoQuanID,children:null===n||void 0===n?void 0:n.TenCoQuan})))})})}),(0,Q.jsxs)(d.A,{lg:24,xs:24,children:[(0,Q.jsxs)("div",{className:"title-wrapper",children:[(0,Q.jsx)("p",{className:"title",children:"C\xe1c c\u01a1 quan ph\u1ed1i h\u1ee3p"}),(0,Q.jsx)(p.A,{type:"primary",onClick:e=>{const{DanhSachCoQuan:i}=n,l=[...F],t=[];l.forEach((n=>{t.push(n.CQPhoiHopID)})),l.push({DanhSachCoQuan:i.filter((n=>!t.includes(null===n||void 0===n?void 0:n.CoQuanID)))}),S(l)},children:"Th\xeam c\u01a1 quan"})]}),(0,Q.jsx)(r.A,{gutter:[10,10],style:{marginTop:"10px"},children:F&&F.map(((e,i)=>{var l;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(d.A,{lg:18,xs:18,children:(0,Q.jsx)(u.Ay,{style:{width:"100%"},placeholder:"Ch\u1ecdn c\u01a1 quan",value:null===(l=F[i])||void 0===l?void 0:l.CQPhoiHopID,onChange:e=>((e,i)=>{const{DanhSachCoQuan:l}=n,t=[...F];t[e].CQPhoiHopID=i;const a=[];t.forEach((n=>{n.CQPhoiHopID&&a.push(n.CQPhoiHopID)})),t.filter(((n,e)=>n.CQPhoiHopID!==i)).forEach((n=>{const e=l.find((e=>(null===e||void 0===e?void 0:e.CoQuanID)===(null===n||void 0===n?void 0:n.CQPhoiHopID))),i=[...l.filter((n=>!a.includes(null===n||void 0===n?void 0:n.CoQuanID)))];e&&i.push(e);const t=null===i||void 0===i?void 0:i.sort(((n,e)=>{var i;return null===n||void 0===n||null===(i=n.TenCoQuan)||void 0===i?void 0:i.localeCompare(null===e||void 0===e?void 0:e.TenCoQuan)}));n.DanhSachCoQuan=t})),S(t)})(i,e),allowClear:!1,children:e.DanhSachCoQuan&&e.DanhSachCoQuan.map((n=>(0,Q.jsx)(u.c$,{value:null===n||void 0===n?void 0:n.CoQuanID,children:null===n||void 0===n?void 0:n.TenCoQuan})))})}),(0,Q.jsx)(d.A,{lg:6,xs:6,children:(0,Q.jsx)("div",{className:"btn-wrapper",children:(0,Q.jsx)(p.A,{className:"btn-danger",onClick:()=>(e=>{s.A.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a c\u01a1 quan n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:()=>{const{DanhSachCoQuan:i}=n,l=[...F];if(l){const n=l[e];l.filter(((n,i)=>i!==e)).forEach((e=>{if(e.DanhSachCoQuan){const l=[...e.DanhSachCoQuan];l.push(i.find((e=>(null===e||void 0===e?void 0:e.CoQuanID)===(null===n||void 0===n?void 0:n.CQPhoiHopID))));const t=null===l||void 0===l?void 0:l.sort(((n,e)=>{var i;return null===n||void 0===n||null===(i=n.TenCoQuan)||void 0===i?void 0:i.localeCompare(null===e||void 0===e?void 0:e.TenCoQuan)}));e.DanhSachCoQuan=t}})),null===l||void 0===l||l.splice(e,1),S(l)}}})})(i),children:"X\xf3a c\u01a1 quan"})})})]})}))})]})]}),(0,Q.jsxs)(r.A,{gutter:[10,10],children:[(0,Q.jsx)(d.A,{lg:6,span:12,children:(0,Q.jsx)(N,{name:"HanGiaiQuyet",label:U?"H\u1ea1n":"H\u1ea1n gi\u1ea3i quy\u1ebft",className:"ant-form-title__left",children:(0,Q.jsx)(h.lr,{format:"DD/MM/YYYY",placeholder:""})})}),(0,Q.jsx)(d.A,{lg:18,span:12,children:(0,Q.jsx)(N,{name:"GhiChu",label:"Ghi ch\xfa",className:"ant-form-title__left",children:(0,Q.jsx)(o.A,{})})})]}),(0,Q.jsx)("div",{className:"line-break"}),(0,Q.jsxs)("div",{className:"file",children:[(0,Q.jsx)("p",{children:"H\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,Q.jsx)(p.A,{type:"primary",onClick:()=>A(),children:"Th\xeam h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"})]})]}),_&&null!==_&&void 0!==_&&_.length?(0,Q.jsx)("div",{style:{marginTop:"10px"},className:"box-file",children:(0,Q.jsxs)("table",{children:[(0,Q.jsx)("thead",{children:(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("th",{style:{width:"5%"},children:"STT"}),(0,Q.jsx)("th",{style:{width:"30%"},children:"T\xean h\u1ed3 s\u01a1, t\xe0i li\u1ec7u"}),(0,Q.jsx)("th",{style:{width:"30%"},children:"File \u0111\xednh k\xe8m"}),(0,Q.jsx)("th",{style:{width:"25%"},children:"Ng\xe0y c\u1eadp nh\u1eadt"}),V?null:(0,Q.jsx)("th",{style:{width:"15%",textAlign:"center"},children:"Thao t\xe1c"})]})}),_.map(((n,e)=>(0,Q.jsxs)("tbody",{children:[(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{rowspan:n.FileDinhKem.length,style:{textAlign:"center"},children:e+1}),(0,Q.jsx)("td",{rowspan:n.FileDinhKem.length,children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.TenFile)}),(0,Q.jsx)("td",{children:(0,Q.jsx)("div",{className:"group-file",children:n.FileDinhKem[0]?(0,Q.jsx)("p",{className:"file-item",children:(0,Q.jsx)("a",{href:n.FileDinhKem[0].FileUrl,target:"_blank",children:n.FileDinhKem[0].name||n.FileDinhKem[0].TenFile})}):null})}),(0,Q.jsx)("td",{rowspan:n.FileDinhKem.length,children:(0,Q.jsx)("p",{children:D()().format("DD/MM/YYYY")})}),V?null:(0,Q.jsx)("td",{rowspan:n.FileDinhKem.length,style:{textAlign:"center"},children:(0,Q.jsxs)("div",{className:"action-btn",children:[(0,Q.jsx)(c.A,{title:"S\u1eeda h\u1ed3 s\u01a1,t\xe0i li\u1ec7u",children:(0,Q.jsx)(y.A,{onClick:()=>A(e)})}),(0,Q.jsx)(c.A,{title:"X\xf3a h\u1ed3 s\u01a1,t\xe0i li\u1ec7u",children:(0,Q.jsx)(b.A,{onClick:()=>H(n,e)})})]})})]}),n.FileDinhKem?n.FileDinhKem.map(((n,e)=>{if(e>0)return(0,Q.jsx)("tr",{children:(0,Q.jsx)("td",{children:(0,Q.jsx)("p",{className:"file-item",children:(0,Q.jsx)("a",{href:n.FileUrl,target:"_blank",children:n.name||n.TenFile})})})})})):null]})))]})}):"",(0,Q.jsx)(f.A,{visible:l,dataEdit:x,onCancel:k,onCreate:T},C)]})})})},P)}}}]);